var c=/iPhone/i,l=/iPod/i,p=/iPad/i,u=/\biOS-universal(?:.+)Mac\b/i,d=/\bAndroid(?:.+)Mobile\b/i,m=/Android/i,o=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,h=/Silk/i,r=/Windows Phone/i,b=/\bWindows(?:.+)ARM\b/i,f=/BlackBerry/i,v=/BB10/i,M=/Opera Mini/i,w=/\b(CriOS|Chrome)(?:.+)Mobile/i,O=/Mobile(?:.+)Firefox\b/i,y=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function g(i){return function(t){return t.test(i)}}function j(i){var t={userAgent:"",platform:"",maxTouchPoints:0};typeof navigator<"u"&&(t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0});var s=t.userAgent,n=s.split("[FBAN");typeof n[1]<"u"&&(s=n[0]),n=s.split("Twitter"),typeof n[1]<"u"&&(s=n[0]);var e=g(s),a={apple:{phone:e(c)&&!e(r),ipod:e(l),tablet:!e(c)&&(e(p)||y(t))&&!e(r),universal:e(u),device:(e(c)||e(l)||e(p)||e(u)||y(t))&&!e(r)},amazon:{phone:e(o),tablet:!e(o)&&e(h),device:e(o)||e(h)},android:{phone:!e(r)&&e(o)||!e(r)&&e(d),tablet:!e(r)&&!e(o)&&!e(d)&&(e(h)||e(m)),device:!e(r)&&(e(o)||e(h)||e(d)||e(m))||e(/\bokhttp\b/i)},windows:{phone:e(r),tablet:e(b),device:e(r)||e(b)},other:{blackberry:e(f),blackberry10:e(v),opera:e(M),firefox:e(O),chrome:e(w),device:e(f)||e(v)||e(M)||e(O)||e(w)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}function B(i,t,s){let n;return function(){const a=this,D=arguments,x=()=>{n=null,i.apply(a,D)};clearTimeout(n),n=setTimeout(x,t)}}function I(){return window.location.origin}class L{constructor(t){this.element=t||"js-ajax-search",this.DOM={html:document.documentElement,body:document.body,element:document.getElementById(this.element),searchMobile:document.getElementById("js-search-mobile"),searchClose:document.getElementById("js-search-close"),searchForm:document.getElementById("js-search-form"),searchDesktop:document.getElementById("js-search-desktop"),searchFormAjax:document.getElementById("js-ajax-search"),searchResult:document.getElementById("js-ajax-search-result"),searchInput:document.getElementById("js-ajax-search-input")},this.adminAjaxUrl=`${I()}/wp-admin/admin-ajax.php`,this.searchLoadingClass="is-search-loading",this.init(),window.addEventListener("resize",()=>{j().any?alert("asda"):(this.DOM.html.classList.remove("is-search-open"),this.DOM.searchForm.classList.remove("is-search-open"),this.init())})}init(){if(window.matchMedia("(max-width: 1024px)").matches?this.DOM.searchMobile&&this.DOM.searchMobile.append(this.DOM.searchFormAjax):this.DOM.searchDesktop&&this.DOM.searchDesktop.append(this.DOM.searchFormAjax),this.DOM.element.length===0)return;const t=B(()=>{this.search()},250);this.DOM.searchInput.addEventListener("input",()=>{this.DOM.html.classList.add("is-search-open"),this.DOM.searchForm.classList.add("is-search-open")}),this.DOM.searchInput.addEventListener("input",t),this.DOM.searchClose.addEventListener("click",()=>{this.DOM.searchValue=""})}search(){const t=this.DOM.searchInput.value;if(this.DOM.searchClose.addEventListener("click",()=>{this.DOM.searchValue=""}),t===""){this.DOM.searchResult.innerHTML="";return}this.beforeSend(),window.fetch(this.adminAjaxUrl,{method:"post",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:`action=data_fetch&keyword=${t}`}).then(s=>s.text()).then(s=>this.success(s)).catch(s=>{})}beforeSend(){this.DOM.element.classList.add(this.searchLoadingClass),this.DOM.searchResult.innerHTML=""}success(t){this.DOM.element.classList.remove(this.searchLoadingClass),this.DOM.searchResult.innerHTML=t}}export{L as default};
//# sourceMappingURL=ground-search.CiBTmNLl.chunk.js.map
