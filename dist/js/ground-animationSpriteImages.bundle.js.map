{"version":3,"file":"ground-animationSpriteImages.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEAC,qDAAA,CAAoBC,mDAApB;;IAEqBE;AACpB;AACD;AACA;AACA;AACC,4BAAYC,OAAZ,EAAqBC,OAArB,EAA8B;AAAA;;AAC7B,SAAKD,OAAL,GAAeA,OAAf;AACA,SAAKE,QAAL,GAAgB;AACfC,MAAAA,QAAQ,EAAE,KAAKH;AADA,KAAhB;AAGA,SAAKI,GAAL,GAAW;AACVC,MAAAA,IAAI,EAAEC,QAAQ,CAACC,eADL;AAEVC,MAAAA,IAAI,EAAEF,QAAQ,CAACE;AAFL,KAAX;AAIA,SAAKP,OAAL,GAAeA,OAAO,GAAGN,gDAAS,CAAC,KAAKO,QAAN,EAAgBD,OAAhB,CAAZ,GAAuC,KAAKC,QAAlE,CAT6B,CAU7B;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;;AACA,SAAKO,IAAL;AACA,SAAKC,UAAL,CAAgB,KAAKT,OAAL,CAAaE,QAA7B,EAtC6B,CAuC7B;AACA;AACA;AAED;AACD;AACA;;;;;WACC,gBAAO;AACN,WAAKC,GAAL,CAASJ,OAAT,GAAmB,KAAKA,OAAxB;AACA;AAED;AACD;AACA;AACA;;;;WACC,oBAAWG,QAAX,EAAqB;AACpB,WAAKQ,aAAL,CAAmBR,QAAnB,EADoB,CAGpB;AACA;AACA;AACA;AACA;AACA;AACA;AAED;AACD;AACA;AACA;;;;WACC,sBAAaS,MAAb,EAAqB;AAAA;;AACpB,WAAKH,IAAL;AACAI,MAAAA,UAAU,CAAC,YAAM;AAChB,aAAI,CAACF,aAAL,CAAmBC,MAAnB;AACA,OAFS,EAEP,IAFO,CAAV;AAGA;AAED;AACD;AACA;AACA;;;;WACC,uBAAcE,IAAd,EAAoB;AAEnB,UAAMC,WAAW,GAAGD,IAAI,CAACE,OAAL,CAAaC,MAAjC;AAEApB,MAAAA,0DAAA,CAAqB;AACpBsB,QAAAA,OAAO,EAAEL,IADW;AAEpBM,QAAAA,KAAK,EAAE,UAFa;AAGpBC,QAAAA,WAAW,EAAEN,WAHO;AAIpBO,QAAAA,aAAa,EAAE,qBAJK;AAKpBC,QAAAA,IAAI,EAAE,IALc,CAMpB;;AANoB,OAArB;AAQA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1GF;AACA;AACA;AACA;AAEA3B,qDAAA,CAAoBC,mDAApB;;IAEqB2B;;;;;AACpB;AACD;AACA;AACA;AACC,iCAAYxB,OAAZ,EAAqBC,OAArB,EAA8B;AAAA;;AAAA;;AAC7B,8BAAMD,OAAN,EAAeC,OAAf;AACA,UAAKD,OAAL,GAAeA,OAAO,IAAI,kCAA1B;AAF6B;AAG7B;AAED;AACD;AACA;;;;;WACE,uBAAcc,IAAd,EAAoB;AACpB,UAAMF,MAAM,GAAGE,IAAI,CAACW,aAAL,CAAmB,sBAAnB,CAAf;AACA,UAAMC,MAAM,GAAGZ,IAAI,CAACW,aAAL,CAAmB,sBAAnB,CAAf;AACA,UAAME,eAAe,GAAGb,IAAI,CAACW,aAAL,CAAmB,8BAAnB,CAAxB;AACA,UAAMG,OAAO,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAhB;AACA,UAAMC,UAAU,GAAGC,QAAQ,CAACjB,IAAI,CAACE,OAAL,CAAagB,YAAd,EAA4B,EAA5B,CAA3B;AACA,UAAMC,SAAS,GAAGnB,IAAI,CAACE,OAAL,CAAakB,UAA/B;AAEAR,MAAAA,MAAM,CAACS,KAAP,GAAe,GAAf;AACAT,MAAAA,MAAM,CAACU,MAAP,GAAgB,GAAhB;;AAEA,UAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD;AAAA,yBAAcL,SAAd,cAA2B,CAACK,KAAK,GAAG,CAAT,EAAYC,QAAZ,GAAuBC,QAAvB,CAAgC,CAAhC,EAAmC,GAAnC,CAA3B;AAAA,OAArB,CAXoB,CAYpB;;;AAEA,UAAMC,MAAM,GAAG,EAAf;AACA,UAAMC,MAAM,GAAG;AACdC,QAAAA,KAAK,EAAE;AADO,OAAf;;AAIA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,UAApB,EAAgCc,CAAC,EAAjC,EAAqC;AACpC,YAAMC,GAAG,GAAG,IAAIC,KAAJ,EAAZ;AACAD,QAAAA,GAAG,CAACE,GAAJ,GAAUV,YAAY,CAACO,CAAD,CAAtB;AACAH,QAAAA,MAAM,CAACO,IAAP,CAAYH,GAAZ;AACA;;AAED,UAAMI,EAAE,GAAGrD,+CAAA,CAAc;AACxBuD,QAAAA,aAAa,EAAE;AACdhC,UAAAA,OAAO,EAAEP,MADK;AAEdQ,UAAAA,KAAK,EAAE,eAFO;AAGdgC,UAAAA,GAAG,EAAE,QAHS;AAIdC,UAAAA,KAAK,EAAE,GAJO;AAKdC,UAAAA,GAAG,EAAE;AALS;AADS,OAAd,CAAX;AAUAL,MAAAA,EAAE,CAACM,EAAH,CACCb,MADD,EAEC;AACCC,QAAAA,KAAK,EAAEb,UAAU,GAAG,CADrB;AAEC0B,QAAAA,IAAI,EAAE,OAFP;AAGCC,QAAAA,QAAQ,EAAEC,MAHX;AAICC,QAAAA,QAAQ,EAAE;AAJX,OAFD,EAQC,UARD,EASEC,MATF,CASSjC,eATT,EAS0B;AAAEkC,QAAAA,KAAK,EAAE;AAAT,OAT1B,EAS2C;AAAEA,QAAAA,KAAK,EAAE,CAAT;AAAYF,QAAAA,QAAQ,EAAE;AAAtB,OAT3C,EASuE,UATvE;AAWAlB,MAAAA,MAAM,CAAC,CAAD,CAAN,CAAUqB,MAAV,GAAmBJ,MAAnB;;AAEA,eAASA,MAAT,GAAkB;AACjB9B,QAAAA,OAAO,CAACmC,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBrC,MAAM,CAACS,KAA/B,EAAsCT,MAAM,CAACU,MAA7C;AACAR,QAAAA,OAAO,CAACoC,SAAR,CAAkBvB,MAAM,CAACC,MAAM,CAACC,KAAR,CAAxB,EAAwC,CAAxC,EAA2C,CAA3C;AACA;AACD;;;;EAjEiD5C","sources":["webpack://ground/./js/animations/animationDefault.js","webpack://ground/./js/animations/animationSpriteImages.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\n// import { initObserver } from '../utilities/observer';\n// import { getTemplateUrl } from '../utilities/paths';\nimport deepmerge from 'deepmerge';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger } from 'gsap/all';\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class AnimationDefault {\n\t/**\n\t * @param {string} element - Selector\n\t * @param {Object} options - User options\n\t */\n\tconstructor(element, options) {\n\t\tthis.element = element;\n\t\tthis.defaults = {\n\t\t\ttriggers: this.element\n\t\t};\n\t\tthis.DOM = {\n\t\t\thtml: document.documentElement,\n\t\t\tbody: document.body\n\t\t};\n\t\tthis.options = options ? deepmerge(this.defaults, options) : this.defaults;\n\t\t// this.updateEvents = this.updateEvents.bind(this);\n\n\t\t// window.addEventListener('DOMContentLoaded', () => {});\n\n\t\t// ScrollTrigger.addEventListener('scrollStart', () => {});\n\n\t\t// ScrollTrigger.addEventListener('scrollEnd', () => {});\n\n\t\t// ScrollTrigger.addEventListener('refreshInit', () => {});\n\n\t\t// ScrollTrigger.addEventListener('refresh', () => {});\n\n\t\t// window.addEventListener('NAVIGATE_OUT', () => {\n\t\t// \t// ScrollTrigger.update();\n\t\t// \t// ScrollTrigger.refresh();\n\t\t// });\n\n\t\t// window.addEventListener('resize', () => {\n\t\t// \t// ScrollTrigger.update();\n\t\t// \t// ScrollTrigger.refresh();\n\t\t// });\n\n\t\t// window.addEventListener('NAVIGATE_IN', () => {});\n\n\t\t// window.addEventListener('NAVIGATE_END', () => {});\n\n\t\t//  window.addEventListener('LOADER_COMPLETE', () => {\n\t\tthis.init();\n\t\tthis.initEvents(this.options.triggers);\n\t\t// initObserver(this.options.triggers, this.updateEvents);\n\t\t//  });\n\t}\n\n\t/**\n\t * Init\n\t */\n\tinit() {\n\t\tthis.DOM.element = this.element;\n\t}\n\n\t/**\n\t * Initialize events\n\t * @param {string} triggers - Selectors\n\t */\n\tinitEvents(triggers) {\n\t\tthis.fireAnimation(triggers);\n\n\t\t// gsap.utils.toArray(triggers).forEach((element) => {\n\t\t// \tif (element.dataset.scroll === 'js-split-text') {\n\t\t// \t}  else {\n\t\t// \t\tthis.animationDefault(target);\n\t\t// \t}\n\t\t// });\n\t}\n\n\t/**\n\t * Update events\n\t * @param {Object} target - New selector\n\t */\n\tupdateEvents(target) {\n\t\tthis.init();\n\t\tsetTimeout(() => {\n\t\t\tthis.fireAnimation(target);\n\t\t}, 1000);\n\t}\n\n\t/**\n\t * Fire the animation\n\t * @param {node} item\n\t */\n\tfireAnimation(item) {\n\n\t\tconst targetClass = item.dataset.scroll;\n\n\t\tScrollTrigger.create({\n\t\t\ttrigger: item,\n\t\t\tstart: 'top 100%',\n\t\t\ttoggleClass: targetClass,\n\t\t\ttoggleActions: 'play none none none',\n\t\t\tonce: true\n\t\t\t// markers: true,\n\t\t});\n\t}\n}\n","/* eslint-disable no-unused-vars */\nimport AnimationDefault from './animationDefault';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger } from 'gsap/all';\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class AnimationSpriteImages extends AnimationDefault {\n\t/**\n\t * @param {string} element - Selector\n\t * @param {Object} options - User options\n\t */\n\tconstructor(element, options) {\n\t\tsuper(element, options);\n\t\tthis.element = element || '[data-scroll=\"js-sprite-images\"]';\n\t}\n\n\t/**\n\t * pin Image Sequence https://codepen.io/GreenSock/pen/yLOVJxd\n\t */\n\t fireAnimation(item) {\n\t\tconst target = item.querySelector('[data-scroll-target]');\n\t\tconst canvas = item.querySelector('[data-scroll-canvas]');\n\t\tconst targetContainer = item.querySelector('[data-scroll-target-animate]');\n\t\tconst context = canvas.getContext('2d');\n\t\tconst frameCount = parseInt(item.dataset.scrollFrames, 10);\n\t\tconst framePath = item.dataset.scrollPath;\n\n\t\tcanvas.width = 900;\n\t\tcanvas.height = 859;\n\n\t\tconst currentFrame = (index) => `${framePath}/${(index + 1).toString().padStart(4, '0')}.jpg`;\n\t\t// `https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/${(index + 1).toString().padStart(4, '0')}.jpg`\n\n\t\tconst images = [];\n\t\tconst frames = {\n\t\t\tframe: 0\n\t\t};\n\n\t\tfor (let i = 0; i < frameCount; i++) {\n\t\t\tconst img = new Image();\n\t\t\timg.src = currentFrame(i);\n\t\t\timages.push(img);\n\t\t}\n\n\t\tconst tl = gsap.timeline({\n\t\t\tscrollTrigger: {\n\t\t\t\ttrigger: target,\n\t\t\t\tstart: 'center center',\n\t\t\t\tend: '+=400%',\n\t\t\t\tscrub: 0.5,\n\t\t\t\tpin: true,\n\t\t\t}\n\t\t});\n\n\t\ttl.to(\n\t\t\tframes,\n\t\t\t{\n\t\t\t\tframe: frameCount - 1,\n\t\t\t\tsnap: 'frame',\n\t\t\t\tonUpdate: render,\n\t\t\t\tduration: 20\n\t\t\t},\n\t\t\t'together'\n\t\t).fromTo(targetContainer, { scale: 0.95 }, { scale: 1, duration: 20 }, 'together');\n\n\t\timages[0].onload = render;\n\n\t\tfunction render() {\n\t\t\tcontext.clearRect(0, 0, canvas.width, canvas.height);\n\t\t\tcontext.drawImage(images[frames.frame], 0, 0);\n\t\t}\n\t}\n\n}\n"],"names":["deepmerge","gsap","ScrollTrigger","registerPlugin","AnimationDefault","element","options","defaults","triggers","DOM","html","document","documentElement","body","init","initEvents","fireAnimation","target","setTimeout","item","targetClass","dataset","scroll","create","trigger","start","toggleClass","toggleActions","once","AnimationSpriteImages","querySelector","canvas","targetContainer","context","getContext","frameCount","parseInt","scrollFrames","framePath","scrollPath","width","height","currentFrame","index","toString","padStart","images","frames","frame","i","img","Image","src","push","tl","timeline","scrollTrigger","end","scrub","pin","to","snap","onUpdate","render","duration","fromTo","scale","onload","clearRect","drawImage"],"sourceRoot":""}