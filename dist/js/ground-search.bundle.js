"use strict";(self.webpackChunkground=self.webpackChunkground||[]).push([[201],{8639:function(e,t,s){s.r(t),s.d(t,{default:function(){return i}});var n=s(4747),a=s(3630);function c(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(t){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t||"js-ajax-search",this.DOM={html:document.documentElement,body:document.body,element:document.getElementById(this.element),searchMobile:document.getElementById("js-search-mobile"),searchClose:document.getElementById("js-search-close"),searchForm:document.getElementById("js-search-form"),searchDesktop:document.getElementById("js-search-desktop"),searchFormAjax:document.getElementById("js-ajax-search"),searchResult:document.getElementById("js-ajax-search-result"),searchInput:document.getElementById("js-ajax-search-input")},this.adminAjaxUrl="".concat("".concat(window.location.protocol,"//").concat(window.location.host),"/wp-admin/admin-ajax.php"),this.searchLoadingClass="is-search-loading",this.init(),window.addEventListener("resize",(function(){(0,a.Z)().any||(s.DOM.html.classList.remove("is-search-open"),s.DOM.searchForm.classList.remove("is-search-open"),s.init())}))}var t,s;return t=e,(s=[{key:"init",value:function(){var e=this;if(window.matchMedia("(max-width: 1024px)").matches?this.DOM.searchMobile&&this.DOM.searchMobile.append(this.DOM.searchFormAjax):this.DOM.searchDesktop&&this.DOM.searchDesktop.append(this.DOM.searchFormAjax),0!==this.DOM.element.length){var t,s,n,a=(t=function(){e.search()},250,function(){var e=this,a=arguments,c=function(){n=null,t.apply(e,a)},i=s;clearTimeout(n),n=setTimeout(c,250),i&&t.apply(e,a)});this.DOM.searchInput.addEventListener("input",(function(){e.DOM.html.classList.add("is-search-open"),e.DOM.searchForm.classList.add("is-search-open")})),this.DOM.searchInput.addEventListener("input",a),this.DOM.searchClose.addEventListener("click",(function(){e.DOM.searchValue=""}))}}},{key:"search",value:function(){var e=this,t=this.DOM.searchInput.value;this.DOM.searchClose.addEventListener("click",(function(){e.DOM.searchValue=""})),""!==t?(this.beforeSend(),window.fetch(this.adminAjaxUrl,{method:"post",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"action=data_fetch&keyword=".concat(t)}).then((function(e){return e.text()})).then((function(t){return e.success(t)})).catch((function(e){n.f&&console.error("ðŸ”¥Error:",e)}))):this.DOM.searchResult.innerHTML=""}},{key:"beforeSend",value:function(){this.DOM.element.classList.add(this.searchLoadingClass),this.DOM.searchResult.innerHTML=""}},{key:"success",value:function(e){this.DOM.element.classList.remove(this.searchLoadingClass),this.DOM.searchResult.innerHTML=e}}])&&c(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}]);
//# sourceMappingURL=ground-search.bundle.js.map