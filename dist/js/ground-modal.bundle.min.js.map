{"version":3,"file":"ground-modal.bundle.min.js","mappings":"mUAOA,IAAMA,EAAYC,EAAQ,KAELC,EAAAA,WAKpB,WAAYC,EAASC,I,4FAAS,SAC7BC,KAAKF,QAAUA,GAAW,eAC1BE,KAAKC,SAAW,CACfC,SAAUF,KAAKF,SAEhBE,KAAKG,IAAM,CACVC,KAAMC,SAASC,gBACfC,KAAMF,SAASE,MAEhBP,KAAKD,QAAUA,EAAUJ,EAAUK,KAAKC,SAAUF,GAAWC,KAAKC,SAClED,KAAKQ,O,yCAGN,WACCR,KAAKS,SAAW,IAAIC,EAAAA,EAAmB,CACtCC,QAASX,KAAKF,QACdc,SAAU,IACVC,UAAW,GACXC,WAAY,kBAAM,gCAGnBd,KAAKS,SAASM,GAAG,eAAe,SAACC,GAChC,IAAQC,EAAYD,EAAZC,QAER,GAAqB,UAAjBA,EAAQC,KAAkB,CAC7BF,EAAEG,iBAEFF,EAAQnB,QAAUO,SAASe,cAAc,OACzCH,EAAQnB,QAAQuB,UAAY,wBAE5B,IAAMC,EAASjB,SAASe,cAAc,UACtCE,EAAOC,aAAa,kBAAmB,IACvCD,EAAOC,aAAa,cAAe,KACnCD,EAAOC,aACN,QACA,4FAEDD,EAAOE,IAAMP,EAAQQ,KAAKD,IAC1BP,EAAQnB,QAAQ4B,YAAYJ,GAG7B,GAAqB,UAAjBL,EAAQC,KAAkB,CAC7BF,EAAEG,iBAEFF,EAAQnB,QAAUO,SAASe,cAAc,OACzCH,EAAQnB,QAAQuB,UAAY,wBAE5B,IAAMM,EAAQtB,SAASe,cAAc,SACrCO,EAAMN,UAAY,cAClBM,EAAMJ,aAAa,OAAQ,IAC3BI,EAAMJ,aAAa,WAAY,IAC/BI,EAAMJ,aAAa,WAAY,IAC/BN,EAAQnB,QAAQ4B,YAAYC,GAE5B,IAAMC,EAAcvB,SAASe,cAAc,UAC3CQ,EAAYJ,IAAMP,EAAQQ,KAAKD,IAC/BG,EAAMD,YAAYE,OAIpB5B,KAAKS,SAASD,S,qBAGf,WACCR,KAAKS,SAASoB,e,sEArEKhC","sources":["webpack://ground/./assets/js/components/modal.js"],"sourcesContent":["/**\n * Modal module\n * Lightbox library for presenting various types of media\n */\n\nimport PhotoSwipeLightbox from 'photoswipe/lightbox';\n\nconst Deepmerge = require('deepmerge');\n\nexport default class Modal {\n\t/**\n\t * @param {string} element - Selector\n\t * @param {Object} options - User options\n\t */\n\tconstructor(element, options) {\n\t\tthis.element = element || '[data-modal]';\n\t\tthis.defaults = {\n\t\t\ttriggers: this.element\n\t\t};\n\t\tthis.DOM = {\n\t\t\thtml: document.documentElement,\n\t\t\tbody: document.body\n\t\t};\n\t\tthis.options = options ? Deepmerge(this.defaults, options) : this.defaults;\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.lightbox = new PhotoSwipeLightbox({\n\t\t\tgallery: this.element, // Element, NodeList, or CSS selector (string)\n\t\t\tchildren: 'a',\n\t\t\tbgOpacity: 0.9,\n\t\t\tpswpModule: () => import('photoswipe')\n\t\t});\n\n\t\tthis.lightbox.on('contentLoad', (e) => {\n\t\t\tconst { content } = e;\n\n\t\t\tif (content.type === 'embed') {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tcontent.element = document.createElement('div');\n\t\t\t\tcontent.element.className = 'pswp__embed-container';\n\n\t\t\t\tconst iframe = document.createElement('iframe');\n\t\t\t\tiframe.setAttribute('allowfullscreen', '');\n\t\t\t\tiframe.setAttribute('frameborder', '0');\n\t\t\t\tiframe.setAttribute(\n\t\t\t\t\t'allow',\n\t\t\t\t\t'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture'\n\t\t\t\t);\n\t\t\t\tiframe.src = content.data.src;\n\t\t\t\tcontent.element.appendChild(iframe);\n\t\t\t}\n\n\t\t\tif (content.type === 'video') {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tcontent.element = document.createElement('div');\n\t\t\t\tcontent.element.className = 'pswp__video-container';\n\n\t\t\t\tconst video = document.createElement('video');\n\t\t\t\tvideo.className = 'pswp__video';\n\t\t\t\tvideo.setAttribute('loop', '');\n\t\t\t\tvideo.setAttribute('controls', '');\n\t\t\t\tvideo.setAttribute('autoplay', '');\n\t\t\t\tcontent.element.appendChild(video);\n\n\t\t\t\tconst videoSource = document.createElement('source');\n\t\t\t\tvideoSource.src = content.data.src;\n\t\t\t\tvideo.appendChild(videoSource);\n\t\t\t}\n\t\t});\n\n\t\tthis.lightbox.init();\n\t}\n\n\tdestroy() {\n\t\tthis.lightbox.destroy();\n\t}\n}\n"],"names":["Deepmerge","require","Modal","element","options","this","defaults","triggers","DOM","html","document","documentElement","body","init","lightbox","PhotoSwipeLightbox","gallery","children","bgOpacity","pswpModule","on","e","content","type","preventDefault","createElement","className","iframe","setAttribute","src","data","appendChild","video","videoSource","destroy"],"sourceRoot":""}