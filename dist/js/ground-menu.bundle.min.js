"use strict";(self.webpackChunkground=self.webpackChunkground||[]).push([[336],{691:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var a=n(630);function l(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"handleOnResizeMenu",function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=!1,i=function i(){null==t?a=!1:(e.apply(void 0,l(t)),t=null,setTimeout(i,n))};return function(){for(var l=arguments.length,s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];a?t=s:(e.apply(void 0,s),a=!0,setTimeout(i,n))}}((function(){n.resetTransformStyle([n.DOM.menuContainer,n.DOM.menuPanel]),n.DOM.html.classList.remove("is-navigation-open","is-sub-navigation-open","is-overlay-panel-open"),n.removeAllClass()}))),o(this,"multiLevelMenu",(function(e,t){var a=n.getUnitMeasure(t),l=null,i=null;if(e.target.parentNode.childNodes.forEach((function(e){e.classList&&e.classList.contains("navigation__sub-menu")&&(l=e),e.classList&&e.classList.contains("navigation__image")&&(i=e)})),l&&t){e.preventDefault(),e.target.parentElement.classList.add("level"+n.defaults.level),n.DOM.html.classList.add("is-sub-navigation-open"),l.classList.add("is-active"),i&&i.classList.add("is-active"),n.defaults.level++;var s=-100*n.defaults.level;t.style.cssText+="transform: translateX(".concat(s).concat(a,");"),n.DOM.menuBody.scrollTo({top:0,left:0,behavior:"smooth"})}})),o(this,"multiLevelBack",(function(e){var t=n.getUnitMeasure(e);if(n.defaults.level>0){n.defaults.level--,n.DOM.element.forEach((function(e){e.classList.contains("level"+n.defaults.level)&&(e.classList.remove("level"+n.defaults.level),e.childNodes.forEach((function(e){return e.classList&&e.classList.contains("is-active")?e.classList.remove("is-active"):null})))}));var a=-100*n.defaults.level;e.style.cssText+="transform: translateX(".concat(a).concat(t,");"),0==n.defaults.level&&n.DOM.html.classList.remove("is-sub-navigation-open")}})),this.element=t||".navigation__item.has-children",this.defaults={triggers:this.element,level:0},this.DOM={element:document.querySelectorAll(this.element),html:document.querySelector("html"),back:document.querySelectorAll(".js-back"),navicon:document.querySelector(".js-navicon"),menuBody:document.querySelector(".js-menu-body"),menuContainer:document.querySelector(".js-menu-container"),closeOverlayPanel:document.querySelector(".js-close-overlay-panel"),closePanel:document.querySelector(".js-close-panel"),menuPanel:document.querySelector(".js-navigation-panel")},this.unitMeasure={panel:"%",default:"vw"},this.init(),window.addEventListener("resize",this.handleOnResizeMenu)}var t,n;return t=e,(n=[{key:"resetTransformStyle",value:function(e){e.forEach((function(e){e&&(e.style.cssText+="transform: none")}))}},{key:"removeAllClass",value:function(){for(var e=this,t=function(t){e.DOM.element.forEach((function(e){e.classList.contains("level"+t)&&(e.classList.remove("level"+t),e.childNodes.forEach((function(e){return e.classList&&e.classList.contains("is-active")?e.classList.remove("is-active"):null})))}))},n=0;n<=this.defaults.level-1;n++)t(n);this.defaults.level=0}},{key:"getUnitMeasure",value:function(e){return e&&e.classList.contains("js-navigation-panel")?this.unitMeasure.panel:this.unitMeasure.default}},{key:"resetAll",value:function(e){e.stopImmediatePropagation(),this.DOM.html.classList.remove("is-sub-navigation-open","is-overlay-panel-open"),this.resetTransformStyle([this.DOM.menuContainer,this.DOM.menuPanel]),this.removeAllClass()}},{key:"handleLevelNavigation",value:function(){var e=this;this.DOM.element.forEach((function(t){var n=document.createElement("span");n.classList="js-drilldown",t.appendChild(n),t.addEventListener("click",(function(t){var n=t.target.className;n&&n.includes("js-drilldown")&&(t.stopImmediatePropagation(),t.preventDefault(),window.matchMedia("(max-width:1024px)").matches?e.multiLevelMenu(t,e.DOM.menuContainer):t.target.parentNode.classList.contains("navigation__item--panel-primary")&&e.multiLevelMenu(t,e.DOM.menuPanel))}))}))}},{key:"handleLevelBackNavigation",value:function(){var e=this;this.DOM.back.forEach((function(t){t.addEventListener("click",(function(t){t.stopImmediatePropagation(),window.matchMedia("(max-width:1024px)").matches?e.multiLevelBack(e.DOM.menuContainer):e.multiLevelBack(e.DOM.menuPanel)}))}))}},{key:"handleNaviconClick",value:function(){var e=this;this.DOM.navicon&&this.DOM.navicon.addEventListener("click",(function(t){return e.resetAll(t)}))}},{key:"handleCloseNavigationPanel",value:function(){var e=this;this.DOM.closePanel&&this.DOM.closePanel.addEventListener("click",(function(t){return e.resetAll(t)}))}},{key:"handleCloseOverlayPanel",value:function(){var e=this;this.DOM.closeOverlayPanel&&!(0,a.Z)().any&&this.DOM.closeOverlayPanel.addEventListener("click",(function(t){return e.resetAll(t)}))}},{key:"init",value:function(){this.DOM.element.length&&(this.handleLevelNavigation(),this.handleLevelBackNavigation(),this.handleNaviconClick(),this.handleCloseNavigationPanel(),this.handleCloseOverlayPanel())}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}]);
//# sourceMappingURL=ground-menu.bundle.min.js.map