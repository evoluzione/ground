"use strict";(self.webpackChunkground=self.webpackChunkground||[]).push([[336],{684:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var i=n(630);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"multiLevelMenu",(function(e,t){console.log("multiLevelMenu");var i=null,s=null;if(e.target.parentNode.childNodes.forEach((function(e){e.classList&&e.classList.contains("navigation__sub-menu")&&(i=e),e.classList&&e.classList.contains("navigation__image")&&(s=e)})),i&&t){e.preventDefault(),e.target.parentElement.classList.add("level"+n.defaults.level),n.DOM.html.classList.add("is-sub-navigation-open"),i.classList.add("is-active"),s&&s.classList.add("is-active"),n.defaults.level++;var a=-100*n.defaults.level;t.style.cssText+="transform: translateX("+a+"%);",n.DOM.menuBody.scrollTo({top:0,left:0,behavior:"smooth"})}})),a(this,"multiLevelBack",(function(e){if(console.log("multiLevelBack"),n.defaults.level>0){n.defaults.level--,n.DOM.element.forEach((function(e){e.classList.contains("level"+n.defaults.level)&&(e.classList.remove("level"+n.defaults.level),e.childNodes.forEach((function(e){return e.classList&&e.classList.contains("is-active")?e.classList.remove("is-active"):null})))}));var t=-100*n.defaults.level;e.style.cssText+="transform: translateX("+t+"%);",0==n.defaults.level&&n.DOM.html.classList.remove("is-sub-navigation-open")}})),this.element=t||".navigation__item.has-children",this.defaults={triggers:this.element,level:0},this.breakpoint="1024px",this.breakpoint="900px",this.DOM={element:document.querySelectorAll(this.element),html:document.querySelector("html"),back:document.querySelectorAll(".js-back"),navicon:document.querySelector(".js-navicon"),menuBody:document.querySelector(".js-menu-body"),menuContainer:document.querySelector(".js-menu-container"),closeOverviewPanel:document.querySelector(".js-close-overlay-panel"),closePanel:document.querySelector(".js-close-panel"),menuPanel:document.querySelector(".js-navigation-panel")},this.init(),window.addEventListener("resize",(function(){(0,i.Z)().any&&(n.DOM.menuContainer&&(n.DOM.menuContainer.style.cssText+="transform: none"),n.DOM.menuPanel&&(n.DOM.menuPanel.style.cssText+="transform: none"),n.DOM.html.classList.remove("is-navigation-open","is-sub-navigation-open","is-overlay-panel-open"),n.reset(),n.init())}))}var t,n;return t=e,(n=[{key:"reset",value:function(){for(var e=this,t=function(t){e.DOM.element.forEach((function(e){e.classList.contains("level"+t)&&(e.classList.remove("level"+t),e.childNodes.forEach((function(e){return e.classList&&e.classList.contains("is-active")?e.classList.remove("is-active"):null})))}))},n=0;n<=this.defaults.level-1;n++)t(n);this.defaults.level=0}},{key:"init",value:function(){0!==this.DOM.element.length&&(this.handleLevelNavigation(),this.handleLevelBackNavigation(),this.activateHoverNavigation(),this.handleResetAll())}},{key:"resetAll",value:function(e){e.stopImmediatePropagation(),this.DOM.html.classList.remove("is-sub-navigation-open"),this.DOM.menuContainer.style.cssText+="transform: none",this.DOM.menuPanel&&(this.DOM.menuPanel.style.cssText+="transform: none"),this.DOM.html.classList.remove("is-overlay-panel-open"),this.reset()}},{key:"handleLevelNavigation",value:function(){var e=this;this.DOM.element.forEach((function(t){t.addEventListener("click",(function(t){t.stopImmediatePropagation(),window.matchMedia("(max-width: "+e.breakpoint+")").matches?e.multiLevelMenu(t,e.DOM.menuContainer):t.target.parentNode.classList.contains("navigation__item--panel-primary")&&e.multiLevelMenu(t,e.DOM.menuPanel)}))}))}},{key:"handleLevelBackNavigation",value:function(){var e=this;this.DOM.back.forEach((function(t){t.addEventListener("click",(function(t){t.stopImmediatePropagation(),window.matchMedia("(max-width: "+e.breakpoint+")").matches?e.multiLevelBack(e.DOM.menuContainer):e.multiLevelBack(e.DOM.menuPanel)}))}))}},{key:"activateHoverNavigation",value:function(){var e=this;window.matchMedia("(min-width: "+this.breakpoint+")").matches&&this.DOM.element.forEach((function(t){var n=null;console.log(t),t.addEventListener("mouseenter",(function(){clearTimeout(n),e.DOM.html.classList.add("is-navigation-hover"),n=setTimeout((function(){t.classList.add("is-hover")}),200)})),t.addEventListener("mouseleave",(function(){clearTimeout(n),e.DOM.html.classList.remove("is-navigation-hover"),t.classList.contains("is-hover")&&(n=setTimeout((function(){t.classList.remove("is-hover")}),200))}))}))}},{key:"handleResetAll",value:function(){var e=this;this.DOM.navicon.addEventListener("click",(function(t){return e.resetAll(t)})),this.DOM.closePanel&&this.DOM.closePanel.addEventListener("click",(function(t){return e.resetAll(t)})),(0,i.Z)().any||this.DOM.closeOverviewPanel&&this.DOM.closeOverviewPanel.addEventListener("click",(function(t){t.stopImmediatePropagation(),e.DOM.html.classList.remove("is-sub-navigation-open"),e.DOM.menuContainer.style.cssText+="transform: none",e.DOM.menuPanel&&(e.DOM.menuPanel.style.cssText+="transform: none"),e.DOM.html.classList.remove("is-overlay-panel-open"),e.reset()}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}]);
//# sourceMappingURL=ground-menu.bundle.min.js.map