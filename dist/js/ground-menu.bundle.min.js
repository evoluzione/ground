"use strict";(self.webpackChunkground=self.webpackChunkground||[]).push([[336],{684:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var s=n(630);function a(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"multiLevelMenu",(function(e,t){var s=null,a=null;if(e.target.parentNode.childNodes.forEach((function(e){e.classList&&e.classList.contains("navigation__sub-menu")&&(s=e),e.classList&&e.classList.contains("navigation__image")&&(a=e)})),s&&t){e.preventDefault(),e.target.parentElement.classList.add("level"+n.defaults.level),n.DOM.html.classList.add("is-sub-navigation-open"),s.classList.add("is-active"),a&&a.classList.add("is-active"),n.defaults.level++;var i=-100*n.defaults.level;t.style.cssText+="transform: translateX("+i+"%);",n.DOM.menuBody.scrollTo({top:0,left:0,behavior:"smooth"})}})),i(this,"multiLevelBack",(function(e){if(n.defaults.level>0){n.defaults.level--,n.DOM.element.forEach((function(e){e.classList.contains("level"+n.defaults.level)&&(e.classList.remove("level"+n.defaults.level),e.childNodes.forEach((function(e){return e.classList&&e.classList.contains("is-active")?e.classList.remove("is-active"):null})))}));var t=-100*n.defaults.level;e.style.cssText+="transform: translateX("+t+"%);",0==n.defaults.level&&n.DOM.html.classList.remove("is-sub-navigation-open")}})),this.element=t||".navigation__item.has-children",this.defaults={triggers:this.element,level:0},this.DOM={element:document.querySelectorAll(this.element),html:document.querySelector("html"),back:document.querySelectorAll(".js-back"),navicon:document.querySelector(".js-navicon"),menuBody:document.querySelector(".js-menu-body"),menuContainer:document.querySelector(".js-menu-container"),closeOverviewPanel:document.querySelector(".js-close-overlay-panel"),closePanel:document.querySelector(".js-close-panel"),menuPanel:document.querySelector(".js-navigation-panel")},this.init(),window.addEventListener("resize",(function(){s.Z.any&&(n.DOM.menuContainer&&(n.DOM.menuContainer.style.cssText+="transform: none"),n.DOM.menuPanel&&(n.DOM.menuPanel.style.cssText+="transform: none"),n.DOM.html.classList.remove("is-navigation-open"),n.DOM.html.classList.remove("is-sub-navigation-open"),n.DOM.html.classList.remove("is-overlay-panel-open"),n.reset(),n.init())}))}var t,n;return t=e,(n=[{key:"reset",value:function(){for(var e=this,t=function(t){e.DOM.element.forEach((function(e){e.classList.contains("level"+t)&&(e.classList.remove("level"+t),e.childNodes.forEach((function(e){return e.classList&&e.classList.contains("is-active")?e.classList.remove("is-active"):null})))}))},n=0;n<=this.defaults.level-1;n++)t(n);this.defaults.level=0}},{key:"init",value:function(){var e=this;0!==this.DOM.element.length&&(this.DOM.element.forEach((function(t){t.addEventListener("click",(function(t){t.stopImmediatePropagation(),window.matchMedia("(max-width: 1024px)").matches?e.multiLevelMenu(t,e.DOM.menuContainer):t.target.parentNode.classList.contains("navigation__item--panel-primary")&&e.multiLevelMenu(t,e.DOM.menuPanel)}))})),this.DOM.back.forEach((function(t){t.addEventListener("click",(function(t){t.stopImmediatePropagation(),window.matchMedia("(max-width: 1024px)").matches?e.multiLevelBack(e.DOM.menuContainer):e.multiLevelBack(e.DOM.menuPanel)}))})),window.matchMedia("(min-width: 1024px)").matches&&this.DOM.element.forEach((function(t){var n=null;t.addEventListener("mouseenter",(function(){clearTimeout(n),e.DOM.html.classList.add("is-navigation-hover"),n=setTimeout((function(){t.classList.add("is-hover")}),200)})),t.addEventListener("mouseleave",(function(){clearTimeout(n),e.DOM.html.classList.remove("is-navigation-hover"),t.classList.contains("is-hover")&&(n=setTimeout((function(){t.classList.remove("is-hover")}),200))}))})),this.DOM.navicon.addEventListener("click",(function(t){t.stopImmediatePropagation(),e.DOM.html.classList.remove("is-sub-navigation-open"),e.DOM.menuContainer.style.cssText+="transform: none",e.DOM.menuPanel&&(e.DOM.menuPanel.style.cssText+="transform: none"),e.DOM.html.classList.remove("is-overlay-panel-open"),e.reset()})),this.DOM.closePanel&&this.DOM.closePanel.addEventListener("click",(function(t){t.stopImmediatePropagation(),e.DOM.html.classList.remove("is-sub-navigation-open"),e.DOM.menuContainer.style.cssText+="transform: none",e.DOM.menuPanel&&(e.DOM.menuPanel.style.cssText+="transform: none"),e.DOM.html.classList.remove("is-overlay-panel-open"),e.reset()})),(0,s.Z)().any||this.DOM.closeOverviewPanel&&this.DOM.closeOverviewPanel.addEventListener("click",(function(t){t.stopImmediatePropagation(),e.DOM.html.classList.remove("is-sub-navigation-open"),e.DOM.menuContainer.style.cssText+="transform: none",e.DOM.menuPanel&&(e.DOM.menuPanel.style.cssText+="transform: none"),e.DOM.html.classList.remove("is-overlay-panel-open"),e.reset()})))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}]);
//# sourceMappingURL=ground-menu.bundle.min.js.map