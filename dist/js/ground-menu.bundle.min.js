"use strict";(self.webpackChunkground=self.webpackChunkground||[]).push([[336],{684:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var a=n(630);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"multiLevelMenu",(function(e,t){var a=null,i=null;if(e.target.parentNode.childNodes.forEach((function(e){e.classList&&e.classList.contains("navigation__sub-menu")&&(a=e),e.classList&&e.classList.contains("navigation__image")&&(i=e)})),a&&t){e.preventDefault(),e.target.parentElement.classList.add("level"+n.defaults.level),n.DOM.html.classList.add("is-sub-navigation-open"),a.classList.add("is-active"),i&&i.classList.add("is-active"),n.defaults.level++;var l=-100*n.defaults.level;t.style.cssText+="transform: translateX("+l+"%);",n.DOM.menuBody.scrollTo({top:0,left:0,behavior:"smooth"})}})),l(this,"multiLevelBack",(function(e){if(n.defaults.level>0){n.defaults.level--,n.DOM.element.forEach((function(e){e.classList.contains("level"+n.defaults.level)&&(e.classList.remove("level"+n.defaults.level),e.childNodes.forEach((function(e){return e.classList&&e.classList.contains("is-active")?e.classList.remove("is-active"):null})))}));var t=-100*n.defaults.level;e.style.cssText+="transform: translateX("+t+"%);",0==n.defaults.level&&n.DOM.html.classList.remove("is-sub-navigation-open")}})),this.element=t||".navigation__item.has-children",this.defaults={triggers:this.element,level:0},this.DOM={element:document.querySelectorAll(this.element),html:document.querySelector("html"),back:document.querySelectorAll(".js-back"),navicon:document.querySelector(".js-navicon"),menuBody:document.querySelector(".js-menu-body"),menuContainer:document.querySelector(".js-menu-container"),closeOverlayPanel:document.querySelector(".js-close-overlay-panel"),closePanel:document.querySelector(".js-close-panel"),menuPanel:document.querySelector(".js-navigation-panel")},this.init(),window.addEventListener("resize",(function(){(0,a.Z)().any&&(n.resetTransformStyle([n.DOM.menuContainer,n.DOM.menuPanel]),n.DOM.html.classList.remove("is-navigation-open","is-sub-navigation-open","is-overlay-panel-open"),n.removeAllClass(),n.init())}))}var t,n;return t=e,(n=[{key:"resetTransformStyle",value:function(e){e.forEach((function(e){e&&(e.style.cssText+="transform: none")}))}},{key:"removeAllClass",value:function(){for(var e=this,t=function(t){e.DOM.element.forEach((function(e){e.classList.contains("level"+t)&&(e.classList.remove("level"+t),e.childNodes.forEach((function(e){return e.classList&&e.classList.contains("is-active")?e.classList.remove("is-active"):null})))}))},n=0;n<=this.defaults.level-1;n++)t(n);this.defaults.level=0}},{key:"resetAll",value:function(e){e.stopImmediatePropagation(),this.DOM.html.classList.remove("is-sub-navigation-open","is-overlay-panel-open"),this.resetTransformStyle([this.DOM.menuContainer,this.DOM.menuPanel]),this.removeAllClass()}},{key:"handleLevelNavigation",value:function(){var e=this;this.DOM.element.forEach((function(t){t.addEventListener("click",(function(t){t.stopImmediatePropagation(),window.matchMedia("(max-width:1024px)").matches?e.multiLevelMenu(t,e.DOM.menuContainer):t.target.parentNode.classList.contains("navigation__item--panel-primary")&&e.multiLevelMenu(t,e.DOM.menuPanel)}))}))}},{key:"handleLevelBackNavigation",value:function(){var e=this;this.DOM.back.forEach((function(t){t.addEventListener("click",(function(t){t.stopImmediatePropagation(),window.matchMedia("(max-width:1024px)").matches?e.multiLevelBack(e.DOM.menuContainer):e.multiLevelBack(e.DOM.menuPanel)}))}))}},{key:"activateHoverNavigation",value:function(){var e=this;window.matchMedia("(min-width:1024px)").matches&&this.DOM.element.forEach((function(t){var n=null;t.addEventListener("mouseenter",(function(){clearTimeout(n),e.DOM.html.classList.add("is-navigation-hover"),n=setTimeout((function(){t.classList.add("is-hover")}),200)})),t.addEventListener("mouseleave",(function(){clearTimeout(n),e.DOM.html.classList.remove("is-navigation-hover"),t.classList.contains("is-hover")&&(n=setTimeout((function(){t.classList.remove("is-hover")}),200))}))}))}},{key:"handleNaviconClick",value:function(){var e=this;this.DOM.navicon.addEventListener("click",(function(t){return e.resetAll(t)}))}},{key:"handleCloseNavigationPanel",value:function(){var e=this;this.DOM.closePanel&&this.DOM.closePanel.addEventListener("click",(function(t){return e.resetAll(t)}))}},{key:"handleCloseOverlayPanel",value:function(){var e=this;(0,a.Z)().any||this.DOM.closeOverlayPanel&&this.DOM.closeOverlayPanel.addEventListener("click",(function(t){return e.resetAll(t)}))}},{key:"init",value:function(){0!==this.DOM.element.length&&(this.handleLevelNavigation(),this.handleLevelBackNavigation(),this.activateHoverNavigation(),this.handleNaviconClick(),this.handleCloseNavigationPanel(),this.handleCloseOverlayPanel())}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}]);
//# sourceMappingURL=ground-menu.bundle.min.js.map