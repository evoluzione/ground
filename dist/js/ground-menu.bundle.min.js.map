{"version":3,"file":"ground-menu.bundle.min.js","mappings":"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","sources":["webpack://ground/./assets/js/components/menu.js"],"sourcesContent":["import isMobile from 'ismobilejs';\n\nexport default class Menu {\n\t/**\n\t * @param {string} element - Selector\n\t */\n\tconstructor(element) {\n\t\tthis.element = element || '.navigation__item.has-children';\n\t\tthis.defaults = {\n\t\t\ttriggers: this.element,\n\t\t\tlevel: 0\n\t\t};\n\n\t\tthis.breakpoint = '1024px';\n\t\tthis.breakpoint = '900px';\n\n\t\tthis.DOM = {\n\t\t\telement: document.querySelectorAll(this.element),\n\t\t\thtml: document.querySelector('html'),\n\t\t\tback: document.querySelectorAll('.js-back'),\n\t\t\tnavicon: document.querySelector('.js-navicon'),\n\t\t\tmenuBody: document.querySelector('.js-menu-body'),\n\t\t\tmenuContainer: document.querySelector('.js-menu-container'),\n\t\t\tcloseOverviewPanel: document.querySelector('.js-close-overlay-panel'),\n\t\t\tclosePanel: document.querySelector('.js-close-panel'),\n\t\t\tmenuPanel: document.querySelector('.js-navigation-panel')\n\t\t};\n\n\t\t// window.addEventListener('DOMContentLoaded', () => {\n\t\tthis.init();\n\t\t// });\n\n\t\twindow.addEventListener('resize', () => {\n\t\t\tif (!isMobile().any) return;\n\n\t\t\tif (this.DOM.menuContainer) this.DOM.menuContainer.style.cssText += 'transform: none';\n\t\t\tif (this.DOM.menuPanel) this.DOM.menuPanel.style.cssText += 'transform: none';\n\n\t\t\tthis.DOM.html.classList.remove('is-navigation-open', 'is-sub-navigation-open', 'is-overlay-panel-open');\n\n\t\t\tthis.reset();\n\t\t\tthis.init();\n\n\t\t});\n\t}\n\n\treset() {\n\t\tfor (let i = 0; i <= this.defaults.level - 1; i++) {\n\t\t\tthis.DOM.element.forEach((item) => {\n\n\t\t\t\tif (!item.classList.contains('level' + i)) return;\n\n\t\t\t\titem.classList.remove('level' + i);\n\n\t\t\t\titem.childNodes.forEach((t) =>\n\t\t\t\t\tt.classList && t.classList.contains('is-active') ? t.classList.remove('is-active') : null\n\t\t\t\t);\n\n\t\t\t});\n\t\t}\n\n\t\tthis.defaults.level = 0;\n\t}\n\n\tinit() {\n\n\t\tif (this.DOM.element.length === 0) return;\n\n\t\tthis.handleLevelNavigation();\n\n\t\tthis.handleLevelBackNavigation();\n\n\t\tthis.activateHoverNavigation();\n\n\t\tthis.handleResetAll();\n\n\t}\n\n\t/**\n\t * Gestione dei submenu delle navigation\n\t * @param {*} item l'elemento che ho cliccato \n\t * @param {*} menu il menu di riferimento\n\t * @returns \n\t */\n\tmultiLevelMenu = (item, menu) => {\n\n\t\tconsole.log('multiLevelMenu');\n\n\t\tlet subMenu = null;\n\t\tlet subMenuImage = null;\n\n\t\titem.target.parentNode.childNodes.forEach((sub) => {\n\t\t\tsub.classList && sub.classList.contains('navigation__sub-menu') ? (subMenu = sub) : null;\n\t\t\tsub.classList && sub.classList.contains('navigation__image') ? (subMenuImage = sub) : null;\n\t\t});\n\n\t\tif (!subMenu || !menu) return;\n\n\t\titem.preventDefault();\n\n\t\titem.target.parentElement.classList.add('level' + this.defaults.level);\n\t\tthis.DOM.html.classList.add('is-sub-navigation-open');\n\n\t\tsubMenu.classList.add('is-active');\n\t\tsubMenuImage && subMenuImage.classList.add('is-active');\n\n\t\tthis.defaults.level++;\n\t\tlet translation = -100 * this.defaults.level;\n\t\tmenu.style.cssText += 'transform: translateX(' + translation + '%);';\n\n\t\tthis.DOM.menuBody.scrollTo({\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tbehavior: 'smooth'\n\t\t});\n\n\t};\n\n\t/**\n\t * Gestione dei back\n\t * @param {*} menu il menu di riferimento\n\t */\n\tmultiLevelBack = (menu) => {\n\n\t\tconsole.log('multiLevelBack');\n\n\t\tif (this.defaults.level > 0) {\n\n\t\t\tthis.defaults.level--;\n\t\t\tthis.DOM.element.forEach((item) => {\n\t\t\t\tif (item.classList.contains('level' + this.defaults.level)) {\n\t\t\t\t\titem.classList.remove('level' + this.defaults.level);\n\t\t\t\t\titem.childNodes.forEach((t) =>\n\t\t\t\t\t\tt.classList && t.classList.contains('is-active') ? t.classList.remove('is-active') : null\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet translation = -100 * this.defaults.level;\n\t\t\tmenu.style.cssText += 'transform: translateX(' + translation + '%);';\n\n\t\t\tthis.defaults.level == 0 ? this.DOM.html.classList.remove('is-sub-navigation-open') : null;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Reset All\n\t * @param {*} e The event to stop\n\t */\n\tresetAll(e) {\n\t\te.stopImmediatePropagation();\n\n\t\tthis.DOM.html.classList.remove('is-sub-navigation-open');\n\t\tthis.DOM.menuContainer.style.cssText += 'transform: none';\n\t\tif (this.DOM.menuPanel) this.DOM.menuPanel.style.cssText += 'transform: none';\n\t\tthis.DOM.html.classList.remove('is-overlay-panel-open');\n\t\tthis.reset();\n\t}\n\n\t//Gestione livelli delle navigation\n\thandleLevelNavigation() {\n\n\t\tthis.DOM.element.forEach((item) => {\n\n\t\t\titem.addEventListener('click', (t) => {\n\t\t\t\tt.stopImmediatePropagation();\n\n\t\t\t\tif (window.matchMedia('(max-width: ' + this.breakpoint + ')').matches) {\n\t\t\t\t\t//Attivo la transtion sul container dell'header per il mobile\n\t\t\t\t\tthis.multiLevelMenu(t, this.DOM.menuContainer);\n\t\t\t\t} else {\n\t\t\t\t\t//Attivo la transtion sul panel-primary per il desk\n\t\t\t\t\tif (t.target.parentNode.classList.contains('navigation__item--panel-primary')) {\n\t\t\t\t\t\tthis.multiLevelMenu(t, this.DOM.menuPanel);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t}\n\n\t//Gestione livelli del back per le navigation\n\thandleLevelBackNavigation() {\n\n\t\tthis.DOM.back.forEach((b) => {\n\t\t\tb.addEventListener('click', (t) => {\n\t\t\t\tt.stopImmediatePropagation();\n\n\t\t\t\tif (window.matchMedia('(max-width: ' + this.breakpoint + ')').matches) {\n\t\t\t\t\t//Attivo il back transition sul container dell'header per il mobile\n\t\t\t\t\tthis.multiLevelBack(this.DOM.menuContainer);\n\t\t\t\t} else {\n\t\t\t\t\t//Attivo il back transtion sul panel-primary per il desk\n\t\t\t\t\tthis.multiLevelBack(this.DOM.menuPanel);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t}\n\n\t//Attivo l'hover nella navigation header solo del desk\n\tactivateHoverNavigation() {\n\n\t\tif (window.matchMedia('(min-width: ' + this.breakpoint + ')').matches) {\n\n\t\t\tthis.DOM.element.forEach((item) => {\n\t\t\t\tlet timerHandle = null;\n\n\t\t\t\tconsole.log(item);\n\n\t\t\t\titem.addEventListener('mouseenter', () => {\n\t\t\t\t\tclearTimeout(timerHandle);\n\t\t\t\t\tthis.DOM.html.classList.add('is-navigation-hover');\n\t\t\t\t\ttimerHandle = setTimeout(() => {\n\t\t\t\t\t\titem.classList.add('is-hover');\n\t\t\t\t\t}, 200);\n\t\t\t\t});\n\n\t\t\t\titem.addEventListener('mouseleave', () => {\n\t\t\t\t\tclearTimeout(timerHandle);\n\t\t\t\t\tthis.DOM.html.classList.remove('is-navigation-hover');\n\t\t\t\t\tif (item.classList.contains('is-hover')) {\n\t\t\t\t\t\ttimerHandle = setTimeout(() => {\n\t\t\t\t\t\t\titem.classList.remove('is-hover');\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\n\t}\n\n\thandleResetAll() {\n\n\t\t//Se clicco la navicon resetto tutto\n\t\tthis.DOM.navicon.addEventListener('click', (t) => this.resetAll(t));\n\n\t\t//Se clicco il close di navigation panel resetto tutto\n\t\tif (this.DOM.closePanel) this.DOM.closePanel.addEventListener('click', (t) => this.resetAll(t));\n\n\t\t//Se clicco l'overlay-panel di navigation panel resetto tutto - da fare solo se non sono mobile\n\t\tif (!isMobile().any) {\n\t\t\tif (this.DOM.closeOverviewPanel) {\n\t\t\t\tthis.DOM.closeOverviewPanel.addEventListener('click', (t) => {\n\t\t\t\t\tt.stopImmediatePropagation();\n\n\t\t\t\t\tthis.DOM.html.classList.remove('is-sub-navigation-open');\n\n\t\t\t\t\tthis.DOM.menuContainer.style.cssText += 'transform: none';\n\t\t\t\t\tif (this.DOM.menuPanel) this.DOM.menuPanel.style.cssText += 'transform: none';\n\t\t\t\t\tthis.DOM.html.classList.remove('is-overlay-panel-open');\n\n\t\t\t\t\tthis.reset();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n"],"names":["Menu","element","item","menu","console","log","subMenu","subMenuImage","target","parentNode","childNodes","forEach","sub","classList","contains","preventDefault","parentElement","add","defaults","level","DOM","html","translation","style","cssText","menuBody","scrollTo","top","left","behavior","remove","t","this","triggers","breakpoint","document","querySelectorAll","querySelector","back","navicon","menuContainer","closeOverviewPanel","closePanel","menuPanel","init","window","addEventListener","isMobile","any","reset","i","length","handleLevelNavigation","handleLevelBackNavigation","activateHoverNavigation","handleResetAll","e","stopImmediatePropagation","matchMedia","matches","multiLevelMenu","b","multiLevelBack","timerHandle","clearTimeout","setTimeout","resetAll"],"sourceRoot":""}