{"version":3,"file":"ground-menu.bundle.min.js","mappings":"gcAEqBA,EAAAA,WAIpB,WAAYC,GAAS,Y,4FAAA,kCAwEJ,SAACC,EAAMC,GACvB,IAAIC,EAAU,KACVC,EAAe,KAOnB,GALAH,EAAKI,OAAOC,WAAWC,WAAWC,SAAQ,SAACC,GAC1CA,EAAIC,WAAaD,EAAIC,UAAUC,SAAS,0BAA2BR,EAAUM,GAC7EA,EAAIC,WAAaD,EAAIC,UAAUC,SAAS,uBAAwBP,EAAeK,MAG5EN,GAAWD,EAAM,CACpBD,EAAKW,iBAELX,EAAKI,OAAOQ,cAAcH,UAAUI,IAAI,QAAU,EAAKC,SAASC,OAChE,EAAKC,IAAIC,KAAKR,UAAUI,IAAI,0BAE5BX,EAAQO,UAAUI,IAAI,aACtBV,GAAgBA,EAAaM,UAAUI,IAAI,aAE3C,EAAKC,SAASC,QACd,IAAIG,GAAe,IAAM,EAAKJ,SAASC,MACvCd,EAAKkB,MAAMC,SAAW,yBAA2BF,EAAc,MAE/D,EAAKF,IAAIK,SAASC,SAAS,CAC1BC,IAAK,EACLC,KAAM,EACNC,SAAU,eAjGQ,yBA0GJ,SAACxB,GACjB,GAAI,EAAKa,SAASC,MAAQ,EAAG,CAC5B,EAAKD,SAASC,QACd,EAAKC,IAAIjB,QAAQQ,SAAQ,SAACP,GACrBA,EAAKS,UAAUC,SAAS,QAAU,EAAKI,SAASC,SACnDf,EAAKS,UAAUiB,OAAO,QAAU,EAAKZ,SAASC,OAC9Cf,EAAKM,WAAWC,SAAQ,SAACoB,GAAD,OACvBA,EAAElB,WAAakB,EAAElB,UAAUC,SAAS,aAAeiB,EAAElB,UAAUiB,OAAO,aAAe,YAKxF,IAAIR,GAAe,IAAM,EAAKJ,SAASC,MACvCd,EAAKkB,MAAMC,SAAW,yBAA2BF,EAAc,MAExC,GAAvB,EAAKJ,SAASC,OAAa,EAAKC,IAAIC,KAAKR,UAAUiB,OAAO,8BAxH3DE,KAAK7B,QAAUA,GAAW,iCAC1B6B,KAAKd,SAAW,CACfe,SAAUD,KAAK7B,QACfgB,MAAO,GAGRa,KAAKZ,IAAM,CACVjB,QAAS+B,SAASC,iBAAiBH,KAAK7B,SACxCkB,KAAMa,SAASE,cAAc,QAC7BC,KAAMH,SAASC,iBAAiB,YAChCG,QAASJ,SAASE,cAAc,eAChCX,SAAUS,SAASE,cAAc,iBACjCG,cAAeL,SAASE,cAAc,sBACtCI,kBAAmBN,SAASE,cAAc,2BAC1CK,WAAYP,SAASE,cAAc,mBACnCM,UAAWR,SAASE,cAAc,yBAInCJ,KAAKW,OAMLC,OAAOC,iBAAiB,UAAU,WAEjC,EAAKC,oBAAoB,CAAC,EAAK1B,IAAImB,cAAe,EAAKnB,IAAIsB,YAC3D,EAAKtB,IAAIC,KAAKR,UAAUiB,OAAO,qBAAsB,yBAA0B,yBAC/E,EAAKiB,oB,wDAUP,SAAoBC,GACnBA,EAAYrC,SAAQ,SAACR,GAChBA,IACHA,EAAQoB,MAAMC,SAAW,wB,4BAQ5B,WACC,IADgB,sBACPyB,GACR,EAAK7B,IAAIjB,QAAQQ,SAAQ,SAACP,GACrBA,EAAKS,UAAUC,SAAS,QAAUmC,KACrC7C,EAAKS,UAAUiB,OAAO,QAAUmB,GAChC7C,EAAKM,WAAWC,SAAQ,SAACoB,GAAD,OACvBA,EAAElB,WAAakB,EAAElB,UAAUC,SAAS,aAAeiB,EAAElB,UAAUiB,OAAO,aAAe,aALhFmB,EAAI,EAAGA,GAAKjB,KAAKd,SAASC,MAAQ,EAAG8B,IAAK,EAA1CA,GAWTjB,KAAKd,SAASC,MAAQ,I,sBAkEvB,SAAS+B,GACRA,EAAEC,2BACFnB,KAAKZ,IAAIC,KAAKR,UAAUiB,OAAO,yBAA0B,yBACzDE,KAAKc,oBAAoB,CAACd,KAAKZ,IAAImB,cAAeP,KAAKZ,IAAIsB,YAC3DV,KAAKe,mB,mCAMN,WAAwB,WACvBf,KAAKZ,IAAIjB,QAAQQ,SAAQ,SAACP,GAIzB,IAAMgD,EAAOlB,SAASmB,cAAc,QACpCD,EAAKvC,UAAY,eACjBT,EAAKkD,YAAYF,GAEjBhD,EAAKyC,iBAAiB,SAAS,SAACd,GAC/B,IAAMlB,EAAYkB,EAAEvB,OAAO+C,UACP1C,GAAaA,EAAU2C,SAAS,kBAGnDzB,EAAEoB,2BACFpB,EAAEhB,iBAEE6B,OAAOa,WAAW,sBAAsBC,QAE3C,EAAKC,eAAe5B,EAAG,EAAKX,IAAImB,eAGhBR,EAAEvB,OAAOC,WAAWI,UAAUC,SAAS,oCAEtD,EAAK6C,eAAe5B,EAAG,EAAKX,IAAIsB,oB,uCAWtC,WAA4B,WAC3BV,KAAKZ,IAAIiB,KAAK1B,SAAQ,SAACiD,GACtBA,EAAEf,iBAAiB,SAAS,SAACd,GAC5BA,EAAEoB,2BAEEP,OAAOa,WAAW,sBAAsBC,QAE3C,EAAKG,eAAe,EAAKzC,IAAImB,eAG7B,EAAKsB,eAAe,EAAKzC,IAAIsB,mB,gCASjC,WAAqB,WACpBV,KAAKZ,IAAIkB,QAAQO,iBAAiB,SAAS,SAACK,GAAD,OAAO,EAAKY,SAASZ,Q,wCAIjE,WAA6B,WACxBlB,KAAKZ,IAAIqB,YACZT,KAAKZ,IAAIqB,WAAWI,iBAAiB,SAAS,SAACK,GAAD,OAAO,EAAKY,SAASZ,Q,qCAOrE,WAA0B,aACpBa,EAAAA,EAAAA,KAAWC,KAAOhC,KAAKZ,IAAIoB,mBAC/BR,KAAKZ,IAAIoB,kBAAkBK,iBAAiB,SAAS,SAACK,GAAD,OAAO,EAAKY,SAASZ,Q,kBAI5E,WACiC,IAA5BlB,KAAKZ,IAAIjB,QAAQ8D,SAIrBjC,KAAKkC,wBACLlC,KAAKmC,4BACLnC,KAAKoC,qBACLpC,KAAKqC,6BACLrC,KAAKsC,gC,sEAlOcpE","sources":["webpack://ground/./assets/js/components/menu.js"],"sourcesContent":["import isMobile from 'ismobilejs';\n\nexport default class Menu {\n\t/**\n\t * @param {string} element - Selector\n\t */\n\tconstructor(element) {\n\t\tthis.element = element || '.navigation__item.has-children';\n\t\tthis.defaults = {\n\t\t\ttriggers: this.element,\n\t\t\tlevel: 0\n\t\t};\n\n\t\tthis.DOM = {\n\t\t\telement: document.querySelectorAll(this.element),\n\t\t\thtml: document.querySelector('html'),\n\t\t\tback: document.querySelectorAll('.js-back'),\n\t\t\tnavicon: document.querySelector('.js-navicon'),\n\t\t\tmenuBody: document.querySelector('.js-menu-body'),\n\t\t\tmenuContainer: document.querySelector('.js-menu-container'),\n\t\t\tcloseOverlayPanel: document.querySelector('.js-close-overlay-panel'),\n\t\t\tclosePanel: document.querySelector('.js-close-panel'),\n\t\t\tmenuPanel: document.querySelector('.js-navigation-panel')\n\t\t};\n\n\t\t// window.addEventListener('DOMContentLoaded', () => {\n\t\tthis.init();\n\t\t// });\n\n\t\t/**\n\t\t * Bind the resize of the window to restore normal conditions\n\t\t */\n\t\twindow.addEventListener('resize', () => {\n\t\t\t// if (isMobile().any) {\n\t\t\tthis.resetTransformStyle([this.DOM.menuContainer, this.DOM.menuPanel]);\n\t\t\tthis.DOM.html.classList.remove('is-navigation-open', 'is-sub-navigation-open', 'is-overlay-panel-open');\n\t\t\tthis.removeAllClass();\n\t\t\t// this.init();\n\t\t\t// }\n\t\t});\n\t}\n\n\t/**\n\t * Add css style transform:none for each element\n\t * @param {array} elementList\n\t */\n\tresetTransformStyle(elementList) {\n\t\telementList.forEach((element) => {\n\t\t\tif (element) {\n\t\t\t\telement.style.cssText += 'transform: none';\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Remove all class to restore normal conditions\n\t */\n\tremoveAllClass() {\n\t\tfor (let i = 0; i <= this.defaults.level - 1; i++) {\n\t\t\tthis.DOM.element.forEach((item) => {\n\t\t\t\tif (item.classList.contains('level' + i)) {\n\t\t\t\t\titem.classList.remove('level' + i);\n\t\t\t\t\titem.childNodes.forEach((t) =>\n\t\t\t\t\t\tt.classList && t.classList.contains('is-active') ? t.classList.remove('is-active') : null\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.defaults.level = 0;\n\t}\n\n\t/**\n\t * Gestione dei submenu delle navigation\n\t * @param {*} item l'elemento che ho cliccato\n\t * @param {*} menu il menu di riferimento\n\t * @returns\n\t */\n\tmultiLevelMenu = (item, menu) => {\n\t\tlet subMenu = null;\n\t\tlet subMenuImage = null;\n\n\t\titem.target.parentNode.childNodes.forEach((sub) => {\n\t\t\tsub.classList && sub.classList.contains('navigation__sub-menu') ? (subMenu = sub) : null;\n\t\t\tsub.classList && sub.classList.contains('navigation__image') ? (subMenuImage = sub) : null;\n\t\t});\n\n\t\tif (subMenu && menu) {\n\t\t\titem.preventDefault();\n\n\t\t\titem.target.parentElement.classList.add('level' + this.defaults.level);\n\t\t\tthis.DOM.html.classList.add('is-sub-navigation-open');\n\n\t\t\tsubMenu.classList.add('is-active');\n\t\t\tsubMenuImage && subMenuImage.classList.add('is-active');\n\n\t\t\tthis.defaults.level++;\n\t\t\tlet translation = -100 * this.defaults.level;\n\t\t\tmenu.style.cssText += 'transform: translateX(' + translation + '%);';\n\n\t\t\tthis.DOM.menuBody.scrollTo({\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Gestione dei back\n\t * @param {*} menu il menu di riferimento\n\t */\n\tmultiLevelBack = (menu) => {\n\t\tif (this.defaults.level > 0) {\n\t\t\tthis.defaults.level--;\n\t\t\tthis.DOM.element.forEach((item) => {\n\t\t\t\tif (item.classList.contains('level' + this.defaults.level)) {\n\t\t\t\t\titem.classList.remove('level' + this.defaults.level);\n\t\t\t\t\titem.childNodes.forEach((t) =>\n\t\t\t\t\t\tt.classList && t.classList.contains('is-active') ? t.classList.remove('is-active') : null\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet translation = -100 * this.defaults.level;\n\t\t\tmenu.style.cssText += 'transform: translateX(' + translation + '%);';\n\n\t\t\tthis.defaults.level == 0 ? this.DOM.html.classList.remove('is-sub-navigation-open') : null;\n\t\t}\n\t};\n\n\t/**\n\t * Reset All\n\t * @param {*} e The event to stop\n\t */\n\tresetAll(e) {\n\t\te.stopImmediatePropagation();\n\t\tthis.DOM.html.classList.remove('is-sub-navigation-open', 'is-overlay-panel-open');\n\t\tthis.resetTransformStyle([this.DOM.menuContainer, this.DOM.menuPanel]);\n\t\tthis.removeAllClass();\n\t}\n\n\t/**\n\t * Gestione dei livelli del drilldown - navigation items\n\t */\n\thandleLevelNavigation() {\n\t\tthis.DOM.element.forEach((item) => {\n\t\t\t/**\n\t\t\t * Create a span to handle drilldown and preserve link to navigate\n\t\t\t */\n\t\t\tconst span = document.createElement('span');\n\t\t\tspan.classList = 'js-drilldown';\n\t\t\titem.appendChild(span);\n\n\t\t\titem.addEventListener('click', (t) => {\n\t\t\t\tconst classList = t.target.className;\n\t\t\t\tconst isDrilldown = classList && classList.includes('js-drilldown');\n\n\t\t\t\tif (isDrilldown) {\n\t\t\t\t\tt.stopImmediatePropagation();\n\t\t\t\t\tt.preventDefault();\n\n\t\t\t\t\tif (window.matchMedia('(max-width:1024px)').matches) {\n\t\t\t\t\t\t//Attivo la transtion sul container dell'header per il mobile\n\t\t\t\t\t\tthis.multiLevelMenu(t, this.DOM.menuContainer);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//Attivo la transtion sul panel-primary per il desk\n\t\t\t\t\t\tconst isPanel = t.target.parentNode.classList.contains('navigation__item--panel-primary');\n\t\t\t\t\t\tif (isPanel) {\n\t\t\t\t\t\t\tthis.multiLevelMenu(t, this.DOM.menuPanel);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Gestione dei livelli del drilldown - Back btn\n\t */\n\thandleLevelBackNavigation() {\n\t\tthis.DOM.back.forEach((b) => {\n\t\t\tb.addEventListener('click', (t) => {\n\t\t\t\tt.stopImmediatePropagation();\n\n\t\t\t\tif (window.matchMedia('(max-width:1024px)').matches) {\n\t\t\t\t\t//Attivo il back transition sul container dell'header per il mobile\n\t\t\t\t\tthis.multiLevelBack(this.DOM.menuContainer);\n\t\t\t\t} else {\n\t\t\t\t\t//Attivo il back transtion sul panel-primary per il desk\n\t\t\t\t\tthis.multiLevelBack(this.DOM.menuPanel);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Se clicco la navicon resetto tutto\n\t */\n\thandleNaviconClick() {\n\t\tthis.DOM.navicon.addEventListener('click', (e) => this.resetAll(e));\n\t}\n\n\t//Se clicco il close di navigation panel resetto tutto\n\thandleCloseNavigationPanel() {\n\t\tif (this.DOM.closePanel) {\n\t\t\tthis.DOM.closePanel.addEventListener('click', (e) => this.resetAll(e));\n\t\t}\n\t}\n\n\t/**\n\t * Se clicco l'overlay-panel di navigation panel resetto tutto (solo NON mobile)\n\t */\n\thandleCloseOverlayPanel() {\n\t\tif (!isMobile().any && this.DOM.closeOverlayPanel) {\n\t\t\tthis.DOM.closeOverlayPanel.addEventListener('click', (e) => this.resetAll(e));\n\t\t}\n\t}\n\n\tinit() {\n\t\tif (this.DOM.element.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.handleLevelNavigation();\n\t\tthis.handleLevelBackNavigation();\n\t\tthis.handleNaviconClick();\n\t\tthis.handleCloseNavigationPanel();\n\t\tthis.handleCloseOverlayPanel();\n\t}\n}\n"],"names":["Menu","element","item","menu","subMenu","subMenuImage","target","parentNode","childNodes","forEach","sub","classList","contains","preventDefault","parentElement","add","defaults","level","DOM","html","translation","style","cssText","menuBody","scrollTo","top","left","behavior","remove","t","this","triggers","document","querySelectorAll","querySelector","back","navicon","menuContainer","closeOverlayPanel","closePanel","menuPanel","init","window","addEventListener","resetTransformStyle","removeAllClass","elementList","i","e","stopImmediatePropagation","span","createElement","appendChild","className","includes","matchMedia","matches","multiLevelMenu","b","multiLevelBack","resetAll","isMobile","any","length","handleLevelNavigation","handleLevelBackNavigation","handleNaviconClick","handleCloseNavigationPanel","handleCloseOverlayPanel"],"sourceRoot":""}