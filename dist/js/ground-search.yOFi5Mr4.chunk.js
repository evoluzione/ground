var h=/iPhone/i,u=/iPod/i,p=/iPad/i,m=/\biOS-universal(?:.+)Mac\b/i,l=/\bAndroid(?:.+)Mobile\b/i,f=/Android/i,r=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,o=/Windows Phone/i,b=/\bWindows(?:.+)ARM\b/i,v=/BlackBerry/i,M=/BB10/i,w=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,O=/Mobile(?:.+)Firefox\b/i,D=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function A(t){return function(s){return s.test(t)}}function T(t){var s={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?s={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?s.userAgent=t:t&&t.userAgent&&(s={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var i=s.userAgent,n=i.split("[FBAN");typeof n[1]<"u"&&(i=n[0]),n=i.split("Twitter"),typeof n[1]<"u"&&(i=n[0]);var e=A(i),a={apple:{phone:e(h)&&!e(o),ipod:e(u),tablet:!e(h)&&(e(p)||D(s))&&!e(o),universal:e(m),device:(e(h)||e(u)||e(p)||e(m)||D(s))&&!e(o)},amazon:{phone:e(r),tablet:!e(r)&&e(c),device:e(r)||e(c)},android:{phone:!e(o)&&e(r)||!e(o)&&e(l),tablet:!e(o)&&!e(r)&&!e(l)&&(e(c)||e(f)),device:!e(o)&&(e(r)||e(c)||e(l)||e(f))||e(/\bokhttp\b/i)},windows:{phone:e(o),tablet:e(b),device:e(o)||e(b)},other:{blackberry:e(v),blackberry10:e(M),opera:e(w),firefox:e(O),chrome:e(y),device:e(v)||e(M)||e(w)||e(O)||e(y)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}function j(){return`${window.location.protocol}//${window.location.host}`}function B(t,s,i){let n;return function(){const a=this,d=arguments,g=()=>{n=null,i||t.apply(a,d)},x=i&&!n;clearTimeout(n),n=setTimeout(g,s),x&&t.apply(a,d)}}class I{constructor(s){this.element=s||"js-ajax-search",this.DOM={html:document.documentElement,body:document.body,element:document.getElementById(this.element),searchMobile:document.getElementById("js-search-mobile"),searchClose:document.getElementById("js-search-close"),searchForm:document.getElementById("js-search-form"),searchDesktop:document.getElementById("js-search-desktop"),searchFormAjax:document.getElementById("js-ajax-search"),searchResult:document.getElementById("js-ajax-search-result"),searchInput:document.getElementById("js-ajax-search-input")},this.adminAjaxUrl=`${j()}/wp-admin/admin-ajax.php`,this.searchLoadingClass="is-search-loading",this.init(),window.addEventListener("resize",()=>{T().any?alert("asda"):(this.DOM.html.classList.remove("is-search-open"),this.DOM.searchForm.classList.remove("is-search-open"),this.init())})}init(){if(window.matchMedia("(max-width: 1024px)").matches?this.DOM.searchMobile&&this.DOM.searchMobile.append(this.DOM.searchFormAjax):this.DOM.searchDesktop&&this.DOM.searchDesktop.append(this.DOM.searchFormAjax),this.DOM.element.length===0)return;const s=B(()=>{this.search()},250);this.DOM.searchInput.addEventListener("input",()=>{this.DOM.html.classList.add("is-search-open"),this.DOM.searchForm.classList.add("is-search-open")}),this.DOM.searchInput.addEventListener("input",s),this.DOM.searchClose.addEventListener("click",()=>{this.DOM.searchValue=""})}search(){const s=this.DOM.searchInput.value;if(this.DOM.searchClose.addEventListener("click",()=>{this.DOM.searchValue=""}),s===""){this.DOM.searchResult.innerHTML="";return}this.beforeSend(),window.fetch(this.adminAjaxUrl,{method:"post",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:`action=data_fetch&keyword=${s}`}).then(i=>i.text()).then(i=>this.success(i)).catch(i=>{})}beforeSend(){this.DOM.element.classList.add(this.searchLoadingClass),this.DOM.searchResult.innerHTML=""}success(s){this.DOM.element.classList.remove(this.searchLoadingClass),this.DOM.searchResult.innerHTML=s}}export{I as default};
//# sourceMappingURL=ground-search.yOFi5Mr4.chunk.js.map
