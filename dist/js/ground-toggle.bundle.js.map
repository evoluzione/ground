{"version":3,"file":"ground-toggle.bundle.js","mappings":"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,QAAQ,GAAG,IAAIC,gBAAJ,CAAqBR,gBAArB,CAAjB;AACAO,EAAAA,QAAQ,CAACE,OAAT,CAAiB9C,QAAQ,CAACC,eAA1B,EAA2CsC,MAA3C,EAlDgD,CAmDhD;AACA;;;;;;;;;;AC3DY;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE,IAAI;AACN;;AAEA;;AAEA","sources":["webpack://ground/./js/components/toggle.js","webpack://ground/./js/utilities/observer.js","webpack://ground/./node_modules/deepmerge/dist/cjs.js"],"sourcesContent":["/**\n * Toggle module\n */\nimport { initObserver } from '../utilities/observer';\nconst Deepmerge = require('deepmerge');\n\nexport default class Toggle {\n\t/**\n\t * @param {string} element - Selector\n\t * @param {Object} options - User options\n\t */\n\tconstructor(element, options) {\n\n\t\tthis.element = element || '.js-toggle';\n\t\tthis.defaults = {\n\t\t\ttriggers: this.element,\n\t\t\ttoggleClassName: 'is-active'\n\t\t};\n\t\tthis.DOM = {\n\t\t\thtml: document.documentElement,\n\t\t\tbody: document.body\n\t\t};\n\t\tthis.options = options ? Deepmerge(this.defaults, options) : this.defaults;\n\t\tthis.updateEvents = this.updateEvents.bind(this);\n\t\tthis.toggle = this.toggle.bind(this);\n\n\t\t// window.addEventListener('DOMContentLoaded', () => {\n\t\tthis.init();\n\t\tthis.initEvents(this.options.triggers);\n\t\tinitObserver(this.options.triggers, this.updateEvents);\n\t\t// });\n\t}\n\n\tinit() {\n\t\tthis.DOM.element = document.querySelectorAll(this.element);\n\t}\n\n\t/**\n\t * Initialize events\n\t * @param {string} triggers - Selectors\n\t */\n\tinitEvents(triggers) {\n\t\tconst elements = document.querySelectorAll(triggers);\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\telements[i].addEventListener('click', this.toggle);\n\t\t}\n\t}\n\n\t/**\n\t * Update events\n\t * @param {Object} target - New selector\n\t */\n\tupdateEvents(target) {\n\t\tthis.init();\n\t\ttarget.addEventListener('click', this.toggle);\n\t}\n\n\t/**\n\t * Toggle classes\n\t * @param {Object} event\n\t */\n\ttoggle(event) {\n\t\tthis.DOM.element = document.querySelectorAll(this.element);\n\n\t\tif (this.DOM.element.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst curent = event.currentTarget;\n\t\tif (curent) {\n\t\t\t// Add data-toggle-prevent-default=\"false\" to restore default behaviour\n\t\t\tif (!curent.hasAttribute('data-toggle-prevent-default')) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\t// Add data-toggle-class-name=\"customclass\" to change the default class name\n\t\t\tif (curent.hasAttribute('data-toggle-class-name')) {\n\t\t\t\tthis.options.toggleClassName = curent.dataset.toggleClassName;\n\t\t\t}\n\n\t\t\t// Add data-toggle-target=\".selector1 #selector2\" to toggle different target\n\t\t\tif (curent.hasAttribute('data-toggle-target')) {\n\t\t\t\tconst targetList = curent.dataset.toggleTarget.split(' ');\n\n\t\t\t\tfor (let i = 0; i < targetList.length; i++) {\n\t\t\t\t\tconst target = document.querySelectorAll(targetList[i]);\n\n\t\t\t\t\tfor (let ib = 0; ib < target.length; ib++) {\n\t\t\t\t\t\ttarget[ib].classList.toggle(this.options.toggleClassName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurent.classList.toggle(this.options.toggleClassName);\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * Observe DOM Node Changes\n * @param {string} triggers - Selectors\n * @param {requestCallback} cb - The callback that handles the response.\n *\n * @see https://stackoverflow.com/questions/56608748/how-to-use-queryselectorall-on-the-added-nodes-in-a-mutationobserver\n */\nexport function initObserver(triggers, callback) {\n\tconst filterSelector = (selector, mutationsList) => {\n\t\t// We can't create a NodeList; let's use a Set\n\t\tconst result = new Set();\n\t\t// Loop through the mutationsList...\n\t\tfor (const { addedNodes } of mutationsList) {\n\t\t\tfor (const node of addedNodes) {\n\t\t\t\t// console.log(node);\n\n\t\t\t\t// If it's an element...\n\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\t// Add it if it's a match\n\t\t\t\t\tif (node.matches(selector)) {\n\t\t\t\t\t\tresult.add(node);\n\t\t\t\t\t}\n\t\t\t\t\t// Add any children\n\t\t\t\t\tfor (const entry of node.querySelectorAll(selector)) {\n\t\t\t\t\t\tresult.add(entry);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/* mutationsList.map((e) => e.addedNodes).forEach((n) => {\n\t\t\t\tif (n.nodeType === 1) {\n\t\t\t\t\tif (n.matches(selector)) {\n\t\t\t\t\t\tresult.add(n);\n\t\t\t\t\t}\n\t\t\t\t\t// Add any children\n\t\t\t\t\tn.querySelectorAll(selector).forEach((c) => result.add(c));\n\t\t\t\t}\n\t\t\t}); */\n\n\t\treturn [...result]; // Result is an array, or just return the set\n\t};\n\n\tconst observerCallback = (mutationsList) => {\n\t\tconst result = filterSelector(triggers, mutationsList);\n\t\tresult.forEach((element) => {\n\t\t\tcallback(element);\n\t\t});\n\t};\n\n\tconst config = {\n\t\tchildList: true,\n\t\tattributes: false,\n\t\tcharacterData: false,\n\t\tsubtree: true\n\t};\n\tconst observer = new MutationObserver(observerCallback);\n\tobserver.observe(document.documentElement, config);\n\t//observer.disconnect();\n}\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n"],"names":["initObserver","Deepmerge","require","Toggle","element","options","defaults","triggers","toggleClassName","DOM","html","document","documentElement","body","updateEvents","bind","toggle","init","initEvents","querySelectorAll","elements","i","length","addEventListener","target","event","curent","currentTarget","hasAttribute","preventDefault","dataset","targetList","toggleTarget","split","ib","classList","callback","filterSelector","selector","mutationsList","result","Set","addedNodes","node","nodeType","matches","add","entry","observerCallback","forEach","config","childList","attributes","characterData","subtree","observer","MutationObserver","observe"],"sourceRoot":""}