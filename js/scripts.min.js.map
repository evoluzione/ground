{"version":3,"sources":["console.js","jquery.fancybox.js","owl.carousel.js","main.js"],"names":["method","noop","methods","length","console","window","document","$","undefined","fn","fancybox","log","div","defaults","loop","margin","gutter","keyboard","arrows","infobar","toolbar","buttons","idleTime","smallBtn","protect","modal","image","preload","ajax","settings","data","iframe","tpl","css","attr","scrolling","defaultType","animationEffect","animationDuration","zoomOpacity","transitionEffect","transitionDuration","slideClass","baseClass","baseTpl","spinnerTpl","errorTpl","btnTpl","download","zoom","close","arrowLeft","arrowRight","parentEl","autoFocus","backFocus","trapFocus","fullScreen","autoStart","touch","vertical","momentum","hash","media","slideShow","speed","thumbs","hideOnClose","axis","onInit","beforeLoad","afterLoad","beforeShow","afterShow","beforeClose","afterClose","onActivate","onDeactivate","clickContent","current","event","type","clickSlide","clickOutside","dblclickContent","dblclickSlide","dblclickOutside","mobile","lang","i18n","en","CLOSE","NEXT","PREV","ERROR","PLAY_START","PLAY_STOP","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","de","$W","$D","called","requestAFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","transitionEnd","t","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","style","forceRedraw","$el","offsetHeight","FancyBox","content","opts","index","self","this","extend","isMobile","isArray","id","group","currIndex","parseInt","prevIndex","prevPos","currPos","firstRun","createGroup","$lastFocus","activeElement","blur","slides","init","prototype","$scrollDiv","$container","buttonStr","firstItem","firstItemOpts","scrollbarWidth","scrollTop","scrollLeft","getInstance","addClass","test","navigator","userAgent","MSStream","body","scrollHeight","innerHeight","appendTo","offsetWidth","clientWidth","remove","append","each","value","translate","replace","$refs","container","forEach","item","find","trigger","activate","jumpTo","obj","str","arr","match","n","items","makeArray","i","$item","src","srcParts","isPlainObject","options","$orig","charAt","$thumb","caption","apply","split","shift","filter","inArray","push","addEvents","removeEvents","on","e","stopPropagation","preventDefault","previous","next","isScaledDown","originalEvent","update","stage","hide","show","instance","isClosing","target","hasClass","is","has","focus","keycode","keyCode","which","idleSecondsCounter","isIdle","showControls","idleInterval","setInterval","hideControls","off","clearInterval","duration","pos","slide","canvasWidth","currentPos","transitionProps","groupLen","isSliding","isAnimating","createSlide","updateControls","getTranslate","$slide","isMoved","left","top","forcedDuration","isNumeric","removeClass","loadSlide","stop","Math","round","width","animate","removeAttr","complete","children","isLoaded","revealContent","isComplete","updateSlide","scaleToActual","x","y","imgPos","posX","posY","scaleX","scaleY","$what","$content","canvasHeight","height","newImgWidth","newImgHeight","hasError","updateCursor","SlideShow","isActive","scaleToFit","end","getFitPos","minRatio","imgWidth","imgHeight","min","floor","key","setTranslate","nextWidth","nextHeight","isZoomable","fitPos","isFunction","rez","canPan","abs","ajaxLoad","isLoading","setImage","setIframe","setContent","setError","showLoading","url","success","textStatus","error","jqXHR","one","abort","found","temp","pxRatio","windowWidth","srcset","devicePixelRatio","innerWidth","map","ret","trim","substring","postfix","sort","a","b","j","thumb","$ghost","setBigImage","$img","$image","clearTimeout","timouts","naturalWidth","naturalHeight","hideLoading","max","readyState","$iframe","Date","getTime","isReady","scrollWidth","$body","$wrap","frameWidth","frameHeight","contents","ignore","contentWindow","documentElement","ceil","outerWidth","outerHeight","prepend","empty","hasOwnProperty","parent","$placeholder","insertAfter","nodeType","html","after","$smallBtn","$spinner","first","button","effect","effectClassName","opacity","start","getThumbPos","slidePos","thumbPos","offset","ownerDocument","element","elementRect","getBoundingClientRect","parentRects","parentElement","every","parentRect","visiblePixelX","right","visiblePixelY","bottom","isElementVisible","parseFloat","siblings","prev","isVisible","d","done","cleanUp","name","args","Array","slice","call","arguments","unshift","force","$caption","isHiddenControls","prop","toggleClass","toggleControls","version","command","open","all","destroy","createTouch","use3d","getComputedStyle","getPropertyValue","documentMode","matrix","eq","indexOf","transRez","exec","props","position","transform","to","leaveAnimationName","propertyName","selector","_run","$target","currentTarget","isDefaultPrevented","jQuery","format","params","param","youtube","matcher","autoplay","autohide","fs","rel","hd","wmode","enablejsapi","html5","paramPlace","vimeo","show_title","show_byline","show_portrait","fullscreen","api","metacafe","dailymotion","additionalInfos","vine","instagram","gmap_place","gmap_search","urlParams","paramObj","provider","providerName","providerOpts","m","p","decodeURIComponent","contentProvider","cancelAFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","pointers","result","touches","changedTouches","pageX","pageY","clientX","clientY","distance","point2","point1","what","sqrt","pow","isClickable","get","onclick","atts","attributes","nodeName","substr","isScrollable","overflowY","overflowX","horizontal","clientHeight","Guestures","$bg","bg","$stage","proxy","ontouchstart","isTouchDevice","startPoints","canTap","startTime","distanceX","distanceY","isPanning","isSwiping","isZooming","sliderStartPos","sliderLastPos","contentStartPos","contentLastPos","centerPointStartX","centerPointStartY","percentageOfImageAtPinchPointX","percentageOfImageAtPinchPointY","startDistanceBetweenFingers","ontouchmove","newPoints","onSwipe","onPan","onZoom","angle","swiping","atan2","PI","inTransition","requestId","newOffsetX","newOffsetY","newPos","limitMovement","newWidth","newHeight","minTranslateX","minTranslateY","maxTranslateX","maxTranslateY","currentOffsetX","currentOffsetY","limitPosition","currentWidth","currentHeight","pinchRatio","translateFromZoomingX","translateFromZoomingY","centerPointEndX","centerPointEndY","translateFromTranslatingX","ontouchend","dMs","panning","zooming","endPoints","onTap","velocityX","velocityY","speedX","endPanning","endZooming","endSwiping","reset","where","tapX","tapY","process","prefix","action","startEvent","tapped","timer","$button","toggle","set","clear","onInit.fb","beforeShow.fb","afterShow.fb","afterKeydown.fb","keypress","beforeClose.fb onDeactivate.fb","hidden","val","fnMap","FullScreen","request","elem","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","isFullscreen","Boolean","fullscreenElement","enabled","fullscreenEnabled","beforeClose.fb","fullscreenchange","FancyThumbs","$grid","$list","Thumbs","second","create","list","addBack","widthRatio","heightRatio","$parent","thumbWidth","thumbHeight","margin-top","margin-left","share","string","entityMap","f","location","encodeURIComponent","&","<",">","\"","'","/","`","=","String","s","text","escapeSelector","sel","ch","asCodePoint","charCodeAt","toString","shouldCreateHistory","currentHash","timerID","parseUrl","pop","gallery","join","triggerFromUrl","getGalleryID","origHash","history","title","pathname","search","replaceState","Owl","Defaults","$element","_handlers","_plugins","_supress","_current","_speed","_coordinates","_breakpoint","_width","_items","_clones","_mergers","_widths","_invalidated","_pipe","_drag","time","pointer","direction","_states","tags","initializing","animating","dragging","handler","Plugins","plugin","toLowerCase","Workers","priority","worker","run","setup","initialize","center","rewind","mouseDrag","touchDrag","pullDrag","freeDrag","stagePadding","merge","mergeFit","autoWidth","startPosition","rtl","smartSpeed","fluidSpeed","dragEndSpeed","responsive","responsiveRefreshRate","responsiveBaseElement","fallbackEasing","info","nestedItemSelector","itemElement","stageElement","refreshClass","loadedClass","loadingClass","rtlClass","responsiveClass","dragClass","itemClass","stageClass","stageOuterClass","grabClass","Width","Default","Inner","Outer","Type","Event","State","cache","relative","grid","margin-right","toFixed","iterator","widths","clones","view","size","repeat","normalize","outerHTML","prependTo","coordinates","padding","padding-left","padding-right","minimum","maximum","inner","outer","begin","matches","op","imgs","nestedSelector","enter","preloadAutoWidthImages","wrap","not","refresh","invalidate","registerEventHandlers","leave","viewport","overwrites","breakpoint","Number","RegExp","property","optionsLogic","prepare","grep","dimension","onThrottledResize","resizeTimer","onResize","support","onTransitionEnd","onDragStart","onDragEnd","delta","difference","onDragMove","pull","closest","coordinate","transform3d","state","part","v","suppress","release","reciprocalItemsWidth","elementWidth","mergers","odd","even","multiplier","newPosition","from","factor","revert","srcElement","originalTarget","warn","add","before","splice","images","Image","unwrap","removeData","o","listener","capture","addEventListener","attachEvent","removeEventListener","detachEvent","namespace","status","count","camelCase","relatedTarget","onTrigger","register","concat","object","special","owl","_default","tag","events","number","isNaN","owlCarousel","option","$this","Constructor","Zepto","AutoRefresh","carousel","_core","_interval","_visible","initialized.owl.carousel","autoRefresh","watch","autoRefreshInterval","Object","getOwnPropertyNames","Lazy","_loaded","initialized.owl.carousel change.owl.carousel resized.owl.carousel","lazyLoad","load","$elements","onload","background-image","handlers","AutoHeight","initialized.owl.carousel refreshed.owl.carousel","autoHeight","changed.owl.carousel","loaded.owl.lazy","autoHeightClass","maxheight","visible","toArray","heights","Video","_videos","_playing","resize.owl.carousel","video","isInFullScreen","refreshed.owl.carousel","prepared.owl.carousel","fetch","play","videoHeight","videoWidth","Error","thumbnail","tnLink","path","dimensions","customTn","srcType","lazyClass","jsonp","dataType","thumbnail_large","framegrab_url","mozFullScreenElement","webkitFullscreenElement","Animate","scope","core","swapping","change.owl.carousel","drag.owl.carousel dragged.owl.carousel translated.owl.carousel","translate.owl.carousel","animateOut","animateIn","swap","animation","incoming","outgoing","Autoplay","_timeout","_paused","_setAutoPlayInterval","play.owl.autoplay","stop.owl.autoplay","mouseover.owl.autoplay","autoplayHoverPause","pause","mouseleave.owl.autoplay","touchstart.owl.core","touchend.owl.core","autoplayTimeout","autoplaySpeed","timeout","_getNextTimeout","Navigation","_initialized","_pages","_controls","_templates","_overrides","dotsData","dotClass","added.owl.carousel","remove.owl.carousel","draw","nav","navText","navSpeed","navElement","navContainer","navContainerClass","navClass","slideBy","dotsClass","dots","dotsEach","dotsSpeed","dotsContainer","override","$relative","$previous","$next","$absolute","control","overides","lower","upper","disabled","page","getPosition","successor","standard","Hash","_hashes","URLhashListener","prefixes","WebkitAnimation","MozAnimation","OAnimation","tests","prefixed","toUpperCase","currentLanguage","siteUrl","templateUrl","ready","siteInit","slider","scroll","resize","matchMedia","0","992","elName","$elCliked","toggleClassName"],"mappings":"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","file":"scripts.min.js","sourcesContent":["// Avoid `console` errors in browsers that lack a console.\n'use strict';\n\n(function() {\n\n\tvar method;\n\tvar noop = function() {};\n\tvar methods = [\n\t\t'assert',\n\t\t'clear',\n\t\t'count',\n\t\t'debug',\n\t\t'dir',\n\t\t'dirxml',\n\t\t'error',\n\t\t'exception',\n\t\t'group',\n\t\t'groupCollapsed',\n\t\t'groupEnd',\n\t\t'info',\n\t\t'log',\n\t\t'markTimeline',\n\t\t'profile',\n\t\t'profileEnd',\n\t\t'table',\n\t\t'time',\n\t\t'timeEnd',\n\t\t'timeline',\n\t\t'timelineEnd',\n\t\t'timeStamp',\n\t\t'trace',\n\t\t'warn'\n\t];\n\tvar length = methods.length;\n\tvar console = (window.console = window.console || {});\n\n\twhile (length--) {\n\n\t\tmethod = methods[length];\n\n\t\t// Only stub undefined methods.\n\t\tif (!console[method]) {\n\n\t\t\tconsole[method] = noop;\n\n\t\t}\n\n\t}\n\n})();\n","// ==================================================\n// fancyBox v3.2.5\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2017 fancyApps\n//\n// ==================================================\n;(function (window, document, $, undefined) {\n    'use strict';\n\n    // If there's no jQuery, fancyBox can't work\n    // =========================================\n\n    if ( !$ ) {\n        return;\n    }\n\n    // Check if fancyBox is already initialized\n    // ========================================\n\n    if ( $.fn.fancybox ) {\n\n        if ( 'console' in window ) {\n            console.log( 'fancyBox already initialized' );\n        }\n\n        return;\n    }\n\n    // Private default settings\n    // ========================\n\n    var defaults = {\n\n        // Enable infinite gallery navigation\n        loop : false,\n\n        // Space around image, ignored if zoomed-in or viewport width is smaller than 800px\n        margin : [44, 0],\n\n        // Horizontal space between slides\n        gutter : 50,\n\n        // Enable keyboard navigation\n        keyboard : true,\n\n        // Should display navigation arrows at the screen edges\n        arrows : true,\n\n        // Should display infobar (counter and arrows at the top)\n        infobar : true,\n\n        // Should display toolbar (buttons at the top)\n        toolbar : true,\n\n        // What buttons should appear in the top right corner.\n        // Buttons will be created using templates from `btnTpl` option\n        // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n        buttons : [\n            'slideShow',\n            'fullScreen',\n            'thumbs',\n            'share',\n            //'download',\n            //'zoom',\n            'close'\n        ],\n\n        // Detect \"idle\" time in seconds\n        idleTime : 3,\n\n        // Should display buttons at top right corner of the content\n        // If 'auto' - they will be created for content having type 'html', 'inline' or 'ajax'\n        // Use template from `btnTpl.smallBtn` for customization\n        smallBtn : 'auto',\n\n        // Disable right-click and use simple image protection for images\n        protect : false,\n\n        // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n        modal : false,\n\n        image : {\n\n            // Wait for images to load before displaying\n            // Requires predefined image dimensions\n            // If 'auto' - will zoom in thumbnail if 'width' and 'height' attributes are found\n            preload : \"auto\"\n\n        },\n\n        ajax : {\n\n            // Object containing settings for ajax request\n            settings : {\n\n                // This helps to indicate that request comes from the modal\n                // Feel free to change naming\n                data : {\n                    fancybox : true\n                }\n            }\n\n        },\n\n        iframe : {\n\n            // Iframe template\n            tpl : '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency=\"true\" src=\"\"></iframe>',\n\n            // Preload iframe before displaying it\n            // This allows to calculate iframe content width and height\n            // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n            preload : true,\n\n            // Custom CSS styling for iframe wrapping element\n            // You can use this to set custom iframe dimensions\n            css : {},\n\n            // Iframe tag attributes\n            attr : {\n                scrolling : 'auto'\n            }\n\n        },\n\n        // Default content type if cannot be detected automatically\n        defaultType : 'image',\n\n        // Open/close animation type\n        // Possible values:\n        //   false            - disable\n        //   \"zoom\"           - zoom images from/to thumbnail\n        //   \"fade\"\n        //   \"zoom-in-out\"\n        //\n        animationEffect : \"zoom\",\n\n        // Duration in ms for open/close animation\n        animationDuration : 500,\n\n        // Should image change opacity while zooming\n        // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\n        zoomOpacity : \"auto\",\n\n        // Transition effect between slides\n        //\n        // Possible values:\n        //   false            - disable\n        //   \"fade'\n        //   \"slide'\n        //   \"circular'\n        //   \"tube'\n        //   \"zoom-in-out'\n        //   \"rotate'\n        //\n        transitionEffect : \"fade\",\n\n        // Duration in ms for transition animation\n        transitionDuration : 366,\n\n        // Custom CSS class for slide element\n        slideClass : '',\n\n        // Custom CSS class for layout\n        baseClass : '',\n\n        // Base template for layout\n        baseTpl\t:\n            '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n                '<div class=\"fancybox-bg\"></div>' +\n                '<div class=\"fancybox-inner\">' +\n                    '<div class=\"fancybox-infobar\">' +\n                        '<span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span>' +\n                    '</div>' +\n                    '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\n                    '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\n                    '<div class=\"fancybox-stage\"></div>' +\n                    '<div class=\"fancybox-caption-wrap\"><div class=\"fancybox-caption\"></div></div>' +\n                '</div>' +\n            '</div>',\n\n        // Loading indicator template\n        spinnerTpl : '<div class=\"fancybox-loading\"></div>',\n\n        // Error message template\n        errorTpl : '<div class=\"fancybox-error\"><p>{{ERROR}}<p></div>',\n\n        btnTpl : {\n\n            download : '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\">' +\n                        '<svg viewBox=\"0 0 40 40\">' +\n                            '<path d=\"M20,23 L20,8 L20,23 L13,16 L20,23 L27,16 L20,23 M26,28 L13,28 L27,28 L14,28\" />' +\n                        '</svg>' +\n                    '</a>',\n\n            zoom : '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\n                        '<svg viewBox=\"0 0 40 40\">' +\n                            '<path d=\"M 18,17 m-8,0 a 8,8 0 1,0 16,0 a 8,8 0 1,0 -16,0 M25,23 L31,29 L25,23\" />' +\n                        '</svg>' +\n                    '</button>',\n\n            close : '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\n                        '<svg viewBox=\"0 0 40 40\">' +\n                            '<path d=\"M10,10 L30,30 M30,10 L10,30\" />' +\n                        '</svg>' +\n                    '</button>',\n\n            // This small close button will be appended to your html/inline/ajax content by default,\n            // if \"smallBtn\" option is not set to false\n            smallBtn   : '<button data-fancybox-close class=\"fancybox-close-small\" title=\"{{CLOSE}}\"></button>',\n\n            // Arrows\n            arrowLeft : '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\n                            '<svg viewBox=\"0 0 40 40\">' +\n                              '<path d=\"M10,20 L30,20 L10,20 L18,28 L10,20 L18,12 L10,20\"></path>' +\n                            '</svg>' +\n                          '</button>',\n\n            arrowRight : '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\">' +\n                          '<svg viewBox=\"0 0 40 40\">' +\n                            '<path d=\"M30,20 L10,20 L30,20 L22,28 L30,20 L22,12 L30,20\"></path>' +\n                          '</svg>' +\n                        '</button>'\n        },\n\n        // Container is injected into this element\n        parentEl : 'body',\n\n\n        // Focus handling\n        // ==============\n\n        // Try to focus on the first focusable element after opening\n        autoFocus : false,\n\n        // Put focus back to active element after closing\n        backFocus : true,\n\n        // Do not let user to focus on element outside modal content\n        trapFocus : true,\n\n\n        // Module specific options\n        // =======================\n\n        fullScreen : {\n            autoStart : false,\n        },\n\n        // Set `touch: false` to disable dragging/swiping\n        touch : {\n            vertical : true,  // Allow to drag content vertically\n            momentum : true   // Continue movement after releasing mouse/touch when panning\n        },\n\n        // Hash value when initializing manually,\n        // set `false` to disable hash change\n        hash : null,\n\n        // Customize or add new media types\n        // Example:\n        /*\n        media : {\n            youtube : {\n                params : {\n                    autoplay : 0\n                }\n            }\n        }\n        */\n        media : {},\n\n        slideShow : {\n            autoStart : false,\n            speed     : 4000\n        },\n\n        thumbs : {\n\t\t\tautoStart   : false,                  // Display thumbnails on opening\n\t\t\thideOnClose : true,                   // Hide thumbnail grid when closing animation starts\n\t\t\tparentEl    : '.fancybox-container',  // Container is injected into this element\n\t\t\taxis        : 'y'                     // Vertical (y) or horizontal (x) scrolling\n\t\t},\n\n        // Callbacks\n        //==========\n\n        // See Documentation/API/Events for more information\n        // Example:\n        /*\n            afterShow: function( instance, current ) {\n                 console.info( 'Clicked element:' );\n                 console.info( current.opts.$orig );\n            }\n        */\n\n        onInit       : $.noop,  // When instance has been initialized\n\n        beforeLoad   : $.noop,  // Before the content of a slide is being loaded\n        afterLoad    : $.noop,  // When the content of a slide is done loading\n\n        beforeShow   : $.noop,  // Before open animation starts\n        afterShow    : $.noop,  // When content is done loading and animating\n\n        beforeClose  : $.noop,  // Before the instance attempts to close. Return false to cancel the close.\n        afterClose   : $.noop,  // After instance has been closed\n\n        onActivate   : $.noop,  // When instance is brought to front\n        onDeactivate : $.noop,  // When other instance has been activated\n\n\n        // Interaction\n        // ===========\n\n        // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n        // each option can be string or method that returns value.\n        //\n        // Possible values:\n        //   \"close\"           - close instance\n        //   \"next\"            - move to next gallery item\n        //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n        //   \"toggleControls\"  - show/hide controls\n        //   \"zoom\"            - zoom image (if loaded)\n        //   false             - do nothing\n\n        // Clicked on the content\n        clickContent : function( current, event ) {\n            return current.type === 'image' ? 'zoom' : false;\n        },\n\n        // Clicked on the slide\n        clickSlide : 'close',\n\n        // Clicked on the background (backdrop) element\n        clickOutside : 'close',\n\n        // Same as previous two, but for double click\n        dblclickContent : false,\n        dblclickSlide   : false,\n        dblclickOutside : false,\n\n\n        // Custom options when mobile device is detected\n        // =============================================\n\n        mobile : {\n            margin : 0,\n\n            clickContent : function( current, event ) {\n                return current.type === 'image' ? 'toggleControls' : false;\n            },\n            clickSlide : function( current, event ) {\n                return current.type === 'image' ? 'toggleControls' : 'close';\n            },\n            dblclickContent : function( current, event ) {\n                return current.type === 'image' ? 'zoom' : false;\n            },\n            dblclickSlide : function( current, event ) {\n                return current.type === 'image' ? 'zoom' : false;\n            }\n        },\n\n\n        // Internationalization\n        // ============\n\n        lang : 'en',\n        i18n : {\n            'en' : {\n                CLOSE       : 'Close',\n                NEXT        : 'Next',\n                PREV        : 'Previous',\n                ERROR       : 'The requested content cannot be loaded. <br/> Please try again later.',\n                PLAY_START  : 'Start slideshow',\n                PLAY_STOP   : 'Pause slideshow',\n                FULL_SCREEN : 'Full screen',\n                THUMBS      : 'Thumbnails',\n                DOWNLOAD    : 'Download',\n                SHARE       : 'Share',\n                ZOOM        : 'Zoom'\n            },\n            'de' : {\n                CLOSE       : 'Schliessen',\n                NEXT        : 'Weiter',\n                PREV        : 'Zurück',\n                ERROR       : 'Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.',\n                PLAY_START  : 'Diaschau starten',\n                PLAY_STOP   : 'Diaschau beenden',\n                FULL_SCREEN : 'Vollbild',\n                THUMBS      : 'Vorschaubilder',\n                DOWNLOAD    : 'Herunterladen',\n                SHARE       : 'Teilen',\n                ZOOM        : 'Maßstab'\n            }\n        }\n\n    };\n\n    // Few useful variables and methods\n    // ================================\n\n    var $W = $(window);\n    var $D = $(document);\n\n    var called = 0;\n\n\n    // Check if an object is a jQuery object and not a native JavaScript object\n    // ========================================================================\n\n    var isQuery = function ( obj ) {\n        return obj && obj.hasOwnProperty && obj instanceof $;\n    };\n\n\n    // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n    // ===============================================================================\n\n    var requestAFrame = (function () {\n        return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                window.oRequestAnimationFrame ||\n                // if all else fails, use setTimeout\n                function (callback) {\n                    return window.setTimeout(callback, 1000 / 60);\n                };\n    })();\n\n\n    // Detect the supported transition-end event property name\n    // =======================================================\n\n    var transitionEnd = (function () {\n        var t, el = document.createElement(\"fakeelement\");\n\n        var transitions = {\n            \"transition\"      : \"transitionend\",\n            \"OTransition\"     : \"oTransitionEnd\",\n            \"MozTransition\"   : \"transitionend\",\n            \"WebkitTransition\": \"webkitTransitionEnd\"\n        };\n\n        for (t in transitions) {\n            if (el.style[t] !== undefined){\n                return transitions[t];\n            }\n        }\n\n        return 'transitionend';\n    })();\n\n\n    // Force redraw on an element.\n    // This helps in cases where the browser doesn't redraw an updated element properly.\n    // =================================================================================\n\n    var forceRedraw = function( $el ) {\n        return ( $el && $el.length && $el[0].offsetHeight );\n    };\n\n\n    // Class definition\n    // ================\n\n    var FancyBox = function( content, opts, index ) {\n        var self = this;\n\n        self.opts = $.extend( true, { index : index }, $.fancybox.defaults, opts || {} );\n\n        if ( $.fancybox.isMobile ) {\n            self.opts = $.extend( true, {}, self.opts, self.opts.mobile );\n        }\n\n        // Exclude buttons option from deep merging\n        if ( opts && $.isArray( opts.buttons ) ) {\n            self.opts.buttons = opts.buttons;\n        }\n\n        self.id    = self.opts.id || ++called;\n        self.group = [];\n\n        self.currIndex = parseInt( self.opts.index, 10 ) || 0;\n        self.prevIndex = null;\n\n        self.prevPos = null;\n        self.currPos = 0;\n\n        self.firstRun = null;\n\n        // Create group elements from original item collection\n        self.createGroup( content );\n\n        if ( !self.group.length ) {\n            return;\n        }\n\n        // Save last active element and current scroll position\n        self.$lastFocus = $(document.activeElement).blur();\n\n        // Collection of gallery objects\n        self.slides = {};\n\n        self.init();\n    };\n\n    $.extend(FancyBox.prototype, {\n\n        // Create DOM structure\n        // ====================\n\n        init : function() {\n            var self = this,\n                firstItem      = self.group[ self.currIndex ],\n                firstItemOpts  = firstItem.opts,\n                scrollbarWidth = $.fancybox.scrollbarWidth,\n                $scrollDiv,\n                $container,\n                buttonStr;\n\n            self.scrollTop  = $D.scrollTop();\n            self.scrollLeft = $D.scrollLeft();\n\n\n            // Hide scrollbars\n            // ===============\n\n            if ( !$.fancybox.getInstance() ) {\n\n                $( 'body' ).addClass( 'fancybox-active' );\n\n                // iOS hack\n                if ( /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream ) {\n\n                    // iOS has problems for input elements inside fixed containers,\n                    // the workaround is to apply `position: fixed` to `<body>` element,\n                    // unfortunately, this makes it lose the scrollbars and forces address bar to appear.\n\n                    if ( firstItem.type !== 'image' ) {\n                        $( 'body' ).css( 'top', $( 'body' ).scrollTop() * -1 ).addClass( 'fancybox-iosfix' );\n                    }\n\n                } else if ( !$.fancybox.isMobile && document.body.scrollHeight > window.innerHeight ) {\n\n                    if ( scrollbarWidth === undefined ) {\n                        $scrollDiv = $('<div style=\"width:50px;height:50px;overflow:scroll;\" />').appendTo( 'body' );\n\n                        scrollbarWidth = $.fancybox.scrollbarWidth = $scrollDiv[0].offsetWidth - $scrollDiv[0].clientWidth;\n\n                        $scrollDiv.remove();\n                    }\n\n                    $( 'head' ).append( '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar { margin-right: ' + scrollbarWidth + 'px; }</style>' );\n                    $( 'body' ).addClass( 'compensate-for-scrollbar' );\n                }\n            }\n\n\n            // Build html markup and set references\n            // ====================================\n\n            // Build html code for buttons and insert into main template\n            buttonStr = '';\n\n            $.each( firstItemOpts.buttons, function( index, value ) {\n                buttonStr += ( firstItemOpts.btnTpl[ value ] || '' );\n            });\n\n            // Create markup from base template, it will be initially hidden to\n            // avoid unnecessary work like painting while initializing is not complete\n            $container = $(\n                self.translate( self,\n                    firstItemOpts.baseTpl\n                        .replace( '\\{\\{buttons\\}\\}', buttonStr )\n                        .replace( '\\{\\{arrows\\}\\}', firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight )\n                )\n            )\n                .attr( 'id', 'fancybox-container-' + self.id )\n                .addClass( 'fancybox-is-hidden' )\n                .addClass( firstItemOpts.baseClass )\n                .data( 'FancyBox', self )\n                .appendTo( firstItemOpts.parentEl );\n\n            // Create object holding references to jQuery wrapped nodes\n            self.$refs = {\n                container : $container\n            };\n\n            [ 'bg', 'inner', 'infobar', 'toolbar', 'stage', 'caption', 'navigation' ].forEach(function(item) {\n                self.$refs[ item ] = $container.find( '.fancybox-' + item );\n            });\n\n            self.trigger( 'onInit' );\n\n            // Enable events, deactive previous instances\n            self.activate();\n\n            // Build slides, load and reveal content\n            self.jumpTo( self.currIndex );\n        },\n\n\n        // Simple i18n support - replaces object keys found in template\n        // with corresponding values\n        // ============================================================\n\n        translate : function( obj, str ) {\n            var arr = obj.opts.i18n[ obj.opts.lang ];\n\n            return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\n                var value = arr[n];\n\n                if ( value === undefined ) {\n                    return match;\n                }\n\n                return value;\n            });\n        },\n\n        // Create array of gally item objects\n        // Check if each object has valid type and content\n        // ===============================================\n\n        createGroup : function ( content ) {\n            var self  = this;\n            var items = $.makeArray( content );\n\n            $.each(items, function( i, item ) {\n                var obj  = {},\n                    opts = {},\n                    $item,\n                    type,\n                    src,\n                    srcParts;\n\n                // Step 1 - Make sure we have an object\n                // ====================================\n\n                if ( $.isPlainObject( item ) ) {\n\n                    // We probably have manual usage here, something like\n                    // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n                    obj  = item;\n                    opts = item.opts || item;\n\n                } else if ( $.type( item ) === 'object' && $( item ).length ) {\n\n                    // Here we probably have jQuery collection returned by some selector\n                    $item = $( item );\n\n                    opts = $item.data();\n                    opts = $.extend( {}, opts, opts.options || {} );\n\n                    // Here we store clicked element\n                    opts.$orig = $item;\n\n                    obj.src = opts.src || $item.attr( 'href' );\n\n                    // Assume that simple syntax is used, for example:\n                    //   `$.fancybox.open( $(\"#test\"), {} );`\n                    if ( !obj.type && !obj.src ) {\n                        obj.type = 'inline';\n                        obj.src  = item;\n                    }\n\n                } else {\n\n                    // Assume we have a simple html code, for example:\n                    //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n\n                    obj = {\n                        type : 'html',\n                        src  : item + ''\n                    };\n\n                }\n\n                // Each gallery object has full collection of options\n                obj.opts = $.extend( true, {}, self.opts, opts );\n\n                // Do not merge buttons array\n                if ( $.isArray( opts.buttons ) ) {\n                    obj.opts.buttons = opts.buttons;\n                }\n\n\n                // Step 2 - Make sure we have content type, if not - try to guess\n                // ==============================================================\n\n                type = obj.type || obj.opts.type;\n                src  = obj.src || '';\n\n                if ( !type && src ) {\n                    if ( src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i) ) {\n                        type = 'image';\n\n                    } else if ( src.match(/\\.(pdf)((\\?|#).*)?$/i) ) {\n                        type = 'pdf';\n\n                    } else if ( src.charAt(0) === '#' ) {\n                        type = 'inline';\n                    }\n                }\n\n                if ( type ) {\n                    obj.type = type;\n\n                } else {\n                    self.trigger( 'objectNeedsType', obj );\n                }\n\n\n                // Step 3 - Some adjustments\n                // =========================\n\n                obj.index = self.group.length;\n\n                // Check if $orig and $thumb objects exist\n                if ( obj.opts.$orig && !obj.opts.$orig.length ) {\n                    delete obj.opts.$orig;\n                }\n\n                if ( !obj.opts.$thumb && obj.opts.$orig ) {\n                    obj.opts.$thumb = obj.opts.$orig.find( 'img:first' );\n                }\n\n                if ( obj.opts.$thumb && !obj.opts.$thumb.length ) {\n                    delete obj.opts.$thumb;\n                }\n\n                // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item ..\n                if ( $.type( obj.opts.caption ) === 'function' ) {\n                    obj.opts.caption = obj.opts.caption.apply( item, [ self, obj ] );\n                }\n\n                if ( $.type( self.opts.caption ) === 'function' ) {\n                    obj.opts.caption = self.opts.caption.apply( item, [ self, obj ] );\n                }\n\n                // Make sure we have caption as a string or jQuery object\n                if ( !( obj.opts.caption instanceof $ ) ) {\n                    obj.opts.caption = obj.opts.caption === undefined ? '' : obj.opts.caption + '';\n                }\n\n                // Check if url contains \"filter\" used to filter the content\n                // Example: \"ajax.html #something\"\n                if ( type === 'ajax' ) {\n                    srcParts = src.split(/\\s+/, 2);\n\n                    if ( srcParts.length > 1 ) {\n                        obj.src = srcParts.shift();\n\n                        obj.opts.filter = srcParts.shift();\n                    }\n                }\n\n                if ( obj.opts.smallBtn == 'auto' ) {\n\n                    if ( $.inArray( type, ['html', 'inline', 'ajax'] ) > -1 ) {\n                        obj.opts.toolbar  = false;\n                        obj.opts.smallBtn = true;\n\n                    } else {\n                        obj.opts.smallBtn = false;\n                    }\n\n                }\n\n                // If the type is \"pdf\", then simply load file into iframe\n                if ( type === 'pdf' ) {\n                    obj.type = 'iframe';\n\n                    obj.opts.iframe.preload = false;\n                }\n\n                // Hide all buttons and disable interactivity for modal items\n                if ( obj.opts.modal ) {\n\n                    obj.opts = $.extend(true, obj.opts, {\n                        // Remove buttons\n                        infobar : 0,\n                        toolbar : 0,\n\n                        smallBtn : 0,\n\n                        // Disable keyboard navigation\n                        keyboard : 0,\n\n                        // Disable some modules\n                        slideShow  : 0,\n                        fullScreen : 0,\n                        thumbs     : 0,\n                        touch      : 0,\n\n                        // Disable click event handlers\n                        clickContent    : false,\n                        clickSlide      : false,\n                        clickOutside    : false,\n                        dblclickContent : false,\n                        dblclickSlide   : false,\n                        dblclickOutside : false\n                    });\n\n                }\n\n                // Step 4 - Add processed object to group\n                // ======================================\n\n                self.group.push( obj );\n\n            });\n\n        },\n\n\n        // Attach an event handler functions for:\n        //   - navigation buttons\n        //   - browser scrolling, resizing;\n        //   - focusing\n        //   - keyboard\n        //   - detect idle\n        // ======================================\n\n        addEvents : function() {\n            var self = this;\n\n            self.removeEvents();\n\n            // Make navigation elements clickable\n            self.$refs.container.on('click.fb-close', '[data-fancybox-close]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.close( e );\n\n            }).on( 'click.fb-prev touchend.fb-prev', '[data-fancybox-prev]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.previous();\n\n            }).on( 'click.fb-next touchend.fb-next', '[data-fancybox-next]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.next();\n\n            }).on( 'click.fb', '[data-fancybox-zoom]', function(e) {\n                // Click handler for zoom button\n                self[ self.isScaledDown() ? 'scaleToActual' : 'scaleToFit' ]();\n            });\n\n\n            // Handle page scrolling and browser resizing\n            $W.on('orientationchange.fb resize.fb', function(e) {\n\n                if ( e && e.originalEvent && e.originalEvent.type === \"resize\" ) {\n\n                    requestAFrame(function() {\n                        self.update();\n                    });\n\n                } else {\n\n                    self.$refs.stage.hide();\n\n                    setTimeout(function() {\n                        self.$refs.stage.show();\n\n                        self.update();\n                    }, 600);\n\n                }\n\n            });\n\n            // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal\n            // (a.k.a. \"escaping the modal\")\n            $D.on('focusin.fb', function(e) {\n                var instance = $.fancybox ? $.fancybox.getInstance() : null;\n\n                if ( instance.isClosing || !instance.current || !instance.current.opts.trapFocus || $( e.target ).hasClass( 'fancybox-container' ) || $( e.target ).is( document ) ) {\n                    return;\n                }\n\n                if ( instance && $( e.target ).css( 'position' ) !== 'fixed' && !instance.$refs.container.has( e.target ).length ) {\n                    e.stopPropagation();\n\n                    instance.focus();\n\n                    // Sometimes page gets scrolled, set it back\n                    $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\n                }\n            });\n\n\n            // Enable keyboard navigation\n            $D.on('keydown.fb', function (e) {\n                var current = self.current,\n                    keycode = e.keyCode || e.which;\n\n                if ( !current || !current.opts.keyboard ) {\n                    return;\n                }\n\n                if ( $(e.target).is('input') || $(e.target).is('textarea') ) {\n                    return;\n                }\n\n                // Backspace and Esc keys\n                if ( keycode === 8 || keycode === 27 ) {\n                    e.preventDefault();\n\n                    self.close( e );\n\n                    return;\n                }\n\n                // Left arrow and Up arrow\n                if ( keycode === 37 || keycode === 38 ) {\n                    e.preventDefault();\n\n                    self.previous();\n\n                    return;\n                }\n\n                // Righ arrow and Down arrow\n                if ( keycode === 39 || keycode === 40 ) {\n                    e.preventDefault();\n\n                    self.next();\n\n                    return;\n                }\n\n                self.trigger('afterKeydown', e, keycode);\n            });\n\n\n            // Hide controls after some inactivity period\n            if ( self.group[ self.currIndex ].opts.idleTime ) {\n                self.idleSecondsCounter = 0;\n\n                $D.on('mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle', function(e) {\n                    self.idleSecondsCounter = 0;\n\n                    if ( self.isIdle ) {\n                        self.showControls();\n                    }\n\n                    self.isIdle = false;\n                });\n\n                self.idleInterval = window.setInterval(function() {\n                    self.idleSecondsCounter++;\n\n                    if ( self.idleSecondsCounter >= self.group[ self.currIndex ].opts.idleTime ) {\n                        self.isIdle = true;\n                        self.idleSecondsCounter = 0;\n\n                        self.hideControls();\n                    }\n\n                }, 1000);\n            }\n\n        },\n\n\n        // Remove events added by the core\n        // ===============================\n\n        removeEvents : function() {\n            var self = this;\n\n            $W.off( 'orientationchange.fb resize.fb' );\n            $D.off( 'focusin.fb keydown.fb .fb-idle' );\n\n            this.$refs.container.off( '.fb-close .fb-prev .fb-next' );\n\n            if ( self.idleInterval ) {\n                window.clearInterval( self.idleInterval );\n\n                self.idleInterval = null;\n            }\n        },\n\n\n        // Change to previous gallery item\n        // ===============================\n\n        previous : function( duration ) {\n            return this.jumpTo( this.currPos - 1, duration );\n        },\n\n\n        // Change to next gallery item\n        // ===========================\n\n        next : function( duration ) {\n            return this.jumpTo( this.currPos + 1, duration );\n        },\n\n\n        // Switch to selected gallery item\n        // ===============================\n\n        jumpTo : function ( pos, duration, slide ) {\n            var self = this,\n                firstRun,\n                loop,\n                current,\n                previous,\n                canvasWidth,\n                currentPos,\n                transitionProps;\n\n            var groupLen = self.group.length;\n\n            if ( self.isSliding || self.isClosing || ( self.isAnimating && self.firstRun ) ) {\n                return;\n            }\n\n            pos  = parseInt( pos, 10 );\n            loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n            if ( !loop && ( pos < 0 || pos >= groupLen ) ) {\n                return false;\n            }\n\n            firstRun = self.firstRun = ( self.firstRun === null );\n\n            if ( groupLen < 2 && !firstRun && !!self.isSliding ) {\n                return;\n            }\n\n            previous = self.current;\n\n            self.prevIndex = self.currIndex;\n            self.prevPos   = self.currPos;\n\n            // Create slides\n            current = self.createSlide( pos );\n\n            if ( groupLen > 1 ) {\n                if ( loop || current.index > 0 ) {\n                    self.createSlide( pos - 1 );\n                }\n\n                if ( loop || current.index < groupLen - 1 ) {\n                    self.createSlide( pos + 1 );\n                }\n            }\n\n            self.current   = current;\n            self.currIndex = current.index;\n            self.currPos   = current.pos;\n\n            self.trigger( 'beforeShow', firstRun );\n\n            self.updateControls();\n\n            currentPos = $.fancybox.getTranslate( current.$slide );\n\n            current.isMoved        = ( currentPos.left !== 0 || currentPos.top !== 0 ) && !current.$slide.hasClass( 'fancybox-animated' );\n            current.forcedDuration = undefined;\n\n            if ( $.isNumeric( duration ) ) {\n                current.forcedDuration = duration;\n            } else {\n                duration = current.opts[ firstRun ? 'animationDuration' : 'transitionDuration' ];\n            }\n\n            duration = parseInt( duration, 10 );\n\n            // Fresh start - reveal container, current slide and start loading content\n            if ( firstRun ) {\n\n                if ( current.opts.animationEffect && duration ) {\n                    self.$refs.container.css( 'transition-duration', duration + 'ms' );\n                }\n\n                self.$refs.container.removeClass( 'fancybox-is-hidden' );\n\n                forceRedraw( self.$refs.container );\n\n                self.$refs.container.addClass( 'fancybox-is-open' );\n\n                // Make first slide visible (to display loading icon, if needed)\n                current.$slide.addClass( 'fancybox-slide--current' );\n\n                self.loadSlide( current );\n\n                self.preload();\n\n                return;\n            }\n\n            // Clean up\n            $.each(self.slides, function( index, slide ) {\n                $.fancybox.stop( slide.$slide );\n            });\n\n            // Make current that slide is visible even if content is still loading\n            current.$slide.removeClass( 'fancybox-slide--next fancybox-slide--previous' ).addClass( 'fancybox-slide--current' );\n\n            // If slides have been dragged, animate them to correct position\n            if ( current.isMoved ) {\n                canvasWidth = Math.round( current.$slide.width() );\n\n                $.each(self.slides, function( index, slide ) {\n                    var pos = slide.pos - current.pos;\n\n                    $.fancybox.animate( slide.$slide, {\n                        top  : 0,\n                        left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter )\n                    }, duration, function() {\n\n                        slide.$slide.removeAttr('style').removeClass( 'fancybox-slide--next fancybox-slide--previous' );\n\n                        if ( slide.pos === self.currPos ) {\n                            current.isMoved = false;\n\n                            self.complete();\n                        }\n                    });\n                });\n\n            } else {\n                self.$refs.stage.children().removeAttr( 'style' );\n            }\n\n            // Start transition that reveals current content\n            // or wait when it will be loaded\n\n            if ( current.isLoaded ) {\n                self.revealContent( current );\n\n            } else {\n                self.loadSlide( current );\n            }\n\n            self.preload();\n\n            if ( previous.pos === current.pos ) {\n                return;\n            }\n\n            // Handle previous slide\n            // =====================\n\n            transitionProps = 'fancybox-slide--' + ( previous.pos > current.pos ? 'next' : 'previous' );\n\n            previous.$slide.removeClass( 'fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous' );\n\n            previous.isComplete = false;\n\n            if ( !duration || ( !current.isMoved && !current.opts.transitionEffect ) ) {\n                return;\n            }\n\n            if ( current.isMoved ) {\n                previous.$slide.addClass( transitionProps );\n\n            } else {\n\n                transitionProps = 'fancybox-animated ' + transitionProps + ' fancybox-fx-' + current.opts.transitionEffect;\n\n                $.fancybox.animate( previous.$slide, transitionProps, duration, function() {\n                    previous.$slide.removeClass( transitionProps ).removeAttr( 'style' );\n                });\n\n            }\n\n        },\n\n\n        // Create new \"slide\" element\n        // These are gallery items  that are actually added to DOM\n        // =======================================================\n\n        createSlide : function( pos ) {\n\n            var self = this;\n            var $slide;\n            var index;\n\n            index = pos % self.group.length;\n            index = index < 0 ? self.group.length + index : index;\n\n            if ( !self.slides[ pos ] && self.group[ index ] ) {\n                $slide = $('<div class=\"fancybox-slide\"></div>').appendTo( self.$refs.stage );\n\n                self.slides[ pos ] = $.extend( true, {}, self.group[ index ], {\n                    pos      : pos,\n                    $slide   : $slide,\n                    isLoaded : false,\n                });\n\n                self.updateSlide( self.slides[ pos ] );\n            }\n\n            return self.slides[ pos ];\n        },\n\n\n        // Scale image to the actual size of the image\n        // ===========================================\n\n        scaleToActual : function( x, y, duration ) {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var imgPos, posX, posY, scaleX, scaleY;\n\n            var canvasWidth  = parseInt( current.$slide.width(), 10 );\n            var canvasHeight = parseInt( current.$slide.height(), 10 );\n\n            var newImgWidth  = current.width;\n            var newImgHeight = current.height;\n\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {\n                return;\n            }\n\n            $.fancybox.stop( $what );\n\n            self.isAnimating = true;\n\n            x = x === undefined ? canvasWidth  * 0.5  : x;\n            y = y === undefined ? canvasHeight * 0.5  : y;\n\n            imgPos = $.fancybox.getTranslate( $what );\n\n            scaleX  = newImgWidth  / imgPos.width;\n            scaleY  = newImgHeight / imgPos.height;\n\n            // Get center position for original image\n            posX = ( canvasWidth * 0.5  - newImgWidth * 0.5 );\n            posY = ( canvasHeight * 0.5 - newImgHeight * 0.5 );\n\n            // Make sure image does not move away from edges\n            if ( newImgWidth > canvasWidth ) {\n                posX = imgPos.left * scaleX - ( ( x * scaleX ) - x );\n\n                if ( posX > 0 ) {\n                    posX = 0;\n                }\n\n                if ( posX <  canvasWidth - newImgWidth ) {\n                    posX = canvasWidth - newImgWidth;\n                }\n            }\n\n            if ( newImgHeight > canvasHeight) {\n                posY = imgPos.top  * scaleY - ( ( y * scaleY ) - y );\n\n                if ( posY > 0 ) {\n                    posY = 0;\n                }\n\n                if ( posY <  canvasHeight - newImgHeight ) {\n                    posY = canvasHeight - newImgHeight;\n                }\n            }\n\n            self.updateCursor( newImgWidth, newImgHeight );\n\n            $.fancybox.animate( $what, {\n                top    : posY,\n                left   : posX,\n                scaleX : scaleX,\n                scaleY : scaleY\n            }, duration || 330, function() {\n                self.isAnimating = false;\n            });\n\n            // Stop slideshow\n            if ( self.SlideShow && self.SlideShow.isActive ) {\n                self.SlideShow.stop();\n            }\n        },\n\n\n        // Scale image to fit inside parent element\n        // ========================================\n\n        scaleToFit : function( duration ) {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n            var end;\n\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {\n                return;\n            }\n\n            $.fancybox.stop( $what );\n\n            self.isAnimating = true;\n\n            end = self.getFitPos( current );\n\n            self.updateCursor( end.width, end.height );\n\n            $.fancybox.animate( $what, {\n                top    : end.top,\n                left   : end.left,\n                scaleX : end.width  / $what.width(),\n                scaleY : end.height / $what.height()\n            }, duration || 330, function() {\n                self.isAnimating = false;\n            });\n\n        },\n\n        // Calculate image size to fit inside viewport\n        // ===========================================\n\n        getFitPos : function( slide ) {\n            var self  = this;\n            var $what = slide.$content;\n\n            var imgWidth  = slide.width;\n            var imgHeight = slide.height;\n\n            var margin = slide.opts.margin;\n\n            var canvasWidth, canvasHeight, minRatio, width, height;\n\n            if ( !$what || !$what.length || ( !imgWidth && !imgHeight) ) {\n                return false;\n            }\n\n            // Convert \"margin to CSS style: [ top, right, bottom, left ]\n            if ( $.type( margin ) === \"number\" ) {\n                margin = [ margin, margin ];\n            }\n\n            if ( margin.length == 2 ) {\n                margin = [ margin[0], margin[1], margin[0], margin[1] ];\n            }\n\n            // We can not use $slide width here, because it can have different diemensions while in transiton\n            canvasWidth  = parseInt( self.$refs.stage.width(), 10 )  - ( margin[ 1 ] + margin[ 3 ] );\n            canvasHeight = parseInt( self.$refs.stage.height(), 10 ) - ( margin[ 0 ] + margin[ 2 ] );\n\n            minRatio = Math.min(1, canvasWidth / imgWidth, canvasHeight / imgHeight );\n\n            width  = Math.floor( minRatio * imgWidth );\n            height = Math.floor( minRatio * imgHeight );\n\n            // Use floor rounding to make sure it really fits\n            return {\n                top    : Math.floor( ( canvasHeight - height ) * 0.5 ) + margin[ 0 ],\n                left   : Math.floor( ( canvasWidth  - width )  * 0.5 ) + margin[ 3 ],\n                width  : width,\n                height : height\n            };\n\n        },\n\n\n        // Update position and content of all slides\n        // =========================================\n\n        update : function() {\n\n            var self = this;\n\n            $.each( self.slides, function( key, slide ) {\n                self.updateSlide( slide );\n            });\n\n        },\n\n\n        // Update slide position and scale content to fit\n        // ==============================================\n\n        updateSlide : function( slide ) {\n\n            var self  = this;\n            var $what = slide.$content;\n\n            if ( $what && ( slide.width || slide.height ) ) {\n                self.isAnimating = false;\n\n                $.fancybox.stop( $what );\n\n                $.fancybox.setTranslate( $what, self.getFitPos( slide ) );\n\n                if ( slide.pos === self.currPos ) {\n                    self.updateCursor();\n                }\n            }\n\n            slide.$slide.trigger( 'refresh' );\n\n            self.trigger( 'onUpdate', slide );\n\n        },\n\n        // Update cursor style depending if content can be zoomed\n        // ======================================================\n\n        updateCursor : function( nextWidth, nextHeight ) {\n\n            var self = this;\n            var isScaledDown;\n\n            var $container = self.$refs.container.removeClass( 'fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut' );\n\n            if ( !self.current || self.isClosing ) {\n                return;\n            }\n\n            if ( self.isZoomable() ) {\n\n                $container.addClass( 'fancybox-is-zoomable' );\n\n                if ( nextWidth !== undefined && nextHeight !== undefined ) {\n                    isScaledDown = nextWidth < self.current.width && nextHeight < self.current.height;\n\n                } else {\n                    isScaledDown = self.isScaledDown();\n                }\n\n                if ( isScaledDown ) {\n\n                    // If image is scaled down, then, obviously, it can be zoomed to full size\n                    $container.addClass( 'fancybox-can-zoomIn' );\n\n                } else {\n\n                    if ( self.current.opts.touch ) {\n\n                        // If image size ir largen than available available and touch module is not disable,\n                        // then user can do panning\n                        $container.addClass( 'fancybox-can-drag' );\n\n                    } else {\n                        $container.addClass( 'fancybox-can-zoomOut' );\n                    }\n\n                }\n\n            } else if ( self.current.opts.touch ) {\n                $container.addClass( 'fancybox-can-drag' );\n            }\n\n        },\n\n\n        // Check if current slide is zoomable\n        // ==================================\n\n        isZoomable : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var fitPos;\n\n            if ( !current || self.isClosing ) {\n                return;\n            }\n\n            // Assume that slide is zoomable if\n            //   - image is loaded successfuly\n            //   - click action is \"zoom\"\n            //   - actual size of the image is smaller than available area\n            if ( current.type === 'image' && current.isLoaded && !current.hasError &&\n                ( current.opts.clickContent === 'zoom' || ( $.isFunction( current.opts.clickContent ) && current.opts.clickContent( current ) ===  \"zoom\" ) )\n            ) {\n\n                fitPos = self.getFitPos( current );\n\n                if ( current.width > fitPos.width || current.height > fitPos.height ) {\n                    return true;\n                }\n\n            }\n\n            return false;\n\n        },\n\n\n        // Check if current image dimensions are smaller than actual\n        // =========================================================\n\n        isScaledDown : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var rez = false;\n\n            if ( $what ) {\n                rez = $.fancybox.getTranslate( $what );\n                rez = rez.width < current.width || rez.height < current.height;\n            }\n\n            return rez;\n\n        },\n\n\n        // Check if image dimensions exceed parent element\n        // ===============================================\n\n        canPan : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var rez = false;\n\n            if ( $what ) {\n                rez = self.getFitPos( current );\n                rez = Math.abs( $what.width() - rez.width ) > 1  || Math.abs( $what.height() - rez.height ) > 1;\n\n            }\n\n            return rez;\n\n        },\n\n\n        // Load content into the slide\n        // ===========================\n\n        loadSlide : function( slide ) {\n\n            var self = this, type, $slide;\n            var ajaxLoad;\n\n            if ( slide.isLoading ) {\n                return;\n            }\n\n            if ( slide.isLoaded ) {\n                return;\n            }\n\n            slide.isLoading = true;\n\n            self.trigger( 'beforeLoad', slide );\n\n            type   = slide.type;\n            $slide = slide.$slide;\n\n            $slide\n                .off( 'refresh' )\n                .trigger( 'onReset' )\n                .addClass( 'fancybox-slide--' + ( type || 'unknown' ) )\n                .addClass( slide.opts.slideClass );\n\n            // Create content depending on the type\n\n            switch ( type ) {\n\n                case 'image':\n\n                    self.setImage( slide );\n\n                break;\n\n                case 'iframe':\n\n                    self.setIframe( slide );\n\n                break;\n\n                case 'html':\n\n                    self.setContent( slide, slide.src || slide.content );\n\n                break;\n\n                case 'inline':\n\n                    if ( $( slide.src ).length ) {\n                        self.setContent( slide, $( slide.src ) );\n\n                    } else {\n                        self.setError( slide );\n                    }\n\n                break;\n\n                case 'ajax':\n\n                    self.showLoading( slide );\n\n                    ajaxLoad = $.ajax( $.extend( {}, slide.opts.ajax.settings, {\n                        url : slide.src,\n                        success : function ( data, textStatus ) {\n\n                            if ( textStatus === 'success' ) {\n                                self.setContent( slide, data );\n                            }\n\n                        },\n                        error : function ( jqXHR, textStatus ) {\n\n                            if ( jqXHR && textStatus !== 'abort' ) {\n                                self.setError( slide );\n                            }\n\n                        }\n                    }));\n\n                    $slide.one( 'onReset', function () {\n                        ajaxLoad.abort();\n                    });\n\n                break;\n\n                default:\n\n                    self.setError( slide );\n\n                break;\n\n            }\n\n            return true;\n\n        },\n\n\n        // Use thumbnail image, if possible\n        // ================================\n\n        setImage : function( slide ) {\n\n            var self   = this;\n            var srcset = slide.opts.srcset || slide.opts.image.srcset;\n\n            var found, temp, pxRatio, windowWidth;\n\n            // If we have \"srcset\", then we need to find matching \"src\" value.\n            // This is necessary, because when you set an src attribute, the browser will preload the image\n            // before any javascript or even CSS is applied.\n            if ( srcset ) {\n                pxRatio     = window.devicePixelRatio || 1;\n                windowWidth = window.innerWidth  * pxRatio;\n\n                temp = srcset.split(',').map(function ( el ) {\n            \t\tvar ret = {};\n\n            \t\tel.trim().split(/\\s+/).forEach(function ( el, i ) {\n                        var value = parseInt( el.substring(0, el.length - 1), 10 );\n\n            \t\t\tif ( i === 0 ) {\n            \t\t\t\treturn ( ret.url = el );\n            \t\t\t}\n\n                        if ( value ) {\n                            ret.value   = value;\n                            ret.postfix = el[ el.length - 1 ];\n                        }\n\n            \t\t});\n\n            \t\treturn ret;\n            \t});\n\n                // Sort by value\n                temp.sort(function (a, b) {\n                  return a.value - b.value;\n                });\n\n                // Ok, now we have an array of all srcset values\n                for ( var j = 0; j < temp.length; j++ ) {\n                    var el = temp[ j ];\n\n                    if ( ( el.postfix === 'w' && el.value >= windowWidth ) || ( el.postfix === 'x' && el.value >= pxRatio ) ) {\n                        found = el;\n                        break;\n                    }\n                }\n\n                // If not found, take the last one\n                if ( !found && temp.length ) {\n                    found = temp[ temp.length - 1 ];\n                }\n\n                if ( found ) {\n                    slide.src = found.url;\n\n                    // If we have default width/height values, we can calculate height for matching source\n                    if ( slide.width && slide.height && found.postfix == 'w' ) {\n                        slide.height = ( slide.width / slide.height ) * found.value;\n                        slide.width  = found.value;\n                    }\n                }\n            }\n\n            // This will be wrapper containing both ghost and actual image\n            slide.$content = $('<div class=\"fancybox-image-wrap\"></div>')\n                .addClass( 'fancybox-is-hidden' )\n                .appendTo( slide.$slide );\n\n\n            // If we have a thumbnail, we can display it while actual image is loading\n            // Users will not stare at black screen and actual image will appear gradually\n            if ( slide.opts.preload !== false && slide.opts.width && slide.opts.height && ( slide.opts.thumb || slide.opts.$thumb ) ) {\n\n                slide.width  = slide.opts.width;\n                slide.height = slide.opts.height;\n\n                slide.$ghost = $('<img />')\n                    .one('error', function() {\n\n                        $(this).remove();\n\n                        slide.$ghost = null;\n\n                        self.setBigImage( slide );\n\n                    })\n                    .one('load', function() {\n\n                        self.afterLoad( slide );\n\n                        self.setBigImage( slide );\n\n                    })\n                    .addClass( 'fancybox-image' )\n                    .appendTo( slide.$content )\n                    .attr( 'src', slide.opts.thumb || slide.opts.$thumb.attr( 'src' ) );\n\n            } else {\n\n                self.setBigImage( slide );\n\n            }\n\n        },\n\n\n        // Create full-size image\n        // ======================\n\n        setBigImage : function ( slide ) {\n            var self = this;\n            var $img = $('<img />');\n\n            slide.$image = $img\n                .one('error', function() {\n\n                    self.setError( slide );\n\n                })\n                .one('load', function() {\n\n                    // Clear timeout that checks if loading icon needs to be displayed\n                    clearTimeout( slide.timouts );\n\n                    slide.timouts = null;\n\n                    if ( self.isClosing ) {\n                        return;\n                    }\n\n                    slide.width  = this.naturalWidth;\n                    slide.height = this.naturalHeight;\n\n                    if ( slide.opts.image.srcset ) {\n                        $img.attr( 'sizes', '100vw' ).attr( 'srcset', slide.opts.image.srcset );\n                    }\n\n                    self.hideLoading( slide );\n\n                    if ( slide.$ghost ) {\n\n                        slide.timouts = setTimeout(function() {\n                            slide.timouts = null;\n\n                            slide.$ghost.hide();\n\n                        }, Math.min( 300, Math.max( 1000, slide.height / 1600 ) ) );\n\n                    } else {\n                        self.afterLoad( slide );\n                    }\n\n                })\n                .addClass( 'fancybox-image' )\n                .attr('src', slide.src)\n                .appendTo( slide.$content );\n\n            if ( ( $img[0].complete || $img[0].readyState == \"complete\" ) && $img[0].naturalWidth && $img[0].naturalHeight ) {\n                  $img.trigger( 'load' );\n\n            } else if( $img[0].error ) {\n                 $img.trigger( 'error' );\n\n            } else {\n\n                slide.timouts = setTimeout(function() {\n                    if ( !$img[0].complete && !slide.hasError ) {\n                        self.showLoading( slide );\n                    }\n\n                }, 100);\n\n            }\n\n        },\n\n\n        // Create iframe wrapper, iframe and bindings\n        // ==========================================\n\n        setIframe : function( slide ) {\n            var self\t= this,\n                opts    = slide.opts.iframe,\n                $slide\t= slide.$slide,\n                $iframe;\n\n            slide.$content = $('<div class=\"fancybox-content' + ( opts.preload ? ' fancybox-is-hidden' : '' ) + '\"></div>')\n                .css( opts.css )\n                .appendTo( $slide );\n\n            $iframe = $( opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()) )\n                .attr( opts.attr )\n                .appendTo( slide.$content );\n\n            if ( opts.preload ) {\n\n                self.showLoading( slide );\n\n                // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n                // (due to browser security policy)\n\n                $iframe.on('load.fb error.fb', function(e) {\n                    this.isReady = 1;\n\n                    slide.$slide.trigger( 'refresh' );\n\n                    self.afterLoad( slide );\n                });\n\n                // Recalculate iframe content size\n                // ===============================\n\n                $slide.on('refresh.fb', function() {\n                    var $wrap = slide.$content,\n                        frameWidth  = opts.css.width,\n                        frameHeight = opts.css.height,\n                        scrollWidth,\n                        $contents,\n                        $body;\n\n                    if ( $iframe[0].isReady !== 1 ) {\n                        return;\n                    }\n\n                    // Check if content is accessible,\n                    // it will fail if frame is not with the same origin\n\n                    try {\n                        $contents = $iframe.contents();\n                        $body     = $contents.find('body');\n\n                    } catch (ignore) {}\n\n                    // Calculate dimensions for the wrapper\n                    if ( $body && $body.length ) {\n\n                        if ( frameWidth === undefined ) {\n                            scrollWidth = $iframe[0].contentWindow.document.documentElement.scrollWidth;\n\n                            frameWidth = Math.ceil( $body.outerWidth(true) + ( $wrap.width() - scrollWidth ) );\n                            frameWidth += $wrap.outerWidth() - $wrap.innerWidth();\n                        }\n\n                        if ( frameHeight === undefined ) {\n                            frameHeight = Math.ceil( $body.outerHeight(true) );\n                            frameHeight += $wrap.outerHeight() - $wrap.innerHeight();\n                        }\n\n                        // Resize wrapper to fit iframe content\n                        if ( frameWidth ) {\n                            $wrap.width( frameWidth );\n                        }\n\n                        if ( frameHeight ) {\n                            $wrap.height( frameHeight );\n                        }\n                    }\n\n                    $wrap.removeClass( 'fancybox-is-hidden' );\n\n                });\n\n            } else {\n\n                this.afterLoad( slide );\n\n            }\n\n            $iframe.attr( 'src', slide.src );\n\n            if ( slide.opts.smallBtn === true ) {\n                slide.$content.prepend( self.translate( slide, slide.opts.btnTpl.smallBtn ) );\n            }\n\n            // Remove iframe if closing or changing gallery item\n            $slide.one( 'onReset', function () {\n\n                // This helps IE not to throw errors when closing\n                try {\n\n                    $( this ).find( 'iframe' ).hide().attr( 'src', '//about:blank' );\n\n                } catch ( ignore ) {}\n\n                $( this ).empty();\n\n                slide.isLoaded = false;\n\n            });\n\n        },\n\n\n        // Wrap and append content to the slide\n        // ======================================\n\n        setContent : function ( slide, content ) {\n\n            var self = this;\n\n            if ( self.isClosing ) {\n                return;\n            }\n\n            self.hideLoading( slide );\n\n            slide.$slide.empty();\n\n            if ( isQuery( content ) && content.parent().length ) {\n\n                // If content is a jQuery object, then it will be moved to the slide.\n                // The placeholder is created so we will know where to put it back.\n                // If user is navigating gallery fast, then the content might be already inside fancyBox\n                // =====================================================================================\n\n                // Make sure content is not already moved to fancyBox\n                content.parent( '.fancybox-slide--inline' ).trigger( 'onReset' );\n\n                // Create temporary element marking original place of the content\n                slide.$placeholder = $( '<div></div>' ).hide().insertAfter( content );\n\n                // Make sure content is visible\n                content.css('display', 'inline-block');\n\n            } else if ( !slide.hasError ) {\n\n                // If content is just a plain text, try to convert it to html\n                if ( $.type( content ) === 'string' ) {\n                    content = $('<div>').append( $.trim( content ) ).contents();\n\n                    // If we have text node, then add wrapping element to make vertical alignment work\n                    if ( content[0].nodeType === 3 ) {\n                        content = $('<div>').html( content );\n                    }\n                }\n\n                // If \"filter\" option is provided, then filter content\n                if ( slide.opts.filter ) {\n                    content = $('<div>').html( content ).find( slide.opts.filter );\n                }\n\n            }\n\n            slide.$slide.one('onReset', function () {\n\n                // Put content back\n                if ( slide.$placeholder ) {\n                    slide.$placeholder.after( content.hide() ).remove();\n\n                    slide.$placeholder = null;\n                }\n\n                // Remove custom close button\n                if ( slide.$smallBtn ) {\n                    slide.$smallBtn.remove();\n\n                    slide.$smallBtn = null;\n                }\n\n                // Remove content and mark slide as not loaded\n                if ( !slide.hasError ) {\n                    $(this).empty();\n\n                    slide.isLoaded = false;\n                }\n\n            });\n\n            slide.$content = $( content ).appendTo( slide.$slide );\n\n            this.afterLoad( slide );\n        },\n\n        // Display error message\n        // =====================\n\n        setError : function ( slide ) {\n\n            slide.hasError = true;\n\n            slide.$slide.removeClass( 'fancybox-slide--' + slide.type );\n\n            this.setContent( slide, this.translate( slide, slide.opts.errorTpl ) );\n\n        },\n\n\n        // Show loading icon inside the slide\n        // ==================================\n\n        showLoading : function( slide ) {\n\n            var self = this;\n\n            slide = slide || self.current;\n\n            if ( slide && !slide.$spinner ) {\n                slide.$spinner = $( self.opts.spinnerTpl ).appendTo( slide.$slide );\n            }\n\n        },\n\n        // Remove loading icon from the slide\n        // ==================================\n\n        hideLoading : function( slide ) {\n\n            var self = this;\n\n            slide = slide || self.current;\n\n            if ( slide && slide.$spinner ) {\n                slide.$spinner.remove();\n\n                delete slide.$spinner;\n            }\n\n        },\n\n\n        // Adjustments after slide content has been loaded\n        // ===============================================\n\n        afterLoad : function( slide ) {\n\n            var self = this;\n\n            if ( self.isClosing ) {\n                return;\n            }\n\n            slide.isLoading = false;\n            slide.isLoaded  = true;\n\n            self.trigger( 'afterLoad', slide );\n\n            self.hideLoading( slide );\n\n            if ( slide.opts.smallBtn && !slide.$smallBtn ) {\n                slide.$smallBtn = $( self.translate( slide, slide.opts.btnTpl.smallBtn ) ).appendTo( slide.$content.filter('div,form').first() );\n            }\n\n            if ( slide.opts.protect && slide.$content && !slide.hasError ) {\n\n                // Disable right click\n                slide.$content.on( 'contextmenu.fb', function( e ) {\n                     if ( e.button == 2 ) {\n                         e.preventDefault();\n                     }\n\n                    return true;\n                });\n\n                // Add fake element on top of the image\n                // This makes a bit harder for user to select image\n                if ( slide.type === 'image' ) {\n                    $( '<div class=\"fancybox-spaceball\"></div>' ).appendTo( slide.$content );\n                }\n\n            }\n\n            self.revealContent( slide );\n\n        },\n\n\n        // Make content visible\n        // This method is called right after content has been loaded or\n        // user navigates gallery and transition should start\n        // ============================================================\n\n        revealContent : function( slide ) {\n\n            var self   = this;\n            var $slide = slide.$slide;\n\n            var effect, effectClassName, duration, opacity, end, start = false;\n\n            effect   = slide.opts[ self.firstRun ? 'animationEffect'   : 'transitionEffect' ];\n            duration = slide.opts[ self.firstRun ? 'animationDuration' : 'transitionDuration' ];\n\n            duration = parseInt( slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10 );\n\n            if ( slide.isMoved || slide.pos !== self.currPos || !duration ) {\n                effect = false;\n            }\n\n            // Check if can zoom\n            if ( effect === 'zoom' && !( slide.pos === self.currPos && duration && slide.type === 'image' && !slide.hasError && ( start = self.getThumbPos( slide ) ) ) ) {\n                effect = 'fade';\n            }\n\n            // Zoom animation\n            // ==============\n\n            if ( effect === 'zoom' ) {\n                end = self.getFitPos( slide );\n\n                end.scaleX = end.width  / start.width;\n                end.scaleY = end.height / start.height;\n\n                delete end.width;\n                delete end.height;\n\n                // Check if we need to animate opacity\n                opacity = slide.opts.zoomOpacity;\n\n                if ( opacity == 'auto' ) {\n                    opacity = Math.abs( slide.width / slide.height - start.width / start.height ) > 0.1;\n                }\n\n                if ( opacity ) {\n                    start.opacity = 0.1;\n                    end.opacity   = 1;\n                }\n\n                // Draw image at start position\n                $.fancybox.setTranslate( slide.$content.removeClass( 'fancybox-is-hidden' ), start );\n\n                forceRedraw( slide.$content );\n\n                // Start animation\n                $.fancybox.animate( slide.$content, end, duration, function() {\n                    self.complete();\n                });\n\n                return;\n            }\n\n            self.updateSlide( slide );\n\n\n            // Simply show content\n            // ===================\n\n            if ( !effect ) {\n                forceRedraw( $slide );\n\n                slide.$content.removeClass( 'fancybox-is-hidden' );\n\n                if ( slide.pos === self.currPos ) {\n                    self.complete();\n                }\n\n                return;\n            }\n\n            $.fancybox.stop( $slide );\n\n            effectClassName = 'fancybox-animated fancybox-slide--' + ( slide.pos >= self.prevPos ? 'next' : 'previous' ) + ' fancybox-fx-' + effect;\n\n            $slide.removeAttr( 'style' ).removeClass( 'fancybox-slide--current fancybox-slide--next fancybox-slide--previous' ).addClass( effectClassName );\n\n            slide.$content.removeClass( 'fancybox-is-hidden' );\n\n            //Force reflow for CSS3 transitions\n            forceRedraw( $slide );\n\n            $.fancybox.animate( $slide, 'fancybox-slide--current', duration, function(e) {\n                $slide.removeClass( effectClassName ).removeAttr( 'style' );\n\n                if ( slide.pos === self.currPos ) {\n                    self.complete();\n                }\n\n            }, true);\n\n        },\n\n\n        // Check if we can and have to zoom from thumbnail\n        //================================================\n\n        getThumbPos : function( slide ) {\n\n            var self = this;\n            var rez  = false;\n\n            // Check if element is inside the viewport by at least 1 pixel\n            var isElementVisible = function( $el ) {\n                var element = $el[0];\n\n                var elementRect = element.getBoundingClientRect();\n                var parentRects = [];\n\n                var visibleInAllParents;\n\n                while ( element.parentElement !== null ) {\n                    if ( $(element.parentElement).css('overflow') === 'hidden'  || $(element.parentElement).css('overflow') === 'auto' ) {\n                        parentRects.push(element.parentElement.getBoundingClientRect());\n                    }\n\n                    element = element.parentElement;\n                }\n\n                visibleInAllParents = parentRects.every(function(parentRect){\n                    var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);\n                    var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);\n\n                    return visiblePixelX > 0 && visiblePixelY > 0;\n                });\n\n                return visibleInAllParents &&\n                    elementRect.bottom > 0 && elementRect.right > 0 &&\n                    elementRect.left < $(window).width() && elementRect.top < $(window).height();\n            };\n\n            var $thumb   = slide.opts.$thumb;\n            var thumbPos = $thumb ? $thumb.offset() : 0;\n            var slidePos;\n\n            if ( thumbPos && $thumb[0].ownerDocument === document && isElementVisible( $thumb ) ) {\n                slidePos = self.$refs.stage.offset();\n\n                rez = {\n                    top    : thumbPos.top  - slidePos.top  + parseFloat( $thumb.css( \"border-top-width\" ) || 0 ),\n                    left   : thumbPos.left - slidePos.left + parseFloat( $thumb.css( \"border-left-width\" ) || 0 ),\n                    width  : $thumb.width(),\n                    height : $thumb.height(),\n                    scaleX : 1,\n                    scaleY : 1\n                };\n            }\n\n            return rez;\n        },\n\n\n        // Final adjustments after current gallery item is moved to position\n        // and it`s content is loaded\n        // ==================================================================\n\n        complete : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var slides  = {};\n\n            if ( current.isMoved || !current.isLoaded || current.isComplete ) {\n                return;\n            }\n\n            current.isComplete = true;\n\n            current.$slide.siblings().trigger( 'onReset' );\n\n            // Trigger any CSS3 transiton inside the slide\n            forceRedraw( current.$slide );\n\n            current.$slide.addClass( 'fancybox-slide--complete' );\n\n            // Remove unnecessary slides\n            $.each( self.slides, function( key, slide ) {\n                if ( slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1 ) {\n                    slides[ slide.pos ] = slide;\n\n                } else if ( slide ) {\n\n                    $.fancybox.stop( slide.$slide );\n\n                    slide.$slide.off().remove();\n                }\n            });\n\n            self.slides = slides;\n\n            self.updateCursor();\n\n            self.trigger( 'afterShow' );\n\n            // Try to focus on the first focusable element\n            if ( $( document.activeElement ).is( '[disabled]' ) || ( current.opts.autoFocus && !( current.type == 'image' || current.type === 'iframe' ) ) ) {\n                self.focus();\n            }\n\n        },\n\n\n        // Preload next and previous slides\n        // ================================\n\n        preload : function() {\n            var self = this;\n            var next, prev;\n\n            if ( self.group.length < 2 ) {\n                return;\n            }\n\n            next  = self.slides[ self.currPos + 1 ];\n            prev  = self.slides[ self.currPos - 1 ];\n\n            if ( next && next.type === 'image' ) {\n                self.loadSlide( next );\n            }\n\n            if ( prev && prev.type === 'image' ) {\n                self.loadSlide( prev );\n            }\n\n        },\n\n\n        // Try to find and focus on the first focusable element\n        // ====================================================\n\n        focus : function() {\n            var current = this.current;\n            var $el;\n\n            if ( this.isClosing ) {\n                return;\n            }\n\n            if ( current && current.isComplete ) {\n\n                // Look for first input with autofocus attribute\n                $el = current.$slide.find('input[autofocus]:enabled:visible:first');\n\n                if ( !$el.length ) {\n                    $el = current.$slide.find('button,:input,[tabindex],a').filter(':enabled:visible:first');\n                }\n            }\n\n            $el = $el && $el.length ? $el : this.$refs.container;\n\n            $el.focus();\n        },\n\n\n        // Activates current instance - brings container to the front and enables keyboard,\n        // notifies other instances about deactivating\n        // =================================================================================\n\n        activate : function () {\n            var self = this;\n\n            // Deactivate all instances\n            $( '.fancybox-container' ).each(function () {\n                var instance = $(this).data( 'FancyBox' );\n\n                // Skip self and closing instances\n                if (instance && instance.id !== self.id && !instance.isClosing) {\n                    instance.trigger( 'onDeactivate' );\n\n                    instance.removeEvents();\n\n                    instance.isVisible = false;\n                }\n\n            });\n\n            self.isVisible = true;\n\n            if ( self.current || self.isIdle ) {\n                self.update();\n\n                self.updateControls();\n            }\n\n            self.trigger( 'onActivate' );\n\n            self.addEvents();\n        },\n\n\n        // Start closing procedure\n        // This will start \"zoom-out\" animation if needed and clean everything up afterwards\n        // =================================================================================\n\n        close : function( e, d ) {\n\n            var self    = this;\n            var current = self.current;\n\n            var effect, duration;\n            var $what, opacity, start, end;\n\n            var done = function() {\n                self.cleanUp( e );\n            };\n\n            if ( self.isClosing ) {\n                return false;\n            }\n\n            self.isClosing = true;\n\n            // If beforeClose callback prevents closing, make sure content is centered\n            if ( self.trigger( 'beforeClose', e ) === false ) {\n                self.isClosing = false;\n\n                requestAFrame(function() {\n                    self.update();\n                });\n\n                return false;\n            }\n\n            // Remove all events\n            // If there are multiple instances, they will be set again by \"activate\" method\n            self.removeEvents();\n\n            if ( current.timouts ) {\n                clearTimeout( current.timouts );\n            }\n\n            $what    = current.$content;\n            effect   = current.opts.animationEffect;\n            duration = $.isNumeric( d ) ? d : ( effect ? current.opts.animationDuration : 0 );\n\n            // Remove other slides\n            current.$slide.off( transitionEnd ).removeClass( 'fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated' );\n\n            current.$slide.siblings().trigger( 'onReset' ).remove();\n\n            // Trigger animations\n            if ( duration ) {\n                self.$refs.container.removeClass( 'fancybox-is-open' ).addClass( 'fancybox-is-closing' );\n            }\n\n            // Clean up\n            self.hideLoading( current );\n\n            self.hideControls();\n\n            self.updateCursor();\n\n            // Check if possible to zoom-out\n            if ( effect === 'zoom' && !( e !== true && $what && duration && current.type === 'image' && !current.hasError && ( end = self.getThumbPos( current ) ) ) ) {\n                effect = 'fade';\n            }\n\n            if ( effect === 'zoom' ) {\n                $.fancybox.stop( $what );\n\n                start = $.fancybox.getTranslate( $what );\n\n                start.width  = start.width  * start.scaleX;\n                start.height = start.height * start.scaleY;\n\n                // Check if we need to animate opacity\n                opacity = current.opts.zoomOpacity;\n\n                if ( opacity == 'auto' ) {\n                    opacity = Math.abs( current.width / current.height - end.width / end.height ) > 0.1;\n                }\n\n                if ( opacity ) {\n                    end.opacity = 0;\n                }\n\n                start.scaleX = start.width  / end.width;\n                start.scaleY = start.height / end.height;\n\n                start.width  = end.width;\n                start.height = end.height;\n\n                $.fancybox.setTranslate( current.$content, start );\n\n                forceRedraw( current.$content );\n\n                $.fancybox.animate( current.$content, end, duration, done );\n\n                return true;\n            }\n\n            if ( effect && duration ) {\n\n                // If skip animation\n                if ( e === true ) {\n                    setTimeout( done, duration );\n\n                } else {\n                    $.fancybox.animate( current.$slide.removeClass( 'fancybox-slide--current' ), 'fancybox-animated fancybox-slide--previous fancybox-fx-' + effect, duration, done );\n                }\n\n            } else {\n                done();\n            }\n\n            return true;\n        },\n\n\n        // Final adjustments after removing the instance\n        // =============================================\n\n        cleanUp : function( e ) {\n            var self  = this,\n                $body = $( 'body' ),\n                instance,\n                offset;\n\n            self.current.$slide.trigger( 'onReset' );\n\n            self.$refs.container.empty().remove();\n\n            self.trigger( 'afterClose', e );\n\n            // Place back focus\n            if ( self.$lastFocus && !!self.current.opts.backFocus ) {\n                self.$lastFocus.focus();\n            }\n\n            self.current = null;\n\n            // Check if there are other instances\n            instance = $.fancybox.getInstance();\n\n            if ( instance ) {\n                instance.activate();\n\n            } else {\n\n                $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\n\n                $body.removeClass( 'fancybox-active compensate-for-scrollbar' );\n\n                if ( $body.hasClass( 'fancybox-iosfix' ) ) {\n                    offset = parseInt(document.body.style.top, 10);\n\n                    $body.removeClass( 'fancybox-iosfix' ).css( 'top', '' ).scrollTop( offset * -1 );\n                }\n\n                $( '#fancybox-style-noscroll' ).remove();\n\n            }\n\n        },\n\n\n        // Call callback and trigger an event\n        // ==================================\n\n        trigger : function( name, slide ) {\n            var args  = Array.prototype.slice.call(arguments, 1),\n                self  = this,\n                obj   = slide && slide.opts ? slide : self.current,\n                rez;\n\n            if ( obj ) {\n                args.unshift( obj );\n\n            } else {\n                obj = self;\n            }\n\n            args.unshift( self );\n\n            if ( $.isFunction( obj.opts[ name ] ) ) {\n                rez = obj.opts[ name ].apply( obj, args );\n            }\n\n            if ( rez === false ) {\n                return rez;\n            }\n\n            if ( name === 'afterClose' || !self.$refs ) {\n                $D.trigger( name + '.fb', args );\n\n            } else {\n                self.$refs.container.trigger( name + '.fb', args );\n            }\n\n        },\n\n\n        // Update infobar values, navigation button states and reveal caption\n        // ==================================================================\n\n        updateControls : function ( force ) {\n\n            var self = this;\n\n            var current  = self.current,\n                index    = current.index,\n                caption  = current.opts.caption,\n                $container = self.$refs.container,\n                $caption   = self.$refs.caption;\n\n            // Recalculate content dimensions\n            current.$slide.trigger( 'refresh' );\n\n            self.$caption = caption && caption.length ? $caption.html( caption ) : null;\n\n            if ( !self.isHiddenControls && !self.isIdle ) {\n                self.showControls();\n            }\n\n            // Update info and navigation elements\n            $container.find('[data-fancybox-count]').html( self.group.length );\n            $container.find('[data-fancybox-index]').html( index + 1 );\n\n            $container.find('[data-fancybox-prev]').prop( 'disabled', ( !current.opts.loop && index <= 0 ) );\n            $container.find('[data-fancybox-next]').prop( 'disabled', ( !current.opts.loop && index >= self.group.length - 1 ) );\n\n            if ( current.type === 'image' ) {\n\n                // Update download button source\n                $container.find('[data-fancybox-download]').attr( 'href', current.opts.image.src || current.src ).show();\n\n            } else {\n                $container.find('[data-fancybox-download],[data-fancybox-zoom]').hide();\n            }\n        },\n\n        // Hide toolbar and caption\n        // ========================\n\n        hideControls : function () {\n\n            this.isHiddenControls = true;\n\n            this.$refs.container.removeClass( 'fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav' );\n\n        },\n\n        showControls : function() {\n            var self = this;\n            var opts = self.current ? self.current.opts : self.opts;\n            var $container = self.$refs.container;\n\n            self.isHiddenControls   = false;\n            self.idleSecondsCounter = 0;\n\n            $container\n                .toggleClass( 'fancybox-show-toolbar', !!( opts.toolbar && opts.buttons ) )\n                .toggleClass( 'fancybox-show-infobar', !!( opts.infobar && self.group.length > 1 ) )\n                .toggleClass( 'fancybox-show-nav',     !!( opts.arrows && self.group.length > 1 ) )\n                .toggleClass( 'fancybox-is-modal',     !!opts.modal );\n\n            if ( self.$caption ) {\n                $container.addClass( 'fancybox-show-caption ');\n\n            } else {\n               $container.removeClass( 'fancybox-show-caption' );\n           }\n\n       },\n\n\n       // Toggle toolbar and caption\n       // ==========================\n\n       toggleControls : function() {\n           if ( this.isHiddenControls ) {\n               this.showControls();\n\n           } else {\n               this.hideControls();\n           }\n\n       },\n\n\n    });\n\n\n    $.fancybox = {\n\n        version  : \"3.2.5\",\n        defaults : defaults,\n\n\n        // Get current instance and execute a command.\n        //\n        // Examples of usage:\n        //\n        //   $instance = $.fancybox.getInstance();\n        //   $.fancybox.getInstance().jumpTo( 1 );\n        //   $.fancybox.getInstance( 'jumpTo', 1 );\n        //   $.fancybox.getInstance( function() {\n        //       console.info( this.currIndex );\n        //   });\n        // ======================================================\n\n        getInstance : function ( command ) {\n            var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data( 'FancyBox' );\n            var args     = Array.prototype.slice.call(arguments, 1);\n\n            if ( instance instanceof FancyBox ) {\n\n                if ( $.type( command ) === 'string' ) {\n                    instance[ command ].apply( instance, args );\n\n                } else if ( $.type( command ) === 'function' ) {\n                    command.apply( instance, args );\n                }\n\n                return instance;\n            }\n\n            return false;\n\n        },\n\n\n        // Create new instance\n        // ===================\n\n        open : function ( items, opts, index ) {\n            return new FancyBox( items, opts, index );\n        },\n\n\n        // Close current or all instances\n        // ==============================\n\n        close : function ( all ) {\n            var instance = this.getInstance();\n\n            if ( instance ) {\n                instance.close();\n\n                // Try to find and close next instance\n\n                if ( all === true ) {\n                    this.close();\n                }\n            }\n\n        },\n\n        // Close instances and unbind all events\n        // ==============================\n\n        destroy : function() {\n\n            this.close( true );\n\n            $D.off( 'click.fb-start' );\n\n        },\n\n\n        // Try to detect mobile devices\n        // ============================\n\n        isMobile : document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n\n\n        // Detect if 'translate3d' support is available\n        // ============================================\n\n        use3d : (function() {\n            var div = document.createElement('div');\n\n            return window.getComputedStyle && window.getComputedStyle( div ).getPropertyValue('transform') && !(document.documentMode && document.documentMode < 11);\n        }()),\n\n        // Helper function to get current visual state of an element\n        // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n        // =====================================================================\n\n        getTranslate : function( $el ) {\n            var matrix;\n\n            if ( !$el || !$el.length ) {\n                return false;\n            }\n\n            matrix  = $el.eq( 0 ).css('transform');\n\n            if ( matrix && matrix.indexOf( 'matrix' ) !== -1 ) {\n                matrix = matrix.split('(')[1];\n                matrix = matrix.split(')')[0];\n                matrix = matrix.split(',');\n            } else {\n                matrix = [];\n            }\n\n            if ( matrix.length ) {\n\n                // If IE\n                if ( matrix.length > 10 ) {\n                    matrix = [ matrix[13], matrix[12], matrix[0], matrix[5] ];\n\n                } else {\n                    matrix = [ matrix[5], matrix[4], matrix[0], matrix[3]];\n                }\n\n                matrix = matrix.map(parseFloat);\n\n            } else {\n                matrix = [ 0, 0, 1, 1 ];\n\n                var transRegex = /\\.*translate\\((.*)px,(.*)px\\)/i;\n                var transRez = transRegex.exec( $el.eq( 0 ).attr('style') );\n\n                if ( transRez ) {\n                    matrix[ 0 ] = parseFloat( transRez[2] );\n                    matrix[ 1 ] = parseFloat( transRez[1] );\n                }\n            }\n\n            return {\n                top     : matrix[ 0 ],\n                left    : matrix[ 1 ],\n                scaleX  : matrix[ 2 ],\n                scaleY  : matrix[ 3 ],\n                opacity : parseFloat( $el.css('opacity') ),\n                width   : $el.width(),\n                height  : $el.height()\n            };\n\n        },\n\n\n        // Shortcut for setting \"translate3d\" properties for element\n        // Can set be used to set opacity, too\n        // ========================================================\n\n        setTranslate : function( $el, props ) {\n            var str  = '';\n            var css  = {};\n\n            if ( !$el || !props ) {\n                return;\n            }\n\n            if ( props.left !== undefined || props.top !== undefined ) {\n                str = ( props.left === undefined ? $el.position().left : props.left )  + 'px, ' + ( props.top === undefined ? $el.position().top : props.top ) + 'px';\n\n                if ( this.use3d ) {\n                    str = 'translate3d(' + str + ', 0px)';\n\n                } else {\n                    str = 'translate(' + str + ')';\n                }\n            }\n\n            if ( props.scaleX !== undefined && props.scaleY !== undefined ) {\n                str = (str.length ? str + ' ' : '') + 'scale(' + props.scaleX + ', ' + props.scaleY + ')';\n            }\n\n            if ( str.length ) {\n                css.transform = str;\n            }\n\n            if ( props.opacity !== undefined ) {\n                css.opacity = props.opacity;\n            }\n\n            if ( props.width !== undefined ) {\n                css.width = props.width;\n            }\n\n            if ( props.height !== undefined ) {\n                css.height = props.height;\n            }\n\n            return $el.css( css );\n        },\n\n\n        // Simple CSS transition handler\n        // =============================\n\n        animate : function ( $el, to, duration, callback, leaveAnimationName ) {\n            if ( $.isFunction( duration ) ) {\n                callback = duration;\n                duration = null;\n            }\n\n            if ( !$.isPlainObject( to ) ) {\n                $el.removeAttr('style');\n            }\n\n            $el.on( transitionEnd, function(e) {\n\n                // Skip events from child elements and z-index change\n                if ( e && e.originalEvent && ( !$el.is( e.originalEvent.target ) || e.originalEvent.propertyName == 'z-index' ) ) {\n                    return;\n                }\n\n                $.fancybox.stop( $el );\n\n                if ( $.isPlainObject( to ) ) {\n\n                    if ( to.scaleX !== undefined && to.scaleY !== undefined ) {\n                        $el.css( 'transition-duration', '' );\n\n                        to.width  = Math.round( $el.width()  * to.scaleX );\n                        to.height = Math.round( $el.height() * to.scaleY );\n\n                        to.scaleX = 1;\n                        to.scaleY = 1;\n\n                        $.fancybox.setTranslate( $el, to );\n                    }\n\n                } else if ( leaveAnimationName !== true ) {\n                    $el.removeClass( to );\n                }\n\n                if ( $.isFunction( callback ) ) {\n                    callback( e );\n                }\n\n            });\n\n            if ( $.isNumeric( duration ) ) {\n                $el.css( 'transition-duration', duration + 'ms' );\n            }\n\n            if ( $.isPlainObject( to ) ) {\n                $.fancybox.setTranslate( $el, to );\n\n            } else {\n                $el.addClass( to );\n            }\n\n            if ( to.scaleX && $el.hasClass( 'fancybox-image-wrap' ) ) {\n                $el.parent().addClass( 'fancybox-is-scaling' );\n            }\n\n            // Make sure that `transitionend` callback gets fired\n            $el.data(\"timer\", setTimeout(function() {\n                $el.trigger( 'transitionend' );\n            }, duration + 16));\n\n        },\n\n        stop : function( $el ) {\n            clearTimeout( $el.data(\"timer\") );\n\n            $el.off( 'transitionend' ).css( 'transition-duration', '' );\n\n            if ( $el.hasClass( 'fancybox-image-wrap' ) ) {\n                $el.parent().removeClass( 'fancybox-is-scaling' );\n            }\n        }\n\n    };\n\n\n    // Default click handler for \"fancyboxed\" links\n    // ============================================\n\n    function _run( e ) {\n        var $target\t= $( e.currentTarget ),\n            opts\t= e.data ? e.data.options : {},\n            value\t= $target.attr( 'data-fancybox' ) || '',\n            index\t= 0,\n            items   = [];\n\n        // Avoid opening multiple times\n        if ( e.isDefaultPrevented() ) {\n            return;\n        }\n\n        e.preventDefault();\n\n        // Get all related items and find index for clicked one\n        if ( value ) {\n            items = opts.selector ? $( opts.selector ) : ( e.data ? e.data.items : [] );\n            items = items.length ? items.filter( '[data-fancybox=\"' + value + '\"]' ) : $( '[data-fancybox=\"' + value + '\"]' );\n\n            index = items.index( $target );\n\n            // Sometimes current item can not be found\n            // (for example, when slider clones items)\n            if ( index < 0 ) {\n                index = 0;\n            }\n\n        } else {\n            items = [ $target ];\n        }\n\n        $.fancybox.open( items, opts, index );\n    }\n\n\n    // Create a jQuery plugin\n    // ======================\n\n    $.fn.fancybox = function (options) {\n        var selector;\n\n        options  = options || {};\n        selector = options.selector || false;\n\n        if ( selector ) {\n\n            $( 'body' ).off( 'click.fb-start', selector ).on( 'click.fb-start', selector, {\n                options : options\n            }, _run );\n\n        } else {\n\n            this.off( 'click.fb-start' ).on( 'click.fb-start', {\n                items   : this,\n                options : options\n            }, _run);\n\n        }\n\n        return this;\n    };\n\n\n    // Self initializing plugin\n    // ========================\n\n    $D.on( 'click.fb-start', '[data-fancybox]', _run );\n\n}( window, document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n;(function ($) {\n\n\t'use strict';\n\n\t// Formats matching url to final form\n\n\tvar format = function (url, rez, params) {\n\t\tif ( !url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tparams = params || '';\n\n\t\tif ( $.type(params) === \"object\" ) {\n\t\t\tparams = $.param(params, true);\n\t\t}\n\n\t\t$.each(rez, function (key, value) {\n\t\t\turl = url.replace('$' + key, value || '');\n\t\t});\n\n\t\tif (params.length) {\n\t\t\turl += (url.indexOf('?') > 0 ? '&' : '?') + params;\n\t\t}\n\n\t\treturn url;\n\t};\n\n\t// Object containing properties for each media type\n\n\tvar defaults = {\n\t\tyoutube : {\n\t\t\tmatcher : /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n\t\t\tparams  : {\n\t\t\t\tautoplay : 1,\n\t\t\t\tautohide : 1,\n\t\t\t\tfs  : 1,\n\t\t\t\trel : 0,\n\t\t\t\thd  : 1,\n\t\t\t\twmode : 'transparent',\n\t\t\t\tenablejsapi : 1,\n\t\t\t\thtml5 : 1\n\t\t\t},\n\t\t\tparamPlace : 8,\n\t\t\ttype  : 'iframe',\n\t\t\turl   : '//www.youtube.com/embed/$4',\n\t\t\tthumb : '//img.youtube.com/vi/$4/hqdefault.jpg'\n\t\t},\n\n\t\tvimeo : {\n\t\t\tmatcher : /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n\t\t\tparams  : {\n\t\t\t\tautoplay : 1,\n\t\t\t\thd : 1,\n\t\t\t\tshow_title    : 1,\n\t\t\t\tshow_byline   : 1,\n\t\t\t\tshow_portrait : 0,\n\t\t\t\tfullscreen    : 1,\n\t\t\t\tapi : 1\n\t\t\t},\n\t\t\tparamPlace : 3,\n\t\t\ttype : 'iframe',\n\t\t\turl : '//player.vimeo.com/video/$2'\n\t\t},\n\n\t\tmetacafe : {\n\t\t\tmatcher : /metacafe.com\\/watch\\/(\\d+)\\/(.*)?/,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : '//www.metacafe.com/embed/$1/?ap=1'\n\t\t},\n\n\t\tdailymotion : {\n\t\t\tmatcher : /dailymotion.com\\/video\\/(.*)\\/?(.*)/,\n\t\t\tparams : {\n\t\t\t\tadditionalInfos : 0,\n\t\t\t\tautoStart : 1\n\t\t\t},\n\t\t\ttype : 'iframe',\n\t\t\turl  : '//www.dailymotion.com/embed/video/$1'\n\t\t},\n\n\t\tvine : {\n\t\t\tmatcher : /vine.co\\/v\\/([a-zA-Z0-9\\?\\=\\-]+)/,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : '//vine.co/v/$1/embed/simple'\n\t\t},\n\n\t\tinstagram : {\n\t\t\tmatcher : /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n\t\t\ttype    : 'image',\n\t\t\turl     : '//$1/p/$2/media/?size=l'\n\t\t},\n\n\t\t// Examples:\n\t\t// http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n\t\t// https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n\t\t// https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n\t\tgmap_place : {\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : function (rez) {\n\t\t\t\treturn '//maps.google.' + rez[2] + '/?ll=' + ( rez[9] ? rez[9] + '&z=' + Math.floor(  rez[10]  ) + ( rez[12] ? rez[12].replace(/^\\//, \"&\") : '' )  : rez[12] ) + '&output=' + ( rez[12] && rez[12].indexOf('layer=c') > 0 ? 'svembed' : 'embed' );\n\t\t\t}\n\t\t},\n\n\t\t// Examples:\n\t\t// https://www.google.com/maps/search/Empire+State+Building/\n\t\t// https://www.google.com/maps/search/?api=1&query=centurylink+field\n\t\t// https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n\t\tgmap_search : {\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : function (rez) {\n\t\t\t\treturn '//maps.google.' + rez[2] + '/maps?q=' + rez[5].replace('query=', 'q=').replace('api=1', '') + '&output=embed';\n\t\t\t}\n\t\t}\n\t};\n\n\t$(document).on('objectNeedsType.fb', function (e, instance, item) {\n\n\t\tvar url\t = item.src || '',\n\t\t\ttype = false,\n\t\t\tmedia,\n\t\t\tthumb,\n\t\t\trez,\n\t\t\tparams,\n\t\t\turlParams,\n\t\t\tparamObj,\n\t\t\tprovider;\n\n\t\tmedia = $.extend( true, {}, defaults, item.opts.media );\n\n\t\t// Look for any matching media type\n\t\t$.each(media, function ( providerName, providerOpts ) {\n\t\t\trez = url.match( providerOpts.matcher );\n\n\t\t\tif ( !rez ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttype     = providerOpts.type;\n\t\t\tparamObj = {};\n\n\t\t\tif ( providerOpts.paramPlace && rez[ providerOpts.paramPlace ] ) {\n\t\t\t\turlParams = rez[ providerOpts.paramPlace ];\n\n\t\t\t\tif ( urlParams[ 0 ] == '?' ) {\n\t\t\t\t\turlParams = urlParams.substring(1);\n\t\t\t\t}\n\n\t\t\t\turlParams = urlParams.split('&');\n\n\t\t\t\tfor ( var m = 0; m < urlParams.length; ++m ) {\n\t\t\t\t\tvar p = urlParams[ m ].split('=', 2);\n\n\t\t\t\t\tif ( p.length == 2 ) {\n\t\t\t\t\t\tparamObj[ p[0] ] = decodeURIComponent( p[1].replace(/\\+/g, \" \") );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tparams = $.extend( true, {}, providerOpts.params, item.opts[ providerName ], paramObj );\n\n\t\t\turl   = $.type( providerOpts.url ) === \"function\" ? providerOpts.url.call( this, rez, params, item ) : format( providerOpts.url, rez, params );\n\t\t\tthumb = $.type( providerOpts.thumb ) === \"function\" ? providerOpts.thumb.call( this, rez, params, item ) : format( providerOpts.thumb, rez );\n\n\t\t\tif ( providerName === 'vimeo' ) {\n\t\t\t\turl = url.replace('&%23', '#');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\n\t\t// If it is found, then change content type and update the url\n\n\t\tif ( type ) {\n\t\t\titem.src  = url;\n\t\t\titem.type = type;\n\n\t\t\tif ( !item.opts.thumb && !( item.opts.$thumb && item.opts.$thumb.length ) ) {\n\t\t\t\titem.opts.thumb = thumb;\n\t\t\t}\n\n\t\t\tif ( type === 'iframe' ) {\n\t\t\t\t$.extend(true, item.opts, {\n\t\t\t\t\tiframe : {\n\t\t\t\t\t\tpreload : false,\n\t\t\t\t\t\tattr : {\n\t\t\t\t\t\t\tscrolling : \"no\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\titem.contentProvider = provider;\n\n\t\t\t\titem.opts.slideClass += ' fancybox-slide--' + ( provider == 'gmap_place' || provider == 'gmap_search' ? 'map' : 'video' );\n\t\t\t}\n\n\t\t} else if ( url ) {\n\t\t\titem.type = item.opts.defaultType;\n\t\t}\n\n\t});\n\n}( window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n;(function (window, document, $) {\n\t'use strict';\n\n\tvar requestAFrame = (function () {\n        return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                window.oRequestAnimationFrame ||\n                // if all else fails, use setTimeout\n                function (callback) {\n                    return window.setTimeout(callback, 1000 / 60);\n                };\n    })();\n\n\n    var cancelAFrame = (function () {\n        return window.cancelAnimationFrame ||\n                window.webkitCancelAnimationFrame ||\n                window.mozCancelAnimationFrame ||\n                window.oCancelAnimationFrame ||\n                function (id) {\n                    window.clearTimeout(id);\n                };\n    })();\n\n\n\tvar pointers = function( e ) {\n\t\tvar result = [];\n\n\t\te = e.originalEvent || e || window.e;\n\t\te = e.touches && e.touches.length ? e.touches : ( e.changedTouches && e.changedTouches.length ? e.changedTouches : [ e ] );\n\n\t\tfor ( var key in e ) {\n\n\t\t\tif ( e[ key ].pageX ) {\n\t\t\t\tresult.push( { x : e[ key ].pageX, y : e[ key ].pageY } );\n\n\t\t\t} else if ( e[ key ].clientX ) {\n\t\t\t\tresult.push( { x : e[ key ].clientX, y : e[ key ].clientY } );\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tvar distance = function( point2, point1, what ) {\n\t\tif ( !point1 || !point2 ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif ( what === 'x' ) {\n\t\t\treturn point2.x - point1.x;\n\n\t\t} else if ( what === 'y' ) {\n\t\t\treturn point2.y - point1.y;\n\t\t}\n\n\t\treturn Math.sqrt( Math.pow( point2.x - point1.x, 2 ) + Math.pow( point2.y - point1.y, 2 ) );\n\t};\n\n\tvar isClickable = function( $el ) {\n\n\t\tif ( $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea') || $.isFunction( $el.get(0).onclick ) || $el.data('selectable') ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for attributes like data-fancybox-next or data-fancybox-close\n\t\tfor ( var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++ ) {\n            if ( atts[i].nodeName.substr(0, 14) === 'data-fancybox-' ) {\n                return true;\n            }\n        }\n\n\t \treturn false;\n\t};\n\n\tvar hasScrollbars = function( el ) {\n\t\tvar overflowY = window.getComputedStyle( el )['overflow-y'];\n\t\tvar overflowX = window.getComputedStyle( el )['overflow-x'];\n\n\t\tvar vertical   = (overflowY === 'scroll' || overflowY === 'auto') && el.scrollHeight > el.clientHeight;\n\t\tvar horizontal = (overflowX === 'scroll' || overflowX === 'auto') && el.scrollWidth > el.clientWidth;\n\n\t\treturn vertical || horizontal;\n\t};\n\n\tvar isScrollable = function ( $el ) {\n\t\tvar rez = false;\n\n\t\twhile ( true ) {\n\t\t\trez\t= hasScrollbars( $el.get(0) );\n\n\t\t\tif ( rez ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t$el = $el.parent();\n\n\t\t\tif ( !$el.length || $el.hasClass( 'fancybox-stage' ) || $el.is( 'body' ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn rez;\n\t};\n\n\n\tvar Guestures = function ( instance ) {\n\t\tvar self = this;\n\n\t\tself.instance = instance;\n\n\t\tself.$bg        = instance.$refs.bg;\n\t\tself.$stage     = instance.$refs.stage;\n\t\tself.$container = instance.$refs.container;\n\n\t\tself.destroy();\n\n\t\tself.$container.on( 'touchstart.fb.touch mousedown.fb.touch', $.proxy(self, 'ontouchstart') );\n\t};\n\n\tGuestures.prototype.destroy = function() {\n\t\tthis.$container.off( '.fb.touch' );\n\t};\n\n\tGuestures.prototype.ontouchstart = function( e ) {\n\t\tvar self = this;\n\n\t\tvar $target  = $( e.target );\n\t\tvar instance = self.instance;\n\t\tvar current  = instance.current;\n\t\tvar $content = current.$content;\n\n\t\tvar isTouchDevice = ( e.type == 'touchstart' );\n\n\t\t// Do not respond to both events\n\t\tif ( isTouchDevice ) {\n\t        self.$container.off( 'mousedown.fb.touch' );\n\t    }\n\n\t\t// Ignore clicks while zooming or closing\n\t\tif ( !current || self.instance.isAnimating || self.instance.isClosing ) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore right click\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore taping on links, buttons, input elements\n\t\tif ( !$target.length || isClickable( $target ) || isClickable( $target.parent() ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore clicks on the scrollbar\n\t\tif ( e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left ) {\n\t\t\treturn;\n\t\t}\n\n\t\tself.startPoints = pointers( e );\n\n\t\t// Prevent zooming if already swiping\n\t\tif ( !self.startPoints || ( self.startPoints.length > 1 && instance.isSliding ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tself.$target  = $target;\n\t\tself.$content = $content;\n\t\tself.canTap   = true;\n\t\tself.opts     = current.opts.touch;\n\n\t\t$(document).off( '.fb.touch' );\n\n\t\t$(document).on( isTouchDevice ? 'touchend.fb.touch touchcancel.fb.touch' : 'mouseup.fb.touch mouseleave.fb.touch',  $.proxy(self, \"ontouchend\"));\n\t\t$(document).on( isTouchDevice ? 'touchmove.fb.touch' : 'mousemove.fb.touch',  $.proxy(self, \"ontouchmove\"));\n\n\t\tif ( !(self.opts || instance.canPan() ) || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {\n\n\t\t\t// Prevent ghosting\n\t\t\tif ( $target.is('img') ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\te.stopPropagation();\n\n\t\tif ( !( $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tself.canvasWidth  = Math.round( current.$slide[0].clientWidth );\n\t\tself.canvasHeight = Math.round( current.$slide[0].clientHeight );\n\n\t\tself.startTime = new Date().getTime();\n\t\tself.distanceX = self.distanceY = self.distance = 0;\n\n\t\tself.isPanning = false;\n\t\tself.isSwiping = false;\n\t\tself.isZooming = false;\n\n\t\tself.sliderStartPos  = self.sliderLastPos || { top: 0, left: 0 };\n\t\tself.contentStartPos = $.fancybox.getTranslate( self.$content );\n\t\tself.contentLastPos  = null;\n\n\t\tif ( self.startPoints.length === 1 && !self.isZooming ) {\n\t\t\tself.canTap = !instance.isSliding;\n\n\t\t\tif ( current.type === 'image' && ( self.contentStartPos.width > self.canvasWidth + 1 || self.contentStartPos.height > self.canvasHeight + 1 ) ) {\n\n\t\t\t\t$.fancybox.stop( self.$content );\n\n\t\t\t\tself.$content.css( 'transition-duration', '0ms' );\n\n\t\t\t\tself.isPanning = true;\n\n\t\t\t} else {\n\n\t\t\t\tself.isSwiping = true;\n\t\t\t}\n\n\t\t\tself.$container.addClass('fancybox-controls--isGrabbing');\n\t\t}\n\n\t\tif ( self.startPoints.length === 2 && !instance.isAnimating && !current.hasError && current.type === 'image' && ( current.isLoaded || current.$ghost ) ) {\n\t\t\tself.isZooming = true;\n\n\t\t\tself.isSwiping = false;\n\t\t\tself.isPanning = false;\n\n\t\t\t$.fancybox.stop( self.$content );\n\n\t\t\tself.$content.css( 'transition-duration', '0ms' );\n\n\t\t\tself.centerPointStartX = ( ( self.startPoints[0].x + self.startPoints[1].x ) * 0.5 ) - $(window).scrollLeft();\n\t\t\tself.centerPointStartY = ( ( self.startPoints[0].y + self.startPoints[1].y ) * 0.5 ) - $(window).scrollTop();\n\n\t\t\tself.percentageOfImageAtPinchPointX = ( self.centerPointStartX - self.contentStartPos.left ) / self.contentStartPos.width;\n\t\t\tself.percentageOfImageAtPinchPointY = ( self.centerPointStartY - self.contentStartPos.top  ) / self.contentStartPos.height;\n\n\t\t\tself.startDistanceBetweenFingers = distance( self.startPoints[0], self.startPoints[1] );\n\t\t}\n\n\t};\n\n\tGuestures.prototype.ontouchmove = function( e ) {\n\n\t\tvar self = this;\n\n\t\tself.newPoints = pointers( e );\n\n\t\tif ( $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) {\n\t\t\te.stopPropagation();\n\n\t\t\tself.canTap = false;\n\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !( self.opts || self.instance.canPan() ) || !self.newPoints || !self.newPoints.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tself.distanceX = distance( self.newPoints[0], self.startPoints[0], 'x' );\n\t\tself.distanceY = distance( self.newPoints[0], self.startPoints[0], 'y' );\n\n\t\tself.distance = distance( self.newPoints[0], self.startPoints[0] );\n\n\t\t// Skip false ontouchmove events (Chrome)\n\t\tif ( self.distance > 0 ) {\n\n\t\t\tif ( !( self.$target.is( self.$stage ) || self.$stage.find( self.$target ).length ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tif ( self.isSwiping ) {\n\t\t\t\tself.onSwipe();\n\n\t\t\t} else if ( self.isPanning ) {\n\t\t\t\tself.onPan();\n\n\t\t\t} else if ( self.isZooming ) {\n\t\t\t\tself.onZoom();\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onSwipe = function() {\n\n\t\tvar self = this;\n\n\t\tvar swiping = self.isSwiping;\n\t\tvar left    = self.sliderStartPos.left || 0;\n\t\tvar angle;\n\n\t\tif ( swiping === true ) {\n\n\t\t\tif ( Math.abs( self.distance ) > 10 )  {\n\n\t\t\t\tself.canTap = false;\n\n\t\t\t\tif ( self.instance.group.length < 2 && self.opts.vertical ) {\n\t\t\t\t\tself.isSwiping  = 'y';\n\n\t\t\t\t} else if ( self.instance.isSliding || self.opts.vertical === false || ( self.opts.vertical === 'auto' && $( window ).width() > 800 ) ) {\n\t\t\t\t\tself.isSwiping  = 'x';\n\n\t\t\t\t} else {\n\t\t\t\t\tangle = Math.abs( Math.atan2( self.distanceY, self.distanceX ) * 180 / Math.PI );\n\n\t\t\t\t\tself.isSwiping = ( angle > 45 && angle < 135 ) ? 'y' : 'x';\n\t\t\t\t}\n\n\t\t\t\tself.instance.isSliding = self.isSwiping;\n\n\t\t\t\t// Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n\t\t\t\tself.startPoints = self.newPoints;\n\n\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\n\t\t\t\t\t$.fancybox.stop( slide.$slide );\n\n\t\t\t\t\tslide.$slide.css( 'transition-duration', '0ms' );\n\n\t\t\t\t\tslide.inTransition = false;\n\n\t\t\t\t\tif ( slide.pos === self.instance.current.pos ) {\n\t\t\t\t\t\tself.sliderStartPos.left = $.fancybox.getTranslate( slide.$slide ).left;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//self.instance.current.isMoved = true;\n\n\t\t\t\t// Stop slideshow\n\t\t\t\tif ( self.instance.SlideShow && self.instance.SlideShow.isActive ) {\n\t\t\t\t\tself.instance.SlideShow.stop();\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( swiping == 'x' ) {\n\n\t\t\t\t// Sticky edges\n\t\t\t\tif ( self.distanceX > 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === 0 && !self.instance.current.opts.loop ) ) ) {\n\t\t\t\t\tleft = left + Math.pow( self.distanceX, 0.8 );\n\n\t\t\t\t} else if ( self.distanceX < 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop ) ) ) {\n\t\t\t\t\tleft = left - Math.pow( -self.distanceX, 0.8 );\n\n\t\t\t\t} else {\n\t\t\t\t\tleft = left + self.distanceX;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tself.sliderLastPos = {\n\t\t\t\ttop  : swiping == 'x' ? 0 : self.sliderStartPos.top + self.distanceY,\n\t\t\t\tleft : left\n\t\t\t};\n\n\t\t\tif ( self.requestId ) {\n\t\t\t\tcancelAFrame( self.requestId );\n\n\t\t\t\tself.requestId = null;\n\t\t\t}\n\n\t\t\tself.requestId = requestAFrame(function() {\n\n\t\t\t\tif ( self.sliderLastPos ) {\n\t\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\n\t\t\t\t\t\tvar pos = slide.pos - self.instance.currPos;\n\n\t\t\t\t\t\t$.fancybox.setTranslate( slide.$slide, {\n\t\t\t\t\t\t\ttop  : self.sliderLastPos.top,\n\t\t\t\t\t\t\tleft : self.sliderLastPos.left + ( pos * self.canvasWidth ) + ( pos * slide.opts.gutter )\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tself.$container.addClass( 'fancybox-is-sliding' );\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onPan = function() {\n\n\t\tvar self = this;\n\n\t\tvar newOffsetX, newOffsetY, newPos;\n\n\t\tself.canTap = false;\n\n\t\tif ( self.contentStartPos.width > self.canvasWidth ) {\n\t\t\tnewOffsetX = self.contentStartPos.left + self.distanceX;\n\n\t\t} else {\n\t\t\tnewOffsetX = self.contentStartPos.left;\n\t\t}\n\n\t\tnewOffsetY = self.contentStartPos.top + self.distanceY;\n\n\t\tnewPos = self.limitMovement( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\n\n\t\tnewPos.scaleX = self.contentStartPos.scaleX;\n\t\tnewPos.scaleY = self.contentStartPos.scaleY;\n\n\t\tself.contentLastPos = newPos;\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.requestId = requestAFrame(function() {\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\n\t\t});\n\t};\n\n\t// Make panning sticky to the edges\n\tGuestures.prototype.limitMovement = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\n\n\t\tvar self = this;\n\n\t\tvar minTranslateX, minTranslateY, maxTranslateX, maxTranslateY;\n\n\t\tvar canvasWidth  = self.canvasWidth;\n\t\tvar canvasHeight = self.canvasHeight;\n\n\t\tvar currentOffsetX = self.contentStartPos.left;\n\t\tvar currentOffsetY = self.contentStartPos.top;\n\n\t\tvar distanceX = self.distanceX;\n\t\tvar distanceY = self.distanceY;\n\n\t\t// Slow down proportionally to traveled distance\n\n\t\tminTranslateX = Math.max(0, canvasWidth  * 0.5 - newWidth  * 0.5 );\n\t\tminTranslateY = Math.max(0, canvasHeight * 0.5 - newHeight * 0.5 );\n\n\t\tmaxTranslateX = Math.min( canvasWidth  - newWidth,  canvasWidth  * 0.5 - newWidth  * 0.5 );\n\t\tmaxTranslateY = Math.min( canvasHeight - newHeight, canvasHeight * 0.5 - newHeight * 0.5 );\n\n\t\tif ( newWidth > canvasWidth ) {\n\n\t\t\t//   ->\n\t\t\tif ( distanceX > 0 && newOffsetX > minTranslateX ) {\n\t\t\t\tnewOffsetX = minTranslateX - 1 + Math.pow( -minTranslateX + currentOffsetX + distanceX, 0.8 ) || 0;\n\t\t\t}\n\n\t\t\t//    <-\n\t\t\tif ( distanceX  < 0 && newOffsetX < maxTranslateX ) {\n\t\t\t\tnewOffsetX = maxTranslateX + 1 - Math.pow( maxTranslateX - currentOffsetX - distanceX, 0.8 ) || 0;\n\t\t\t}\n\n\t\t}\n\n\t\tif ( newHeight > canvasHeight ) {\n\n\t\t\t//   \\/\n\t\t\tif ( distanceY > 0 && newOffsetY > minTranslateY ) {\n\t\t\t\tnewOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8 ) || 0;\n\t\t\t}\n\n\t\t\t//   /\\\n\t\t\tif ( distanceY < 0 && newOffsetY < maxTranslateY ) {\n\t\t\t\tnewOffsetY = maxTranslateY + 1 - Math.pow ( maxTranslateY - currentOffsetY - distanceY, 0.8 ) || 0;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop  : newOffsetY,\n\t\t\tleft : newOffsetX\n\t\t};\n\n\t};\n\n\n\tGuestures.prototype.limitPosition = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\n\n\t\tvar self = this;\n\n\t\tvar canvasWidth  = self.canvasWidth;\n\t\tvar canvasHeight = self.canvasHeight;\n\n\t\tif ( newWidth > canvasWidth ) {\n\t\t\tnewOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n\t\t\tnewOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n\n\t\t} else {\n\n\t\t\t// Center horizontally\n\t\t\tnewOffsetX = Math.max( 0, canvasWidth / 2 - newWidth / 2 );\n\n\t\t}\n\n\t\tif ( newHeight > canvasHeight ) {\n\t\t\tnewOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n\t\t\tnewOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n\n\t\t} else {\n\n\t\t\t// Center vertically\n\t\t\tnewOffsetY = Math.max( 0, canvasHeight / 2 - newHeight / 2 );\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop  : newOffsetY,\n\t\t\tleft : newOffsetX\n\t\t};\n\n\t};\n\n\tGuestures.prototype.onZoom = function() {\n\n\t\tvar self = this;\n\n\t\t// Calculate current distance between points to get pinch ratio and new width and height\n\n\t\tvar currentWidth  = self.contentStartPos.width;\n\t\tvar currentHeight = self.contentStartPos.height;\n\n\t\tvar currentOffsetX = self.contentStartPos.left;\n\t\tvar currentOffsetY = self.contentStartPos.top;\n\n\t\tvar endDistanceBetweenFingers = distance( self.newPoints[0], self.newPoints[1] );\n\n\t\tvar pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n\t\tvar newWidth  = Math.floor( currentWidth  * pinchRatio );\n\t\tvar newHeight = Math.floor( currentHeight * pinchRatio );\n\n\t\t// This is the translation due to pinch-zooming\n\t\tvar translateFromZoomingX = (currentWidth  - newWidth)  * self.percentageOfImageAtPinchPointX;\n\t\tvar translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n\t\t//Point between the two touches\n\n\t\tvar centerPointEndX = ((self.newPoints[0].x + self.newPoints[1].x) / 2) - $(window).scrollLeft();\n\t\tvar centerPointEndY = ((self.newPoints[0].y + self.newPoints[1].y) / 2) - $(window).scrollTop();\n\n\t\t// And this is the translation due to translation of the centerpoint\n\t\t// between the two fingers\n\n\t\tvar translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n\t\tvar translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n\t\t// The new offset is the old/current one plus the total translation\n\n\t\tvar newOffsetX = currentOffsetX + ( translateFromZoomingX + translateFromTranslatingX );\n\t\tvar newOffsetY = currentOffsetY + ( translateFromZoomingY + translateFromTranslatingY );\n\n\t\tvar newPos = {\n\t\t\ttop    : newOffsetY,\n\t\t\tleft   : newOffsetX,\n\t\t\tscaleX : self.contentStartPos.scaleX * pinchRatio,\n\t\t\tscaleY : self.contentStartPos.scaleY * pinchRatio\n\t\t};\n\n\t\tself.canTap = false;\n\n\t\tself.newWidth  = newWidth;\n\t\tself.newHeight = newHeight;\n\n\t\tself.contentLastPos = newPos;\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.requestId = requestAFrame(function() {\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\n\t\t});\n\n\t};\n\n\tGuestures.prototype.ontouchend = function( e ) {\n\n\t\tvar self = this;\n\t\tvar dMs  = Math.max( (new Date().getTime() ) - self.startTime, 1);\n\n\t\tvar swiping = self.isSwiping;\n\t\tvar panning = self.isPanning;\n\t\tvar zooming = self.isZooming;\n\n\t\tself.endPoints = pointers( e );\n\n\t\tself.$container.removeClass( 'fancybox-controls--isGrabbing' );\n\n\t\t$(document).off( '.fb.touch' );\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.isSwiping = false;\n\t\tself.isPanning = false;\n\t\tself.isZooming = false;\n\n\t\tif ( self.canTap )  {\n\t\t\treturn self.onTap( e );\n\t\t}\n\n\t\tself.speed = 366;\n\n\t\t// Speed in px/ms\n\t\tself.velocityX = self.distanceX / dMs * 0.5;\n\t\tself.velocityY = self.distanceY / dMs * 0.5;\n\n\t\tself.speedX = Math.max( self.speed * 0.5, Math.min( self.speed * 1.5, ( 1 / Math.abs( self.velocityX ) ) * self.speed ) );\n\n\t\tif ( panning ) {\n\t\t\tself.endPanning();\n\n\t\t} else if ( zooming ) {\n\t\t\tself.endZooming();\n\n\t\t} else {\n\t\t\tself.endSwiping( swiping );\n\t\t}\n\n\t\treturn;\n\t};\n\n\tGuestures.prototype.endSwiping = function( swiping ) {\n\n\t\tvar self = this;\n\t\tvar ret = false;\n\n\t\tself.instance.isSliding = false;\n\t\tself.sliderLastPos      = null;\n\n\t\t// Close if swiped vertically / navigate if horizontally\n\t\tif ( swiping == 'y' && Math.abs( self.distanceY ) > 50 ) {\n\n\t\t\t// Continue vertical movement\n\t\t\t$.fancybox.animate( self.instance.current.$slide, {\n\t\t\t\ttop     : self.sliderStartPos.top + self.distanceY + ( self.velocityY * 150 ),\n\t\t\t\topacity : 0\n\t\t\t}, 150 );\n\n\t\t\tret = self.instance.close( true, 300 );\n\n\t\t} else if ( swiping == 'x' && self.distanceX > 50 && self.instance.group.length > 1 ) {\n\t\t\tret = self.instance.previous( self.speedX );\n\n\t\t} else if ( swiping == 'x' && self.distanceX < -50  && self.instance.group.length > 1 ) {\n\t\t\tret = self.instance.next( self.speedX );\n\t\t}\n\n\t\tif ( ret === false && ( swiping == 'x' || swiping == 'y' ) ) {\n\t\t\tself.instance.jumpTo( self.instance.current.index, 150 );\n\t\t}\n\n\t\tself.$container.removeClass( 'fancybox-is-sliding' );\n\n\t};\n\n\t// Limit panning from edges\n\t// ========================\n\n\tGuestures.prototype.endPanning = function() {\n\n\t\tvar self = this;\n\t\tvar newOffsetX, newOffsetY, newPos;\n\n\t\tif ( !self.contentLastPos ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( self.opts.momentum === false ) {\n\t\t\tnewOffsetX = self.contentLastPos.left;\n\t\t\tnewOffsetY = self.contentLastPos.top;\n\n\t\t} else {\n\n\t\t\t// Continue movement\n\t\t\tnewOffsetX = self.contentLastPos.left + ( self.velocityX * self.speed );\n\t\t\tnewOffsetY = self.contentLastPos.top  + ( self.velocityY * self.speed );\n\t\t}\n\n\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\n\n\t\t newPos.width  = self.contentStartPos.width;\n\t\t newPos.height = self.contentStartPos.height;\n\n\t\t$.fancybox.animate( self.$content, newPos, 330 );\n\t};\n\n\n\tGuestures.prototype.endZooming = function() {\n\n\t\tvar self = this;\n\n\t\tvar current = self.instance.current;\n\n\t\tvar newOffsetX, newOffsetY, newPos, reset;\n\n\t\tvar newWidth  = self.newWidth;\n\t\tvar newHeight = self.newHeight;\n\n\t\tif ( !self.contentLastPos ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnewOffsetX = self.contentLastPos.left;\n\t\tnewOffsetY = self.contentLastPos.top;\n\n\t\treset = {\n\t\t   \ttop    : newOffsetY,\n\t\t   \tleft   : newOffsetX,\n\t\t   \twidth  : newWidth,\n\t\t   \theight : newHeight,\n\t\t\tscaleX : 1,\n\t\t\tscaleY : 1\n\t   };\n\n\t   // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n\t   $.fancybox.setTranslate( self.$content, reset );\n\n\t\tif ( newWidth < self.canvasWidth && newHeight < self.canvasHeight ) {\n\t\t\tself.instance.scaleToFit( 150 );\n\n\t\t} else if ( newWidth > current.width || newHeight > current.height ) {\n\t\t\tself.instance.scaleToActual( self.centerPointStartX, self.centerPointStartY, 150 );\n\n\t\t} else {\n\n\t\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, newWidth, newHeight );\n\n\t\t\t// Switch from scale() to width/height or animation will not work correctly\n\t\t\t$.fancybox.setTranslate( self.content, $.fancybox.getTranslate( self.$content ) );\n\n\t\t\t$.fancybox.animate( self.$content, newPos, 150 );\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onTap = function(e) {\n\t\tvar self    = this;\n\t\tvar $target = $( e.target );\n\n\t\tvar instance = self.instance;\n\t\tvar current  = instance.current;\n\n\t\tvar endPoints = ( e && pointers( e ) ) || self.startPoints;\n\n\t\tvar tapX = endPoints[0] ? endPoints[0].x - self.$stage.offset().left : 0;\n\t\tvar tapY = endPoints[0] ? endPoints[0].y - self.$stage.offset().top  : 0;\n\n\t\tvar where;\n\n\t\tvar process = function ( prefix ) {\n\n\t\t\tvar action = current.opts[ prefix ];\n\n\t\t\tif ( $.isFunction( action ) ) {\n\t\t\t\taction = action.apply( instance, [ current, e ] );\n\t\t\t}\n\n\t\t\tif ( !action) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase \"close\" :\n\n\t\t\t\t\tinstance.close( self.startEvent );\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"toggleControls\" :\n\n\t\t\t\t\tinstance.toggleControls( true );\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"next\" :\n\n\t\t\t\t\tinstance.next();\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"nextOrClose\" :\n\n\t\t\t\t\tif ( instance.group.length > 1 ) {\n\t\t\t\t\t\tinstance.next();\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstance.close( self.startEvent );\n\t\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"zoom\" :\n\n\t\t\t\t\tif ( current.type == 'image' && ( current.isLoaded || current.$ghost ) ) {\n\n\t\t\t\t\t\tif ( instance.canPan() ) {\n\t\t\t\t\t\t\tinstance.scaleToFit();\n\n\t\t\t\t\t\t} else if ( instance.isScaledDown() ) {\n\t\t\t\t\t\t\tinstance.scaleToActual( tapX, tapY );\n\n\t\t\t\t\t\t} else if ( instance.group.length < 2 ) {\n\t\t\t\t\t\t\tinstance.close( self.startEvent );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t};\n\n\t\t// Ignore right click\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Skip if current slide is not in the center\n\t\tif ( instance.isSliding ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Skip if clicked on the scrollbar\n\t\tif ( tapX > $target[0].clientWidth + $target.offset().left ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check where is clicked\n\t\tif ( $target.is( '.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container' ) ) {\n\t\t\twhere = 'Outside';\n\n\t\t} else if ( $target.is( '.fancybox-slide' ) ) {\n\t\t\twhere = 'Slide';\n\n\t\t} else if  ( instance.current.$content && instance.current.$content.has( e.target ).length ) {\n\t\t \twhere = 'Content';\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if this is a double tap\n\t\tif ( self.tapped ) {\n\n\t\t\t// Stop previously created single tap\n\t\t\tclearTimeout( self.tapped );\n\t\t\tself.tapped = null;\n\n\t\t\t// Skip if distance between taps is too big\n\t\t\tif ( Math.abs( tapX - self.tapX ) > 50 || Math.abs( tapY - self.tapY ) > 50 || instance.isSliding ) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t// OK, now we assume that this is a double-tap\n\t\t\tprocess( 'dblclick' + where );\n\n\t\t} else {\n\n\t\t\t// Single tap will be processed if user has not clicked second time within 300ms\n\t\t\t// or there is no need to wait for double-tap\n\t\t\tself.tapX = tapX;\n\t\t\tself.tapY = tapY;\n\n\t\t\tif ( current.opts[ 'dblclick' + where ] && current.opts[ 'dblclick' + where ] !== current.opts[ 'click' + where ] ) {\n\t\t\t\tself.tapped = setTimeout(function() {\n\t\t\t\t\tself.tapped = null;\n\n\t\t\t\t\tprocess( 'click' + where );\n\n\t\t\t\t}, 300);\n\n\t\t\t} else {\n\t\t\t\tprocess( 'click' + where );\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t$(document).on('onActivate.fb', function (e, instance) {\n\t\tif ( instance && !instance.Guestures ) {\n\t\t\tinstance.Guestures = new Guestures( instance );\n\t\t}\n\t});\n\n\t$(document).on('beforeClose.fb', function (e, instance) {\n\t\tif ( instance && instance.Guestures ) {\n\t\t\tinstance.Guestures.destroy();\n\t\t}\n\t});\n\n\n}( window, document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t$.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl : {\n\t\t\tslideShow :\n\t\t\t\t'<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\n\t\t\t\t\t\t'<path d=\"M13,12 L27,20 L13,27 Z\" />' +\n\t\t\t\t\t\t'<path d=\"M15,10 v19 M23,10 v19\" />' +\n\t\t\t\t\t'</svg>' +\n\t\t\t\t'</button>'\n\t\t},\n\t\tslideShow : {\n\t\t\tautoStart : false,\n            speed     : 3000\n\t\t}\n\t});\n\n\tvar SlideShow = function( instance ) {\n\t\tthis.instance = instance;\n\t\tthis.init();\n\t};\n\n\t$.extend( SlideShow.prototype, {\n\t\ttimer    : null,\n\t\tisActive : false,\n\t\t$button  : null,\n\n\t\tinit : function() {\n\t\t\tvar self = this;\n\n\t\t\tself.$button = self.instance.$refs.toolbar.find('[data-fancybox-play]').on('click', function() {\n\t\t\t\tself.toggle();\n\t\t\t});\n\n\t\t\tif ( self.instance.group.length < 2 || !self.instance.group[ self.instance.currIndex ].opts.slideShow ) {\n\t\t\t\tself.$button.hide();\n\t\t\t}\n\t\t},\n\n\t\tset : function( force ) {\n\t\t\tvar self = this;\n\n\t\t\t// Check if reached last element\n\t\t\tif ( self.instance && self.instance.current && (force === true || self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1 )) {\n\t\t\t\tself.timer = setTimeout(function() {\n\t\t\t\t\tif ( self.isActive ) {\n\t\t\t\t\t\tself.instance.jumpTo( (self.instance.currIndex + 1) % self.instance.group.length );\n\t\t\t\t\t}\n\n\t\t\t\t}, self.instance.current.opts.slideShow.speed);\n\n\t\t\t} else {\n\t\t\t\tself.stop();\n\t\t\t\tself.instance.idleSecondsCounter = 0;\n\t\t\t\tself.instance.showControls();\n\t\t\t}\n\t\t},\n\n\t\tclear : function() {\n\t\t\tvar self = this;\n\n\t\t\tclearTimeout( self.timer );\n\n\t\t\tself.timer = null;\n\t\t},\n\n\t\tstart : function() {\n\t\t\tvar self = this;\n\t\t\tvar current = self.instance.current;\n\n\t\t\tif ( current ) {\n\t\t\t\tself.isActive = true;\n\n\t\t\t\tself.$button\n\t\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_STOP )\n\t\t\t\t\t.removeClass( 'fancybox-button--play' )\n\t\t\t\t\t.addClass( 'fancybox-button--pause' );\n\n\t\t\t\t\tself.set( true );\n\t\t\t}\n\t\t},\n\n\t\tstop : function() {\n\t\t\tvar self = this;\n\t\t\tvar current = self.instance.current;\n\n\t\t\tself.clear();\n\n\t\t\tself.$button\n\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_START )\n\t\t\t\t.removeClass( 'fancybox-button--pause' )\n\t\t\t\t.addClass( 'fancybox-button--play' );\n\n\t\t\tself.isActive = false;\n\t\t},\n\n\t\ttoggle : function() {\n\t\t\tvar self = this;\n\n\t\t\tif ( self.isActive ) {\n\t\t\t\tself.stop();\n\n\t\t\t} else {\n\t\t\t\tself.start();\n\t\t\t}\n\t\t}\n\n\t});\n\n\t$(document).on({\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tif ( instance && !instance.SlideShow ) {\n\t\t\t\tinstance.SlideShow = new SlideShow( instance );\n\t\t\t}\n\t\t},\n\n\t\t'beforeShow.fb' : function(e, instance, current, firstRun) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( firstRun ) {\n\n\t\t\t\tif ( SlideShow && current.opts.slideShow.autoStart ) {\n\t\t\t\t\tSlideShow.start();\n\t\t\t\t}\n\n\t\t\t} else if ( SlideShow && SlideShow.isActive )  {\n\t\t\t\tSlideShow.clear();\n\t\t\t}\n\t\t},\n\n\t\t'afterShow.fb' : function(e, instance, current) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( SlideShow && SlideShow.isActive ) {\n\t\t\t\tSlideShow.set();\n\t\t\t}\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\t// \"P\" or Spacebar\n\t\t\tif ( SlideShow && current.opts.slideShow && ( keycode === 80 || keycode === 32 ) && !$(document.activeElement).is( 'button,a,input' ) ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tSlideShow.toggle();\n\t\t\t}\n\t\t},\n\n\t\t'beforeClose.fb onDeactivate.fb' : function(e, instance) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( SlideShow ) {\n\t\t\t\tSlideShow.stop();\n\t\t\t}\n\t\t}\n\t});\n\n\t// Page Visibility API to pause slideshow when window is not active\n\t$(document).on(\"visibilitychange\", function() {\n\t\tvar instance  = $.fancybox.getInstance();\n\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\tif ( SlideShow && SlideShow.isActive ) {\n\t\t\tif ( document.hidden ) {\n\t\t\t\tSlideShow.clear();\n\n\t\t\t} else {\n\t\t\t\tSlideShow.set();\n\t\t\t}\n\t\t}\n\t});\n\n}( document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t// Collection of methods supported by user browser\n\tvar fn = (function () {\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar val;\n\t\tvar ret = {};\n\t\tvar i, j;\n\n\t\tfor ( i = 0; i < fnMap.length; i++ ) {\n\t\t\tval = fnMap[ i ];\n\n\t\t\tif ( val && val[ 1 ] in document ) {\n\t\t\t\tfor ( j = 0; j < val.length; j++ ) {\n\t\t\t\t\tret[ fnMap[ 0 ][ j ] ] = val[ j ];\n\t\t\t\t}\n\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\t// If browser does not have Full Screen API, then simply unset default button template and stop\n\tif ( !fn ) {\n\n\t\tif ( $ && $.fancybox ) {\n\t\t\t$.fancybox.defaults.btnTpl.fullScreen = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tvar FullScreen = {\n\n\t\trequest : function ( elem ) {\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\telem[ fn.requestFullscreen ]( elem.ALLOW_KEYBOARD_INPUT );\n\n\t\t},\n\t\texit : function () {\n\n\t\t\tdocument[ fn.exitFullscreen ]();\n\n\t\t},\n\t\ttoggle : function ( elem ) {\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\tif ( this.isFullscreen() ) {\n\t\t\t\tthis.exit();\n\n\t\t\t} else {\n\t\t\t\tthis.request( elem );\n\t\t\t}\n\n\t\t},\n\t\tisFullscreen : function()  {\n\n\t\t\treturn Boolean( document[ fn.fullscreenElement ] );\n\n\t\t},\n\t\tenabled : function()  {\n\n\t\t\treturn Boolean( document[ fn.fullscreenEnabled ] );\n\n\t\t}\n\t};\n\n\t$.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl : {\n\t\t\tfullScreen :\n\t\t\t\t'<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fullscreen\" title=\"{{FULL_SCREEN}}\">' +\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\n\t\t\t\t\t\t'<path d=\"M9,12 h22 v16 h-22 v-16 v16 h22 v-16 Z\" />' +\n\t\t\t\t\t'</svg>' +\n\t\t\t\t'</button>'\n\t\t},\n\t\tfullScreen : {\n\t\t\tautoStart : false\n\t\t}\n\t});\n\n\t$(document).on({\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tvar $container;\n\n\t\t\tif ( instance && instance.group[ instance.currIndex ].opts.fullScreen ) {\n\t\t\t\t$container = instance.$refs.container;\n\n\t\t\t\t$container.on('click.fb-fullscreen', '[data-fancybox-fullscreen]', function(e) {\n\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tFullScreen.toggle( $container[ 0 ] );\n\n\t\t\t\t});\n\n\t\t\t\tif ( instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true ) {\n\t\t\t\t\tFullScreen.request( $container[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// Expose API\n\t\t\t\tinstance.FullScreen = FullScreen;\n\n\t\t\t} else if ( instance ) {\n\t\t\t\tinstance.$refs.toolbar.find('[data-fancybox-fullscreen]').hide();\n\t\t\t}\n\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\n\t\t\t// \"P\" or Spacebar\n\t\t\tif ( instance && instance.FullScreen && keycode === 70 ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tinstance.FullScreen.toggle( instance.$refs.container[ 0 ] );\n\t\t\t}\n\n\t\t},\n\n\t\t'beforeClose.fb' : function( instance ) {\n\t\t\tif ( instance && instance.FullScreen ) {\n\t\t\t\tFullScreen.exit();\n\t\t\t}\n\t\t}\n\t});\n\n\t$(document).on(fn.fullscreenchange, function() {\n\t\tvar isFullscreen = FullScreen.isFullscreen(),\n\t\t\tinstance = $.fancybox.getInstance();\n\n\t\tif ( instance ) {\n\n\t\t\t// If image is zooming, then force to stop and reposition properly\n\t\t\tif ( instance.current && instance.current.type === 'image' && instance.isAnimating ) {\n\t\t\t\tinstance.current.$content.css( 'transition', 'none' );\n\n\t\t\t\tinstance.isAnimating = false;\n\n\t\t\t\tinstance.update( true, true, 0 );\n\t\t\t}\n\n\t\t\tinstance.trigger( 'onFullscreenChange', isFullscreen );\n\n\t\t\tinstance.$refs.container.toggleClass( 'fancybox-is-fullscreen', isFullscreen );\n\t\t}\n\n\t});\n\n}( document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t// Make sure there are default values\n\t$.fancybox.defaults = $.extend(true, {\n\t\tbtnTpl : {\n\t\t\tthumbs :\n\t\t\t'<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\n\t\t\t\t'<svg viewBox=\"0 0 120 120\">' +\n\t\t\t\t\t'<path d=\"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z\" />' +\n\t\t\t\t'</svg>' +\n\t\t\t'</button>'\n\t\t},\n\t\tthumbs : {\n\t\t\tautoStart   : false,                  // Display thumbnails on opening\n\t\t\thideOnClose : true,                   // Hide thumbnail grid when closing animation starts\n\t\t\tparentEl    : '.fancybox-container',  // Container is injected into this element\n\t\t\taxis        : 'y'                     // Vertical (y) or horizontal (x) scrolling\n\t\t}\n\t}, $.fancybox.defaults);\n\n\tvar FancyThumbs = function( instance ) {\n\t\tthis.init( instance );\n\t};\n\n\t$.extend( FancyThumbs.prototype, {\n\n\t\t$button\t\t: null,\n\t\t$grid\t\t: null,\n\t\t$list\t\t: null,\n\t\tisVisible\t: false,\n\t\tisActive\t: false,\n\n\t\tinit : function( instance ) {\n\t\t\tvar self = this;\n\n\t\t\tself.instance = instance;\n\n\t\t\tinstance.Thumbs = self;\n\n\t\t\t// Enable thumbs if at least two group items have thumbnails\n\t\t\tvar first  = instance.group[0],\n\t\t\t\tsecond = instance.group[1];\n\n\t\t\tself.opts = instance.group[ instance.currIndex ].opts.thumbs;\n\n\t\t\tself.$button = instance.$refs.toolbar.find( '[data-fancybox-thumbs]' );\n\n\t\t\tif ( self.opts && first && second && (\n\t\t    \t\t( first.type == 'image'  || first.opts.thumb  || first.opts.$thumb ) &&\n\t\t    \t\t( second.type == 'image' || second.opts.thumb || second.opts.$thumb )\n\t\t\t)) {\n\n\t\t\t\tself.$button.show().on('click', function() {\n\t\t\t\t\tself.toggle();\n\t\t\t\t});\n\n\t\t\t\tself.isActive = true;\n\n\t\t\t} else {\n\t\t\t\tself.$button.hide();\n\t\t\t}\n\t\t},\n\n\t\tcreate : function() {\n\t\t\tvar self = this,\n\t\t\t\tinstance = self.instance,\n\t\t\t\tparentEl = self.opts.parentEl,\n\t\t\t\tlist,\n\t\t\t\tsrc;\n\n\t\t\tself.$grid = $('<div class=\"fancybox-thumbs fancybox-thumbs-' + self.opts.axis + '\"></div>').appendTo( instance.$refs.container.find( parentEl ).addBack().filter( parentEl ) );\n\n\t\t\t// Build list HTML\n\t\t\tlist = '<ul>';\n\n\t\t\t$.each(instance.group, function( i, item ) {\n\t\t\t\tsrc = item.opts.thumb || ( item.opts.$thumb ? item.opts.$thumb.attr( 'src' ) : null );\n\n\t\t\t\tif ( !src && item.type === 'image' ) {\n\t\t\t\t\tsrc = item.src;\n\t\t\t\t}\n\n\t\t\t\tif ( src && src.length ) {\n\t\t\t\t\tlist += '<li data-index=\"' + i + '\"  tabindex=\"0\" class=\"fancybox-thumbs-loading\"><img data-src=\"' + src + '\" /></li>';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlist += '</ul>';\n\n\t\t\tself.$list = $( list ).appendTo( self.$grid ).on('click', 'li', function() {\n\t\t\t\tinstance.jumpTo( $(this).data('index') );\n\t\t\t});\n\n\t\t\tself.$list.find( 'img' ).hide().one('load', function() {\n\t\t\t\tvar $parent\t\t= $(this).parent().removeClass( 'fancybox-thumbs-loading' ),\n\t\t\t\t\tthumbWidth\t= $parent.outerWidth(),\n\t\t\t\t\tthumbHeight\t= $parent.outerHeight(),\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t\twidthRatio,\n\t\t\t\t\theightRatio;\n\n\t\t\t\twidth  = this.naturalWidth\t|| this.width;\n\t\t\t\theight = this.naturalHeight\t|| this.height;\n\n\t\t\t\t// Calculate thumbnail dimensions; center vertically and horizontally\n\t\t\t\twidthRatio  = width  / thumbWidth;\n\t\t\t\theightRatio = height / thumbHeight;\n\n\t\t\t\tif (widthRatio >= 1 && heightRatio >= 1) {\n\t\t\t\t\tif (widthRatio > heightRatio) {\n\t\t\t\t\t\twidth  = width / heightRatio;\n\t\t\t\t\t\theight = thumbHeight;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\twidth  = thumbWidth;\n\t\t\t\t\t\theight = height / widthRatio;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$(this).css({\n\t\t\t\t\twidth         : Math.floor(width),\n\t\t\t\t\theight        : Math.floor(height),\n\t\t\t\t\t'margin-top'  : height > thumbHeight ? ( Math.floor(thumbHeight * 0.3 - height * 0.3 ) ) : Math.floor(thumbHeight * 0.5 - height * 0.5 ),\n\t\t\t\t\t'margin-left' : Math.floor(thumbWidth * 0.5 - width * 0.5 )\n\t\t\t\t}).show();\n\n\t\t\t})\n\t\t\t.each(function() {\n\t\t\t\tthis.src = $( this ).data( 'src' );\n\t\t\t});\n\n\t\t\tif ( self.opts.axis === 'x' ) {\n\t\t\t\tself.$list.width( parseInt( self.$grid.css(\"padding-right\") ) + ( instance.group.length * self.$list.children().eq(0).outerWidth(true) ) + 'px' );\n\t\t\t}\n\t\t},\n\n\t\tfocus : function( duration ) {\n\t\t\tvar self = this,\n\t\t\t\t$list = self.$list,\n\t\t\t\tthumb,\n\t\t\t\tthumbPos;\n\n\t\t\tif ( self.instance.current ) {\n\t\t\t\tthumb = $list.children()\n\t\t\t\t\t.removeClass( 'fancybox-thumbs-active' )\n\t\t\t\t\t.filter('[data-index=\"' + self.instance.current.index  + '\"]')\n\t\t\t\t\t.addClass('fancybox-thumbs-active');\n\n\t\t\t\tthumbPos = thumb.position();\n\n\t\t\t\t// Check if need to scroll to make current thumb visible\n\t\t\t\tif ( self.opts.axis === 'y' && ( thumbPos.top < 0 || thumbPos.top > ( $list.height() - thumb.outerHeight() ) ) ) {\n\t\t\t\t\t$list.stop().animate({ 'scrollTop' : $list.scrollTop() + thumbPos.top }, duration);\n\n\t\t\t\t} else if ( self.opts.axis === 'x' && (\n\t\t\t\t\t\tthumbPos.left < $list.parent().scrollLeft() ||\n\t\t\t\t\t\tthumbPos.left > ( $list.parent().scrollLeft() + ( $list.parent().width() - thumb.outerWidth() ) )\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t$list.parent().stop().animate({ 'scrollLeft' : thumbPos.left }, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdate : function() {\n\t\t\tthis.instance.$refs.container.toggleClass( 'fancybox-show-thumbs', this.isVisible );\n\n\t\t\tif ( this.isVisible ) {\n\t\t\t\tif ( !this.$grid ) {\n\t\t\t\t\tthis.create();\n\t\t\t\t}\n\n\t\t\t\tthis.instance.trigger( 'onThumbsShow' );\n\n\t\t\t\tthis.focus( 0 );\n\n\t\t\t} else if ( this.$grid ) {\n\t\t\t\tthis.instance.trigger( 'onThumbsHide' );\n\t\t\t}\n\n\t\t\t// Update content position\n\t\t\tthis.instance.update();\n\t\t},\n\n\t\thide : function() {\n\t\t\tthis.isVisible = false;\n\t\t\tthis.update();\n\t\t},\n\n\t\tshow : function() {\n\t\t\tthis.isVisible = true;\n\t\t\tthis.update();\n\t\t},\n\n\t\ttoggle : function() {\n\t\t\tthis.isVisible = !this.isVisible;\n\t\t\tthis.update();\n\t\t}\n\t});\n\n\t$(document).on({\n\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tvar Thumbs;\n\n\t\t\tif ( instance && !instance.Thumbs ) {\n\t\t\t\tThumbs = new FancyThumbs( instance );\n\n\t\t\t\tif ( Thumbs.isActive && Thumbs.opts.autoStart === true ) {\n\t\t\t\t\tThumbs.show();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t'beforeShow.fb' : function(e, instance, item, firstRun) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\tif ( Thumbs && Thumbs.isVisible ) {\n\t\t\t\tThumbs.focus( firstRun ? 0 : 250 );\n\t\t\t}\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\t// \"G\"\n\t\t\tif ( Thumbs && Thumbs.isActive && keycode === 71 ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tThumbs.toggle();\n\t\t\t}\n\t\t},\n\n\t\t'beforeClose.fb' : function( e, instance ) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\tif ( Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false ) {\n\t\t\t\tThumbs.$grid.hide();\n\t\t\t}\n\t\t}\n\n\t});\n\n}(document, window.jQuery));\n\n//// ==========================================================================\n//\n// Share\n// Displays simple form for sharing current url\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t$.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl : {\n\t\t\tshare :\n\t\t\t\t'<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\n\t\t\t\t\t\t'<path d=\"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z\">' +\n\t\t\t\t\t'</svg>' +\n\t\t\t\t'</button>'\n\t\t},\n\t\tshare : {\n\t\t\ttpl :\n\t\t\t\t'<div class=\"fancybox-share\">' +\n\t\t\t\t\t'<h1>{{SHARE}}</h1>' +\n\t\t\t\t\t'<p>' +\n\t\t\t\t\t\t'<a href=\"https://www.facebook.com/sharer/sharer.php?u={{src}}\" target=\"_blank\" class=\"fancybox-share_button\">' +\n\t\t\t\t\t\t\t'<svg version=\"1.1\" viewBox=\"0 0 32 32\" fill=\"#3b5998\"><path d=\"M27.6 3h-23.2c-.8 0-1.4.6-1.4 1.4v23.1c0 .9.6 1.5 1.4 1.5h12.5v-10.1h-3.4v-3.9h3.4v-2.9c0-3.4 2.1-5.2 5-5.2 1.4 0 2.7.1 3 .2v3.5h-2.1c-1.6 0-1.9.8-1.9 1.9v2.5h3.9l-.5 3.9h-3.4v10.1h6.6c.8 0 1.4-.6 1.4-1.4v-23.2c.1-.8-.5-1.4-1.3-1.4z\"></path></svg>' +\n\t\t\t\t\t\t\t'<span>Facebook</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t\t'<a href=\"https://www.pinterest.com/pin/create/button/?url={{src}}&amp;description={{descr}}\" target=\"_blank\" class=\"fancybox-share_button\">' +\n\t\t\t\t\t\t\t'<svg version=\"1.1\" viewBox=\"0 0 32 32\" fill=\"#c92228\"><path d=\"M16 3c-7.2 0-13 5.8-13 13 0 5.5 3.4 10.2 8.3 12.1-.1-1-.2-2.6 0-3.7.2-1 1.5-6.5 1.5-6.5s-.4-.8-.4-1.9c0-1.8 1-3.2 2.4-3.2 1.1 0 1.6.8 1.6 1.8 0 1.1-.7 2.8-1.1 4.3-.3 1.3.6 2.3 1.9 2.3 2.3 0 4.1-2.4 4.1-6 0-3.1-2.2-5.3-5.4-5.3-3.7 0-5.9 2.8-5.9 5.6 0 1.1.4 2.3 1 3 .1.1.1.2.1.4-.1.4-.3 1.3-.4 1.5-.1.2-.2.3-.4.2-1.6-.8-2.6-3.1-2.6-5 0-4.1 3-7.9 8.6-7.9 4.5 0 8 3.2 8 7.5 0 4.5-2.8 8.1-6.7 8.1-1.3 0-2.6-.7-3-1.5 0 0-.7 2.5-.8 3.1-.3 1.1-1.1 2.5-1.6 3.4 1.2.4 2.5.6 3.8.6 7.2 0 13-5.8 13-13 0-7.1-5.8-12.9-13-12.9z\"></path></svg>' +\n\t\t\t\t\t\t\t'<span>Pinterest</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t\t'<a href=\"https://twitter.com/intent/tweet?url={{src}}&amp;text={{descr}}\" target=\"_blank\" class=\"fancybox-share_button\">' +\n\t\t\t\t\t\t\t'<svg version=\"1.1\" viewBox=\"0 0 32 32\" fill=\"#1da1f2\"><path d=\"M30 7.3c-1 .5-2.1.8-3.3.9 1.2-.7 2.1-1.8 2.5-3.2-1.1.7-2.3 1.1-3.6 1.4-1-1.1-2.5-1.8-4.2-1.8-3.2 0-5.7 2.6-5.7 5.7 0 .5.1.9.1 1.3-4.8-.2-9-2.5-11.8-6-.5.9-.8 1.9-.8 3 0 2 1 3.8 2.6 4.8-.9 0-1.8-.3-2.6-.7v.1c0 2.8 2 5.1 4.6 5.6-.5.1-1 .2-1.5.2-.4 0-.7 0-1.1-.1.7 2.3 2.9 3.9 5.4 4-2 1.5-4.4 2.5-7.1 2.5-.5 0-.9 0-1.4-.1 2.5 1.6 5.6 2.6 8.8 2.6 10.6 0 16.3-8.8 16.3-16.3v-.7c1.1-1 2-2 2.8-3.2z\"></path></svg>' +\n\t\t\t\t\t\t\t'<span>Twitter</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</p>' +\n\t\t\t\t\t'<p><input type=\"text\" value=\"{{src_raw}}\" onfocus=\"this.select()\" /></p>' +\n\t\t\t\t'</div>'\n\t\t}\n\t});\n\n\tfunction escapeHtml(string) {\n\t\tvar entityMap = {\n\t\t  '&': '&amp;',\n\t\t  '<': '&lt;',\n\t\t  '>': '&gt;',\n\t\t  '\"': '&quot;',\n\t\t  \"'\": '&#39;',\n\t\t  '/': '&#x2F;',\n\t\t  '`': '&#x60;',\n\t\t  '=': '&#x3D;'\n\t\t};\n\n\t\treturn String(string).replace(/[&<>\"'`=\\/]/g, function (s) {\n\t\t\treturn entityMap[s];\n\t\t});\n\t}\n\n\t$(document).on('click', '[data-fancybox-share]', function() {\n\t\tvar f = $.fancybox.getInstance(),\n\t\t\turl,\n\t\t\ttpl;\n\n\t\tif ( f ) {\n\t\t\turl = f.current.opts.hash === false ? f.current.src : window.location;\n\t\t\ttpl = f.current.opts.share.tpl\n\t\t\t\t\t.replace( /\\{\\{src\\}\\}/g, encodeURIComponent( url ) )\n\t\t\t\t\t.replace( /\\{\\{src_raw\\}\\}/g, escapeHtml( url ) )\n\t\t\t\t\t.replace( /\\{\\{descr\\}\\}/g, f.$caption ? encodeURIComponent( f.$caption.text() ) : '' );\n\n\t\t\t$.fancybox.open({\n\t\t\t\tsrc  : f.translate( f, tpl ),\n\t\t\t\ttype : 'html',\n\t\t\t\topts : {\n\t\t\t\t\tanimationEffect   : \"fade\",\n\t\t\t\t\tanimationDuration : 250\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t});\n\n}( document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n;(function (document, window, $) {\n\t'use strict';\n\n\t// Simple $.escapeSelector polyfill (for jQuery prior v3)\n\tif ( !$.escapeSelector ) {\n\t\t$.escapeSelector = function( sel ) {\n\t\t\tvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\t\t\tvar fcssescape = function( ch, asCodePoint ) {\n\t\t\t\tif ( asCodePoint ) {\n\t\t\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\t\t\treturn \"\\uFFFD\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t\t\t}\n\n\t\t\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\t\t\treturn \"\\\\\" + ch;\n\t\t\t};\n\n\t\t\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n\t\t};\n\t}\n\n\t// Create new history entry only once\n\tvar shouldCreateHistory = true;\n\n\t// Variable containing last hash value set by fancyBox\n\t// It will be used to determine if fancyBox needs to close after hash change is detected\n    var currentHash = null;\n\n\t// Throttling the history change\n\tvar timerID = null;\n\n\t// Get info about gallery name and current index from url\n    function parseUrl() {\n        var hash    = window.location.hash.substr( 1 );\n        var rez     = hash.split( '-' );\n        var index   = rez.length > 1 && /^\\+?\\d+$/.test( rez[ rez.length - 1 ] ) ? parseInt( rez.pop( -1 ), 10 ) || 1 : 1;\n        var gallery = rez.join( '-' );\n\n\t\t// Index is starting from 1\n\t\tif ( index < 1 ) {\n\t\t\tindex = 1;\n\t\t}\n\n        return {\n            hash    : hash,\n            index   : index,\n            gallery : gallery\n        };\n    }\n\n\t// Trigger click evnt on links to open new fancyBox instance\n\tfunction triggerFromUrl( url ) {\n\t\tvar $el;\n\n        if ( url.gallery !== '' ) {\n\n\t\t\t// If we can find element matching 'data-fancybox' atribute, then trigger click event for that ..\n\t\t\t$el = $( \"[data-fancybox='\" + $.escapeSelector( url.gallery ) + \"']\" ).eq( url.index - 1 );\n\n            if ( !$el.length ) {\n\t\t\t\t// .. if not, try finding element by ID\n\t\t\t\t$el = $( \"#\" + $.escapeSelector( url.gallery ) + \"\" );\n\t\t\t}\n\n\t\t\tif ( $el.length ) {\n\t\t\t\tshouldCreateHistory = false;\n\n\t\t\t\t$el.trigger( 'click' );\n\t\t\t}\n\n        }\n\t}\n\n\t// Get gallery name from current instance\n\tfunction getGalleryID( instance ) {\n\t\tvar opts;\n\n\t\tif ( !instance ) {\n\t\t\treturn false;\n\t\t}\n\n\t\topts = instance.current ? instance.current.opts : instance.opts;\n\n\t\treturn opts.hash || ( opts.$orig ? opts.$orig.data( 'fancybox' ) : ''  );\n\t}\n\n\t// Start when DOM becomes ready\n    $(function() {\n\n\t\t// Check if user has disabled this module\n\t\tif ( $.fancybox.defaults.hash === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Update hash when opening/closing fancyBox\n\t    $(document).on({\n\t\t\t'onInit.fb' : function( e, instance ) {\n\t\t\t\tvar url, gallery;\n\n\t\t\t\tif ( instance.group[ instance.currIndex ].opts.hash === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\turl     = parseUrl();\n\t\t\t\tgallery = getGalleryID( instance );\n\n\t\t\t\t// Make sure gallery start index matches index from hash\n\t\t\t\tif ( gallery && url.gallery && gallery == url.gallery ) {\n\t\t\t\t\tinstance.currIndex = url.index - 1;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t'beforeShow.fb' : function( e, instance, current ) {\n\t\t\t\tvar gallery;\n\n\t\t\t\tif ( !current || current.opts.hash === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t            gallery = getGalleryID( instance );\n\n\t            // Update window hash\n\t            if ( gallery && gallery !== '' ) {\n\n\t\t\t\t\tif ( window.location.hash.indexOf( gallery ) < 0 ) {\n\t\t                instance.opts.origHash = window.location.hash;\n\t\t            }\n\n\t\t\t\t\tcurrentHash = gallery + ( instance.group.length > 1 ? '-' + ( current.index + 1 ) : '' );\n\n\t\t\t\t\tif ( 'replaceState' in window.history ) {\n\t\t\t\t\t\tif ( timerID ) {\n\t\t\t\t\t\t\tclearTimeout( timerID );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttimerID = setTimeout(function() {\n\t\t\t\t\t\t\twindow.history[ shouldCreateHistory ? 'pushState' : 'replaceState' ]( {} , document.title, window.location.pathname + window.location.search + '#' +  currentHash );\n\n\t\t\t\t\t\t\ttimerID = null;\n\n\t\t\t\t\t\t\tshouldCreateHistory = false;\n\n\t\t\t\t\t\t}, 300);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.location.hash = currentHash;\n\t\t\t\t\t}\n\n\t            }\n\n\t        },\n\n\t\t\t'beforeClose.fb' : function( e, instance, current ) {\n\t\t\t\tvar gallery, origHash;\n\n\t\t\t\tif ( timerID ) {\n\t\t\t\t\tclearTimeout( timerID );\n\t\t\t\t}\n\n\t\t\t\tif ( current.opts.hash === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tgallery  = getGalleryID( instance );\n\t\t\t\torigHash = instance && instance.opts.origHash ? instance.opts.origHash : '';\n\n\t            // Remove hash from location bar\n\t            if ( gallery && gallery !== '' ) {\n\n\t                if ( 'replaceState' in history ) {\n\t\t\t\t\t\twindow.history.replaceState( {} , document.title, window.location.pathname + window.location.search + origHash );\n\n\t                } else {\n\t\t\t\t\t\twindow.location.hash = origHash;\n\n\t\t\t\t\t\t// Keep original scroll position\n\t\t\t\t\t\t$( window ).scrollTop( instance.scrollTop ).scrollLeft( instance.scrollLeft );\n\t                }\n\t            }\n\n\t\t\t\tcurrentHash = null;\n\t        }\n\t    });\n\n\t\t// Check if need to close after url has changed\n\t\t$(window).on('hashchange.fb', function() {\n\t\t\tvar url = parseUrl();\n\n\t\t\tif ( $.fancybox.getInstance() ) {\n\t\t\t\tif ( currentHash && currentHash !== url.gallery + '-' + url.index && !( url.index === 1 && currentHash == url.gallery ) ) {\n\t\t\t\t\tcurrentHash = null;\n\n\t\t\t\t\t$.fancybox.close();\n\t\t\t\t}\n\n\t\t\t} else if ( url.gallery !== '' ) {\n\t\t\t\ttriggerFromUrl( url );\n\t\t\t}\n\t\t});\n\n\t\t// Check current hash and trigger click event on matching element to start fancyBox, if needed\n\t\tsetTimeout(function() {\n\t\t\ttriggerFromUrl( parseUrl() );\n\t\t}, 50);\n    });\n\n}( document, window, window.jQuery || jQuery ));\n","/**\n * Owl Carousel v2.2.1\n * Copyright 2013-2017 David Deutsch\n * Licensed under  ()\n */\n/**\n * Owl carousel\n * @version 2.1.6\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n * @todo Lazy Load Icon\n * @todo prevent animationend bubling\n * @todo itemsScaleUp\n * @todo Test Zepto\n * @todo stagePadding calculate wrong active classes\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates a carousel.\n\t * @class The Owl Carousel.\n\t * @public\n\t * @param {HTMLElement|jQuery} element - The element to create the carousel for.\n\t * @param {Object} [options] - The options\n\t */\n\tfunction Owl(element, options) {\n\n\t\t/**\n\t\t * Current settings for the carousel.\n\t\t * @public\n\t\t */\n\t\tthis.settings = null;\n\n\t\t/**\n\t\t * Current options set by the caller including defaults.\n\t\t * @public\n\t\t */\n\t\tthis.options = $.extend({}, Owl.Defaults, options);\n\n\t\t/**\n\t\t * Plugin element.\n\t\t * @public\n\t\t */\n\t\tthis.$element = $(element);\n\n\t\t/**\n\t\t * Proxied event handlers.\n\t\t * @protected\n\t\t */\n\t\tthis._handlers = {};\n\n\t\t/**\n\t\t * References to the running plugins of this carousel.\n\t\t * @protected\n\t\t */\n\t\tthis._plugins = {};\n\n\t\t/**\n\t\t * Currently suppressed events to prevent them from beeing retriggered.\n\t\t * @protected\n\t\t */\n\t\tthis._supress = {};\n\n\t\t/**\n\t\t * Absolute current position.\n\t\t * @protected\n\t\t */\n\t\tthis._current = null;\n\n\t\t/**\n\t\t * Animation speed in milliseconds.\n\t\t * @protected\n\t\t */\n\t\tthis._speed = null;\n\n\t\t/**\n\t\t * Coordinates of all items in pixel.\n\t\t * @todo The name of this member is missleading.\n\t\t * @protected\n\t\t */\n\t\tthis._coordinates = [];\n\n\t\t/**\n\t\t * Current breakpoint.\n\t\t * @todo Real media queries would be nice.\n\t\t * @protected\n\t\t */\n\t\tthis._breakpoint = null;\n\n\t\t/**\n\t\t * Current width of the plugin element.\n\t\t */\n\t\tthis._width = null;\n\n\t\t/**\n\t\t * All real items.\n\t\t * @protected\n\t\t */\n\t\tthis._items = [];\n\n\t\t/**\n\t\t * All cloned items.\n\t\t * @protected\n\t\t */\n\t\tthis._clones = [];\n\n\t\t/**\n\t\t * Merge values of all items.\n\t\t * @todo Maybe this could be part of a plugin.\n\t\t * @protected\n\t\t */\n\t\tthis._mergers = [];\n\n\t\t/**\n\t\t * Widths of all items.\n\t\t */\n\t\tthis._widths = [];\n\n\t\t/**\n\t\t * Invalidated parts within the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._invalidated = {};\n\n\t\t/**\n\t\t * Ordered list of workers for the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._pipe = [];\n\n\t\t/**\n\t\t * Current state information for the drag operation.\n\t\t * @todo #261\n\t\t * @protected\n\t\t */\n\t\tthis._drag = {\n\t\t\ttime: null,\n\t\t\ttarget: null,\n\t\t\tpointer: null,\n\t\t\tstage: {\n\t\t\t\tstart: null,\n\t\t\t\tcurrent: null\n\t\t\t},\n\t\t\tdirection: null\n\t\t};\n\n\t\t/**\n\t\t * Current state information and their tags.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._states = {\n\t\t\tcurrent: {},\n\t\t\ttags: {\n\t\t\t\t'initializing': [ 'busy' ],\n\t\t\t\t'animating': [ 'busy' ],\n\t\t\t\t'dragging': [ 'interacting' ]\n\t\t\t}\n\t\t};\n\n\t\t$.each([ 'onResize', 'onThrottledResize' ], $.proxy(function(i, handler) {\n\t\t\tthis._handlers[handler] = $.proxy(this[handler], this);\n\t\t}, this));\n\n\t\t$.each(Owl.Plugins, $.proxy(function(key, plugin) {\n\t\t\tthis._plugins[key.charAt(0).toLowerCase() + key.slice(1)]\n\t\t\t\t= new plugin(this);\n\t\t}, this));\n\n\t\t$.each(Owl.Workers, $.proxy(function(priority, worker) {\n\t\t\tthis._pipe.push({\n\t\t\t\t'filter': worker.filter,\n\t\t\t\t'run': $.proxy(worker.run, this)\n\t\t\t});\n\t\t}, this));\n\n\t\tthis.setup();\n\t\tthis.initialize();\n\t}\n\n\t/**\n\t * Default options for the carousel.\n\t * @public\n\t */\n\tOwl.Defaults = {\n\t\titems: 3,\n\t\tloop: false,\n\t\tcenter: false,\n\t\trewind: false,\n\n\t\tmouseDrag: true,\n\t\ttouchDrag: true,\n\t\tpullDrag: true,\n\t\tfreeDrag: false,\n\n\t\tmargin: 0,\n\t\tstagePadding: 0,\n\n\t\tmerge: false,\n\t\tmergeFit: true,\n\t\tautoWidth: false,\n\n\t\tstartPosition: 0,\n\t\trtl: false,\n\n\t\tsmartSpeed: 250,\n\t\tfluidSpeed: false,\n\t\tdragEndSpeed: false,\n\n\t\tresponsive: {},\n\t\tresponsiveRefreshRate: 200,\n\t\tresponsiveBaseElement: window,\n\n\t\tfallbackEasing: 'swing',\n\n\t\tinfo: false,\n\n\t\tnestedItemSelector: false,\n\t\titemElement: 'div',\n\t\tstageElement: 'div',\n\n\t\trefreshClass: 'owl-refresh',\n\t\tloadedClass: 'owl-loaded',\n\t\tloadingClass: 'owl-loading',\n\t\trtlClass: 'owl-rtl',\n\t\tresponsiveClass: 'owl-responsive',\n\t\tdragClass: 'owl-drag',\n\t\titemClass: 'owl-item',\n\t\tstageClass: 'owl-stage',\n\t\tstageOuterClass: 'owl-stage-outer',\n\t\tgrabClass: 'owl-grab'\n\t};\n\n\t/**\n\t * Enumeration for width.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Width = {\n\t\tDefault: 'default',\n\t\tInner: 'inner',\n\t\tOuter: 'outer'\n\t};\n\n\t/**\n\t * Enumeration for types.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Type = {\n\t\tEvent: 'event',\n\t\tState: 'state'\n\t};\n\n\t/**\n\t * Contains all registered plugins.\n\t * @public\n\t */\n\tOwl.Plugins = {};\n\n\t/**\n\t * List of workers involved in the update process.\n\t */\n\tOwl.Workers = [ {\n\t\tfilter: [ 'width', 'settings' ],\n\t\trun: function() {\n\t\t\tthis._width = this.$element.width();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = this._items && this._items[this.relative(this._current)];\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tthis.$stage.children('.cloned').remove();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar margin = this.settings.margin || '',\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\trtl = this.settings.rtl,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': 'auto',\n\t\t\t\t\t'margin-left': rtl ? margin : '',\n\t\t\t\t\t'margin-right': rtl ? '' : margin\n\t\t\t\t};\n\n\t\t\t!grid && this.$stage.children().css(css);\n\n\t\t\tcache.css = css;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar width = (this.width() / this.settings.items).toFixed(3) - this.settings.margin,\n\t\t\t\tmerge = null,\n\t\t\t\titerator = this._items.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\twidths = [];\n\n\t\t\tcache.items = {\n\t\t\t\tmerge: false,\n\t\t\t\twidth: width\n\t\t\t};\n\n\t\t\twhile (iterator--) {\n\t\t\t\tmerge = this._mergers[iterator];\n\t\t\t\tmerge = this.settings.mergeFit && Math.min(merge, this.settings.items) || merge;\n\n\t\t\t\tcache.items.merge = merge > 1 || cache.items.merge;\n\n\t\t\t\twidths[iterator] = !grid ? this._items[iterator].width() : width * merge;\n\t\t\t}\n\n\t\t\tthis._widths = widths;\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar clones = [],\n\t\t\t\titems = this._items,\n\t\t\t\tsettings = this.settings,\n\t\t\t\tview = Math.max(settings.items * 2, 4),\n\t\t\t\tsize = Math.ceil(items.length / 2) * 2,\n\t\t\t\trepeat = settings.loop && items.length ? settings.rewind ? view : Math.max(view, size) : 0,\n\t\t\t\tappend = '',\n\t\t\t\tprepend = '';\n\n\t\t\trepeat /= 2;\n\n\t\t\twhile (repeat--) {\n\t\t\t\t// Switch to only using appended clones\n\t\t\t\tclones.push(this.normalize(clones.length / 2, true));\n\t\t\t\tappend = append + items[clones[clones.length - 1]][0].outerHTML;\n\t\t\t\tclones.push(this.normalize(items.length - 1 - (clones.length - 1) / 2, true));\n\t\t\t\tprepend = items[clones[clones.length - 1]][0].outerHTML + prepend;\n\t\t\t}\n\n\t\t\tthis._clones = clones;\n\n\t\t\t$(append).addClass('cloned').appendTo(this.$stage);\n\t\t\t$(prepend).addClass('cloned').prependTo(this.$stage);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tsize = this._clones.length + this._items.length,\n\t\t\t\titerator = -1,\n\t\t\t\tprevious = 0,\n\t\t\t\tcurrent = 0,\n\t\t\t\tcoordinates = [];\n\n\t\t\twhile (++iterator < size) {\n\t\t\t\tprevious = coordinates[iterator - 1] || 0;\n\t\t\t\tcurrent = this._widths[this.relative(iterator)] + this.settings.margin;\n\t\t\t\tcoordinates.push(previous + current * rtl);\n\t\t\t}\n\n\t\t\tthis._coordinates = coordinates;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar padding = this.settings.stagePadding,\n\t\t\t\tcoordinates = this._coordinates,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': Math.ceil(Math.abs(coordinates[coordinates.length - 1])) + padding * 2,\n\t\t\t\t\t'padding-left': padding || '',\n\t\t\t\t\t'padding-right': padding || ''\n\t\t\t\t};\n\n\t\t\tthis.$stage.css(css);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar iterator = this._coordinates.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\titems = this.$stage.children();\n\n\t\t\tif (grid && cache.items.merge) {\n\t\t\t\twhile (iterator--) {\n\t\t\t\t\tcache.css.width = this._widths[this.relative(iterator)];\n\t\t\t\t\titems.eq(iterator).css(cache.css);\n\t\t\t\t}\n\t\t\t} else if (grid) {\n\t\t\t\tcache.css.width = cache.items.width;\n\t\t\t\titems.css(cache.css);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tfilter: [ 'items' ],\n\t\trun: function() {\n\t\t\tthis._coordinates.length < 1 && this.$stage.removeAttr('style');\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = cache.current ? this.$stage.children().index(cache.current) : 0;\n\t\t\tcache.current = Math.max(this.minimum(), Math.min(this.maximum(), cache.current));\n\t\t\tthis.reset(cache.current);\n\t\t}\n\t}, {\n\t\tfilter: [ 'position' ],\n\t\trun: function() {\n\t\t\tthis.animate(this.coordinates(this._current));\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'position', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tpadding = this.settings.stagePadding * 2,\n\t\t\t\tbegin = this.coordinates(this.current()) + padding,\n\t\t\t\tend = begin + this.width() * rtl,\n\t\t\t\tinner, outer, matches = [], i, n;\n\n\t\t\tfor (i = 0, n = this._coordinates.length; i < n; i++) {\n\t\t\t\tinner = this._coordinates[i - 1] || 0;\n\t\t\t\touter = Math.abs(this._coordinates[i]) + padding * rtl;\n\n\t\t\t\tif ((this.op(inner, '<=', begin) && (this.op(inner, '>', end)))\n\t\t\t\t\t|| (this.op(outer, '<', begin) && this.op(outer, '>', end))) {\n\t\t\t\t\tmatches.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$stage.children('.active').removeClass('active');\n\t\t\tthis.$stage.children(':eq(' + matches.join('), :eq(') + ')').addClass('active');\n\n\t\t\tif (this.settings.center) {\n\t\t\t\tthis.$stage.children('.center').removeClass('center');\n\t\t\t\tthis.$stage.children().eq(this.current()).addClass('center');\n\t\t\t}\n\t\t}\n\t} ];\n\n\t/**\n\t * Initializes the carousel.\n\t * @protected\n\t */\n\tOwl.prototype.initialize = function() {\n\t\tthis.enter('initializing');\n\t\tthis.trigger('initialize');\n\n\t\tthis.$element.toggleClass(this.settings.rtlClass, this.settings.rtl);\n\n\t\tif (this.settings.autoWidth && !this.is('pre-loading')) {\n\t\t\tvar imgs, nestedSelector, width;\n\t\t\timgs = this.$element.find('img');\n\t\t\tnestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined;\n\t\t\twidth = this.$element.children(nestedSelector).width();\n\n\t\t\tif (imgs.length && width <= 0) {\n\t\t\t\tthis.preloadAutoWidthImages(imgs);\n\t\t\t}\n\t\t}\n\n\t\tthis.$element.addClass(this.options.loadingClass);\n\n\t\t// create stage\n\t\tthis.$stage = $('<' + this.settings.stageElement + ' class=\"' + this.settings.stageClass + '\"/>')\n\t\t\t.wrap('<div class=\"' + this.settings.stageOuterClass + '\"/>');\n\n\t\t// append stage\n\t\tthis.$element.append(this.$stage.parent());\n\n\t\t// append content\n\t\tthis.replace(this.$element.children().not(this.$stage.parent()));\n\n\t\t// check visibility\n\t\tif (this.$element.is(':visible')) {\n\t\t\t// update view\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\t// invalidate width\n\t\t\tthis.invalidate('width');\n\t\t}\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.addClass(this.options.loadedClass);\n\n\t\t// register event handlers\n\t\tthis.registerEventHandlers();\n\n\t\tthis.leave('initializing');\n\t\tthis.trigger('initialized');\n\t};\n\n\t/**\n\t * Setups the current settings.\n\t * @todo Remove responsive classes. Why should adaptive designs be brought into IE8?\n\t * @todo Support for media queries by using `matchMedia` would be nice.\n\t * @public\n\t */\n\tOwl.prototype.setup = function() {\n\t\tvar viewport = this.viewport(),\n\t\t\toverwrites = this.options.responsive,\n\t\t\tmatch = -1,\n\t\t\tsettings = null;\n\n\t\tif (!overwrites) {\n\t\t\tsettings = $.extend({}, this.options);\n\t\t} else {\n\t\t\t$.each(overwrites, function(breakpoint) {\n\t\t\t\tif (breakpoint <= viewport && breakpoint > match) {\n\t\t\t\t\tmatch = Number(breakpoint);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsettings = $.extend({}, this.options, overwrites[match]);\n\t\t\tif (typeof settings.stagePadding === 'function') {\n\t\t\t\tsettings.stagePadding = settings.stagePadding();\n\t\t\t}\n\t\t\tdelete settings.responsive;\n\n\t\t\t// responsive class\n\t\t\tif (settings.responsiveClass) {\n\t\t\t\tthis.$element.attr('class',\n\t\t\t\t\tthis.$element.attr('class').replace(new RegExp('(' + this.options.responsiveClass + '-)\\\\S+\\\\s', 'g'), '$1' + match)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis.trigger('change', { property: { name: 'settings', value: settings } });\n\t\tthis._breakpoint = match;\n\t\tthis.settings = settings;\n\t\tthis.invalidate('settings');\n\t\tthis.trigger('changed', { property: { name: 'settings', value: this.settings } });\n\t};\n\n\t/**\n\t * Updates option logic if necessery.\n\t * @protected\n\t */\n\tOwl.prototype.optionsLogic = function() {\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.settings.stagePadding = false;\n\t\t\tthis.settings.merge = false;\n\t\t}\n\t};\n\n\t/**\n\t * Prepares an item before add.\n\t * @todo Rename event parameter `content` to `item`.\n\t * @protected\n\t * @returns {jQuery|HTMLElement} - The item container.\n\t */\n\tOwl.prototype.prepare = function(item) {\n\t\tvar event = this.trigger('prepare', { content: item });\n\n\t\tif (!event.data) {\n\t\t\tevent.data = $('<' + this.settings.itemElement + '/>')\n\t\t\t\t.addClass(this.options.itemClass).append(item)\n\t\t}\n\n\t\tthis.trigger('prepared', { content: event.data });\n\n\t\treturn event.data;\n\t};\n\n\t/**\n\t * Updates the view.\n\t * @public\n\t */\n\tOwl.prototype.update = function() {\n\t\tvar i = 0,\n\t\t\tn = this._pipe.length,\n\t\t\tfilter = $.proxy(function(p) { return this[p] }, this._invalidated),\n\t\t\tcache = {};\n\n\t\twhile (i < n) {\n\t\t\tif (this._invalidated.all || $.grep(this._pipe[i].filter, filter).length > 0) {\n\t\t\t\tthis._pipe[i].run(cache);\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\n\t\tthis._invalidated = {};\n\n\t\t!this.is('valid') && this.enter('valid');\n\t};\n\n\t/**\n\t * Gets the width of the view.\n\t * @public\n\t * @param {Owl.Width} [dimension=Owl.Width.Default] - The dimension to return.\n\t * @returns {Number} - The width of the view in pixel.\n\t */\n\tOwl.prototype.width = function(dimension) {\n\t\tdimension = dimension || Owl.Width.Default;\n\t\tswitch (dimension) {\n\t\t\tcase Owl.Width.Inner:\n\t\t\tcase Owl.Width.Outer:\n\t\t\t\treturn this._width;\n\t\t\tdefault:\n\t\t\t\treturn this._width - this.settings.stagePadding * 2 + this.settings.margin;\n\t\t}\n\t};\n\n\t/**\n\t * Refreshes the carousel primarily for adaptive purposes.\n\t * @public\n\t */\n\tOwl.prototype.refresh = function() {\n\t\tthis.enter('refreshing');\n\t\tthis.trigger('refresh');\n\n\t\tthis.setup();\n\n\t\tthis.optionsLogic();\n\n\t\tthis.$element.addClass(this.options.refreshClass);\n\n\t\tthis.update();\n\n\t\tthis.$element.removeClass(this.options.refreshClass);\n\n\t\tthis.leave('refreshing');\n\t\tthis.trigger('refreshed');\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onThrottledResize = function() {\n\t\twindow.clearTimeout(this.resizeTimer);\n\t\tthis.resizeTimer = window.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate);\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onResize = function() {\n\t\tif (!this._items.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._width === this.$element.width()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.$element.is(':visible')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.enter('resizing');\n\n\t\tif (this.trigger('resize').isDefaultPrevented()) {\n\t\t\tthis.leave('resizing');\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.invalidate('width');\n\n\t\tthis.refresh();\n\n\t\tthis.leave('resizing');\n\t\tthis.trigger('resized');\n\t};\n\n\t/**\n\t * Registers event handlers.\n\t * @todo Check `msPointerEnabled`\n\t * @todo #261\n\t * @protected\n\t */\n\tOwl.prototype.registerEventHandlers = function() {\n\t\tif ($.support.transition) {\n\t\t\tthis.$stage.on($.support.transition.end + '.owl.core', $.proxy(this.onTransitionEnd, this));\n\t\t}\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.on(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tif (this.settings.mouseDrag) {\n\t\t\tthis.$element.addClass(this.options.dragClass);\n\t\t\tthis.$stage.on('mousedown.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('dragstart.owl.core selectstart.owl.core', function() { return false });\n\t\t}\n\n\t\tif (this.settings.touchDrag){\n\t\t\tthis.$stage.on('touchstart.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('touchcancel.owl.core', $.proxy(this.onDragEnd, this));\n\t\t}\n\t};\n\n\t/**\n\t * Handles `touchstart` and `mousedown` events.\n\t * @todo Horizontal swipe threshold as option\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragStart = function(event) {\n\t\tvar stage = null;\n\n\t\tif (event.which === 3) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ($.support.transform) {\n\t\t\tstage = this.$stage.css('transform').replace(/.*\\(|\\)| /g, '').split(',');\n\t\t\tstage = {\n\t\t\t\tx: stage[stage.length === 16 ? 12 : 4],\n\t\t\t\ty: stage[stage.length === 16 ? 13 : 5]\n\t\t\t};\n\t\t} else {\n\t\t\tstage = this.$stage.position();\n\t\t\tstage = {\n\t\t\t\tx: this.settings.rtl ?\n\t\t\t\t\tstage.left + this.$stage.width() - this.width() + this.settings.margin :\n\t\t\t\t\tstage.left,\n\t\t\t\ty: stage.top\n\t\t\t};\n\t\t}\n\n\t\tif (this.is('animating')) {\n\t\t\t$.support.transform ? this.animate(stage.x) : this.$stage.stop()\n\t\t\tthis.invalidate('position');\n\t\t}\n\n\t\tthis.$element.toggleClass(this.options.grabClass, event.type === 'mousedown');\n\n\t\tthis.speed(0);\n\n\t\tthis._drag.time = new Date().getTime();\n\t\tthis._drag.target = $(event.target);\n\t\tthis._drag.stage.start = stage;\n\t\tthis._drag.stage.current = stage;\n\t\tthis._drag.pointer = this.pointer(event);\n\n\t\t$(document).on('mouseup.owl.core touchend.owl.core', $.proxy(this.onDragEnd, this));\n\n\t\t$(document).one('mousemove.owl.core touchmove.owl.core', $.proxy(function(event) {\n\t\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event));\n\n\t\t\t$(document).on('mousemove.owl.core touchmove.owl.core', $.proxy(this.onDragMove, this));\n\n\t\t\tif (Math.abs(delta.x) < Math.abs(delta.y) && this.is('valid')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.enter('dragging');\n\t\t\tthis.trigger('drag');\n\t\t}, this));\n\t};\n\n\t/**\n\t * Handles the `touchmove` and `mousemove` events.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragMove = function(event) {\n\t\tvar minimum = null,\n\t\t\tmaximum = null,\n\t\t\tpull = null,\n\t\t\tdelta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this.difference(this._drag.stage.start, delta);\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tif (this.settings.loop) {\n\t\t\tminimum = this.coordinates(this.minimum());\n\t\t\tmaximum = this.coordinates(this.maximum() + 1) - minimum;\n\t\t\tstage.x = (((stage.x - minimum) % maximum + maximum) % maximum) + minimum;\n\t\t} else {\n\t\t\tminimum = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum());\n\t\t\tmaximum = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum());\n\t\t\tpull = this.settings.pullDrag ? -1 * delta.x / 5 : 0;\n\t\t\tstage.x = Math.max(Math.min(stage.x, minimum + pull), maximum + pull);\n\t\t}\n\n\t\tthis._drag.stage.current = stage;\n\n\t\tthis.animate(stage.x);\n\t};\n\n\t/**\n\t * Handles the `touchend` and `mouseup` events.\n\t * @todo #261\n\t * @todo Threshold for click event\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragEnd = function(event) {\n\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this._drag.stage.current,\n\t\t\tdirection = delta.x > 0 ^ this.settings.rtl ? 'left' : 'right';\n\n\t\t$(document).off('.owl.core');\n\n\t\tthis.$element.removeClass(this.options.grabClass);\n\n\t\tif (delta.x !== 0 && this.is('dragging') || !this.is('valid')) {\n\t\t\tthis.speed(this.settings.dragEndSpeed || this.settings.smartSpeed);\n\t\t\tthis.current(this.closest(stage.x, delta.x !== 0 ? direction : this._drag.direction));\n\t\t\tthis.invalidate('position');\n\t\t\tthis.update();\n\n\t\t\tthis._drag.direction = direction;\n\n\t\t\tif (Math.abs(delta.x) > 3 || new Date().getTime() - this._drag.time > 300) {\n\t\t\t\tthis._drag.target.one('click.owl.core', function() { return false; });\n\t\t\t}\n\t\t}\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.leave('dragging');\n\t\tthis.trigger('dragged');\n\t};\n\n\t/**\n\t * Gets absolute position of the closest item for a coordinate.\n\t * @todo Setting `freeDrag` makes `closest` not reusable. See #165.\n\t * @protected\n\t * @param {Number} coordinate - The coordinate in pixel.\n\t * @param {String} direction - The direction to check for the closest item. Ether `left` or `right`.\n\t * @return {Number} - The absolute position of the closest item.\n\t */\n\tOwl.prototype.closest = function(coordinate, direction) {\n\t\tvar position = -1,\n\t\t\tpull = 30,\n\t\t\twidth = this.width(),\n\t\t\tcoordinates = this.coordinates();\n\n\t\tif (!this.settings.freeDrag) {\n\t\t\t// check closest item\n\t\t\t$.each(coordinates, $.proxy(function(index, value) {\n\t\t\t\t// on a left pull, check on current index\n\t\t\t\tif (direction === 'left' && coordinate > value - pull && coordinate < value + pull) {\n\t\t\t\t\tposition = index;\n\t\t\t\t// on a right pull, check on previous index\n\t\t\t\t// to do so, subtract width from value and set position = index + 1\n\t\t\t\t} else if (direction === 'right' && coordinate > value - width - pull && coordinate < value - width + pull) {\n\t\t\t\t\tposition = index + 1;\n\t\t\t\t} else if (this.op(coordinate, '<', value)\n\t\t\t\t\t&& this.op(coordinate, '>', coordinates[index + 1] || value - width)) {\n\t\t\t\t\tposition = direction === 'left' ? index + 1 : index;\n\t\t\t\t}\n\t\t\t\treturn position === -1;\n\t\t\t}, this));\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\t// non loop boundries\n\t\t\tif (this.op(coordinate, '>', coordinates[this.minimum()])) {\n\t\t\t\tposition = coordinate = this.minimum();\n\t\t\t} else if (this.op(coordinate, '<', coordinates[this.maximum()])) {\n\t\t\t\tposition = coordinate = this.maximum();\n\t\t\t}\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Animates the stage.\n\t * @todo #270\n\t * @public\n\t * @param {Number} coordinate - The coordinate in pixels.\n\t */\n\tOwl.prototype.animate = function(coordinate) {\n\t\tvar animate = this.speed() > 0;\n\n\t\tthis.is('animating') && this.onTransitionEnd();\n\n\t\tif (animate) {\n\t\t\tthis.enter('animating');\n\t\t\tthis.trigger('translate');\n\t\t}\n\n\t\tif ($.support.transform3d && $.support.transition) {\n\t\t\tthis.$stage.css({\n\t\t\t\ttransform: 'translate3d(' + coordinate + 'px,0px,0px)',\n\t\t\t\ttransition: (this.speed() / 1000) + 's'\n\t\t\t});\n\t\t} else if (animate) {\n\t\t\tthis.$stage.animate({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t}, this.speed(), this.settings.fallbackEasing, $.proxy(this.onTransitionEnd, this));\n\t\t} else {\n\t\t\tthis.$stage.css({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Checks whether the carousel is in a specific state or not.\n\t * @param {String} state - The state to check.\n\t * @returns {Boolean} - The flag which indicates if the carousel is busy.\n\t */\n\tOwl.prototype.is = function(state) {\n\t\treturn this._states.current[state] && this._states.current[state] > 0;\n\t};\n\n\t/**\n\t * Sets the absolute position of the current item.\n\t * @public\n\t * @param {Number} [position] - The new absolute position or nothing to leave it unchanged.\n\t * @returns {Number} - The absolute position of the current item.\n\t */\n\tOwl.prototype.current = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._current;\n\t\t}\n\n\t\tif (this._items.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tposition = this.normalize(position);\n\n\t\tif (this._current !== position) {\n\t\t\tvar event = this.trigger('change', { property: { name: 'position', value: position } });\n\n\t\t\tif (event.data !== undefined) {\n\t\t\t\tposition = this.normalize(event.data);\n\t\t\t}\n\n\t\t\tthis._current = position;\n\n\t\t\tthis.invalidate('position');\n\n\t\t\tthis.trigger('changed', { property: { name: 'position', value: this._current } });\n\t\t}\n\n\t\treturn this._current;\n\t};\n\n\t/**\n\t * Invalidates the given part of the update routine.\n\t * @param {String} [part] - The part to invalidate.\n\t * @returns {Array.<String>} - The invalidated parts.\n\t */\n\tOwl.prototype.invalidate = function(part) {\n\t\tif ($.type(part) === 'string') {\n\t\t\tthis._invalidated[part] = true;\n\t\t\tthis.is('valid') && this.leave('valid');\n\t\t}\n\t\treturn $.map(this._invalidated, function(v, i) { return i });\n\t};\n\n\t/**\n\t * Resets the absolute position of the current item.\n\t * @public\n\t * @param {Number} position - The absolute position of the new item.\n\t */\n\tOwl.prototype.reset = function(position) {\n\t\tposition = this.normalize(position);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._speed = 0;\n\t\tthis._current = position;\n\n\t\tthis.suppress([ 'translate', 'translated' ]);\n\n\t\tthis.animate(this.coordinates(position));\n\n\t\tthis.release([ 'translate', 'translated' ]);\n\t};\n\n\t/**\n\t * Normalizes an absolute or a relative position of an item.\n\t * @public\n\t * @param {Number} position - The absolute or relative position to normalize.\n\t * @param {Boolean} [relative=false] - Whether the given position is relative or not.\n\t * @returns {Number} - The normalized position.\n\t */\n\tOwl.prototype.normalize = function(position, relative) {\n\t\tvar n = this._items.length,\n\t\t\tm = relative ? 0 : this._clones.length;\n\n\t\tif (!this.isNumeric(position) || n < 1) {\n\t\t\tposition = undefined;\n\t\t} else if (position < 0 || position >= n + m) {\n\t\t\tposition = ((position - m / 2) % n + n) % n + m / 2;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Converts an absolute position of an item into a relative one.\n\t * @public\n\t * @param {Number} position - The absolute position to convert.\n\t * @returns {Number} - The converted position.\n\t */\n\tOwl.prototype.relative = function(position) {\n\t\tposition -= this._clones.length / 2;\n\t\treturn this.normalize(position, true);\n\t};\n\n\t/**\n\t * Gets the maximum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.maximum = function(relative) {\n\t\tvar settings = this.settings,\n\t\t\tmaximum = this._coordinates.length,\n\t\t\titerator,\n\t\t\treciprocalItemsWidth,\n\t\t\telementWidth;\n\n\t\tif (settings.loop) {\n\t\t\tmaximum = this._clones.length / 2 + this._items.length - 1;\n\t\t} else if (settings.autoWidth || settings.merge) {\n\t\t\titerator = this._items.length;\n\t\t\treciprocalItemsWidth = this._items[--iterator].width();\n\t\t\telementWidth = this.$element.width();\n\t\t\twhile (iterator--) {\n\t\t\t\treciprocalItemsWidth += this._items[iterator].width() + this.settings.margin;\n\t\t\t\tif (reciprocalItemsWidth > elementWidth) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmaximum = iterator + 1;\n\t\t} else if (settings.center) {\n\t\t\tmaximum = this._items.length - 1;\n\t\t} else {\n\t\t\tmaximum = this._items.length - settings.items;\n\t\t}\n\n\t\tif (relative) {\n\t\t\tmaximum -= this._clones.length / 2;\n\t\t}\n\n\t\treturn Math.max(maximum, 0);\n\t};\n\n\t/**\n\t * Gets the minimum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.minimum = function(relative) {\n\t\treturn relative ? 0 : this._clones.length / 2;\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.items = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._items.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._items[position];\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.mergers = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._mergers.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._mergers[position];\n\t};\n\n\t/**\n\t * Gets the absolute positions of clones for an item.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @returns {Array.<Number>} - The absolute positions of clones for the item or all if no position was given.\n\t */\n\tOwl.prototype.clones = function(position) {\n\t\tvar odd = this._clones.length / 2,\n\t\t\teven = odd + this._items.length,\n\t\t\tmap = function(index) { return index % 2 === 0 ? even + index / 2 : odd - (index + 1) / 2 };\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._clones, function(v, i) { return map(i) });\n\t\t}\n\n\t\treturn $.map(this._clones, function(v, i) { return v === position ? map(i) : null });\n\t};\n\n\t/**\n\t * Sets the current animation speed.\n\t * @public\n\t * @param {Number} [speed] - The animation speed in milliseconds or nothing to leave it unchanged.\n\t * @returns {Number} - The current animation speed in milliseconds.\n\t */\n\tOwl.prototype.speed = function(speed) {\n\t\tif (speed !== undefined) {\n\t\t\tthis._speed = speed;\n\t\t}\n\n\t\treturn this._speed;\n\t};\n\n\t/**\n\t * Gets the coordinate of an item.\n\t * @todo The name of this method is missleanding.\n\t * @public\n\t * @param {Number} position - The absolute position of the item within `minimum()` and `maximum()`.\n\t * @returns {Number|Array.<Number>} - The coordinate of the item in pixel or all coordinates.\n\t */\n\tOwl.prototype.coordinates = function(position) {\n\t\tvar multiplier = 1,\n\t\t\tnewPosition = position - 1,\n\t\t\tcoordinate;\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._coordinates, $.proxy(function(coordinate, index) {\n\t\t\t\treturn this.coordinates(index);\n\t\t\t}, this));\n\t\t}\n\n\t\tif (this.settings.center) {\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tmultiplier = -1;\n\t\t\t\tnewPosition = position + 1;\n\t\t\t}\n\n\t\t\tcoordinate = this._coordinates[position];\n\t\t\tcoordinate += (this.width() - coordinate + (this._coordinates[newPosition] || 0)) / 2 * multiplier;\n\t\t} else {\n\t\t\tcoordinate = this._coordinates[newPosition] || 0;\n\t\t}\n\n\t\tcoordinate = Math.ceil(coordinate);\n\n\t\treturn coordinate;\n\t};\n\n\t/**\n\t * Calculates the speed for a translation.\n\t * @protected\n\t * @param {Number} from - The absolute position of the start item.\n\t * @param {Number} to - The absolute position of the target item.\n\t * @param {Number} [factor=undefined] - The time factor in milliseconds.\n\t * @returns {Number} - The time in milliseconds for the translation.\n\t */\n\tOwl.prototype.duration = function(from, to, factor) {\n\t\tif (factor === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));\n\t};\n\n\t/**\n\t * Slides to the specified item.\n\t * @public\n\t * @param {Number} position - The position of the item.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.to = function(position, speed) {\n\t\tvar current = this.current(),\n\t\t\trevert = null,\n\t\t\tdistance = position - this.relative(current),\n\t\t\tdirection = (distance > 0) - (distance < 0),\n\t\t\titems = this._items.length,\n\t\t\tminimum = this.minimum(),\n\t\t\tmaximum = this.maximum();\n\n\t\tif (this.settings.loop) {\n\t\t\tif (!this.settings.rewind && Math.abs(distance) > items / 2) {\n\t\t\t\tdistance += direction * -1 * items;\n\t\t\t}\n\n\t\t\tposition = current + distance;\n\t\t\trevert = ((position - minimum) % items + items) % items + minimum;\n\n\t\t\tif (revert !== position && revert - distance <= maximum && revert - distance > 0) {\n\t\t\t\tcurrent = revert - distance;\n\t\t\t\tposition = revert;\n\t\t\t\tthis.reset(current);\n\t\t\t}\n\t\t} else if (this.settings.rewind) {\n\t\t\tmaximum += 1;\n\t\t\tposition = (position % maximum + maximum) % maximum;\n\t\t} else {\n\t\t\tposition = Math.max(minimum, Math.min(maximum, position));\n\t\t}\n\n\t\tthis.speed(this.duration(current, position, speed));\n\t\tthis.current(position);\n\n\t\tif (this.$element.is(':visible')) {\n\t\t\tthis.update();\n\t\t}\n\t};\n\n\t/**\n\t * Slides to the next item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.next = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) + 1, speed);\n\t};\n\n\t/**\n\t * Slides to the previous item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.prev = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) - 1, speed);\n\t};\n\n\t/**\n\t * Handles the end of an animation.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onTransitionEnd = function(event) {\n\n\t\t// if css2 animation then event object is undefined\n\t\tif (event !== undefined) {\n\t\t\tevent.stopPropagation();\n\n\t\t\t// Catch only owl-stage transitionEnd event\n\t\t\tif ((event.target || event.srcElement || event.originalTarget) !== this.$stage.get(0)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.leave('animating');\n\t\tthis.trigger('translated');\n\t};\n\n\t/**\n\t * Gets viewport width.\n\t * @protected\n\t * @return {Number} - The width in pixel.\n\t */\n\tOwl.prototype.viewport = function() {\n\t\tvar width;\n\t\tif (this.options.responsiveBaseElement !== window) {\n\t\t\twidth = $(this.options.responsiveBaseElement).width();\n\t\t} else if (window.innerWidth) {\n\t\t\twidth = window.innerWidth;\n\t\t} else if (document.documentElement && document.documentElement.clientWidth) {\n\t\t\twidth = document.documentElement.clientWidth;\n\t\t} else {\n\t\t\tconsole.warn('Can not detect viewport width.');\n\t\t}\n\t\treturn width;\n\t};\n\n\t/**\n\t * Replaces the current content.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The new content.\n\t */\n\tOwl.prototype.replace = function(content) {\n\t\tthis.$stage.empty();\n\t\tthis._items = [];\n\n\t\tif (content) {\n\t\t\tcontent = (content instanceof jQuery) ? content : $(content);\n\t\t}\n\n\t\tif (this.settings.nestedItemSelector) {\n\t\t\tcontent = content.find('.' + this.settings.nestedItemSelector);\n\t\t}\n\n\t\tcontent.filter(function() {\n\t\t\treturn this.nodeType === 1;\n\t\t}).each($.proxy(function(index, item) {\n\t\t\titem = this.prepare(item);\n\t\t\tthis.$stage.append(item);\n\t\t\tthis._items.push(item);\n\t\t\tthis._mergers.push(item.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}, this));\n\n\t\tthis.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0);\n\n\t\tthis.invalidate('items');\n\t};\n\n\t/**\n\t * Adds an item.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The item content to add.\n\t * @param {Number} [position] - The relative position at which to insert the item otherwise the item will be added to the end.\n\t */\n\tOwl.prototype.add = function(content, position) {\n\t\tvar current = this.relative(this._current);\n\n\t\tposition = position === undefined ? this._items.length : this.normalize(position, true);\n\t\tcontent = content instanceof jQuery ? content : $(content);\n\n\t\tthis.trigger('add', { content: content, position: position });\n\n\t\tcontent = this.prepare(content);\n\n\t\tif (this._items.length === 0 || position === this._items.length) {\n\t\t\tthis._items.length === 0 && this.$stage.append(content);\n\t\t\tthis._items.length !== 0 && this._items[position - 1].after(content);\n\t\t\tthis._items.push(content);\n\t\t\tthis._mergers.push(content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t} else {\n\t\t\tthis._items[position].before(content);\n\t\t\tthis._items.splice(position, 0, content);\n\t\t\tthis._mergers.splice(position, 0, content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}\n\n\t\tthis._items[current] && this.reset(this._items[current].index());\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('added', { content: content, position: position });\n\t};\n\n\t/**\n\t * Removes an item by its position.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {Number} position - The relative position of the item to remove.\n\t */\n\tOwl.prototype.remove = function(position) {\n\t\tposition = this.normalize(position, true);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.trigger('remove', { content: this._items[position], position: position });\n\n\t\tthis._items[position].remove();\n\t\tthis._items.splice(position, 1);\n\t\tthis._mergers.splice(position, 1);\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('removed', { content: null, position: position });\n\t};\n\n\t/**\n\t * Preloads images with auto width.\n\t * @todo Replace by a more generic approach\n\t * @protected\n\t */\n\tOwl.prototype.preloadAutoWidthImages = function(images) {\n\t\timages.each($.proxy(function(i, element) {\n\t\t\tthis.enter('pre-loading');\n\t\t\telement = $(element);\n\t\t\t$(new Image()).one('load', $.proxy(function(e) {\n\t\t\t\telement.attr('src', e.target.src);\n\t\t\t\telement.css('opacity', 1);\n\t\t\t\tthis.leave('pre-loading');\n\t\t\t\t!this.is('pre-loading') && !this.is('initializing') && this.refresh();\n\t\t\t}, this)).attr('src', element.attr('src') || element.attr('data-src') || element.attr('data-src-retina'));\n\t\t}, this));\n\t};\n\n\t/**\n\t * Destroys the carousel.\n\t * @public\n\t */\n\tOwl.prototype.destroy = function() {\n\n\t\tthis.$element.off('.owl.core');\n\t\tthis.$stage.off('.owl.core');\n\t\t$(document).off('.owl.core');\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\twindow.clearTimeout(this.resizeTimer);\n\t\t\tthis.off(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tfor (var i in this._plugins) {\n\t\t\tthis._plugins[i].destroy();\n\t\t}\n\n\t\tthis.$stage.children('.cloned').remove();\n\n\t\tthis.$stage.unwrap();\n\t\tthis.$stage.children().contents().unwrap();\n\t\tthis.$stage.children().unwrap();\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.refreshClass)\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.removeClass(this.options.loadedClass)\n\t\t\t.removeClass(this.options.rtlClass)\n\t\t\t.removeClass(this.options.dragClass)\n\t\t\t.removeClass(this.options.grabClass)\n\t\t\t.attr('class', this.$element.attr('class').replace(new RegExp(this.options.responsiveClass + '-\\\\S+\\\\s', 'g'), ''))\n\t\t\t.removeData('owl.carousel');\n\t};\n\n\t/**\n\t * Operators to calculate right-to-left and left-to-right.\n\t * @protected\n\t * @param {Number} [a] - The left side operand.\n\t * @param {String} [o] - The operator.\n\t * @param {Number} [b] - The right side operand.\n\t */\n\tOwl.prototype.op = function(a, o, b) {\n\t\tvar rtl = this.settings.rtl;\n\t\tswitch (o) {\n\t\t\tcase '<':\n\t\t\t\treturn rtl ? a > b : a < b;\n\t\t\tcase '>':\n\t\t\t\treturn rtl ? a < b : a > b;\n\t\t\tcase '>=':\n\t\t\t\treturn rtl ? a <= b : a >= b;\n\t\t\tcase '<=':\n\t\t\t\treturn rtl ? a >= b : a <= b;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Attaches to an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The event handler to attach.\n\t * @param {Boolean} capture - Wether the event should be handled at the capturing phase or not.\n\t */\n\tOwl.prototype.on = function(element, event, listener, capture) {\n\t\tif (element.addEventListener) {\n\t\t\telement.addEventListener(event, listener, capture);\n\t\t} else if (element.attachEvent) {\n\t\t\telement.attachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Detaches from an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The attached event handler to detach.\n\t * @param {Boolean} capture - Wether the attached event handler was registered as a capturing listener or not.\n\t */\n\tOwl.prototype.off = function(element, event, listener, capture) {\n\t\tif (element.removeEventListener) {\n\t\t\telement.removeEventListener(event, listener, capture);\n\t\t} else if (element.detachEvent) {\n\t\t\telement.detachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Triggers a public event.\n\t * @todo Remove `status`, `relatedTarget` should be used instead.\n\t * @protected\n\t * @param {String} name - The event name.\n\t * @param {*} [data=null] - The event data.\n\t * @param {String} [namespace=carousel] - The event namespace.\n\t * @param {String} [state] - The state which is associated with the event.\n\t * @param {Boolean} [enter=false] - Indicates if the call enters the specified state or not.\n\t * @returns {Event} - The event arguments.\n\t */\n\tOwl.prototype.trigger = function(name, data, namespace, state, enter) {\n\t\tvar status = {\n\t\t\titem: { count: this._items.length, index: this.current() }\n\t\t}, handler = $.camelCase(\n\t\t\t$.grep([ 'on', name, namespace ], function(v) { return v })\n\t\t\t\t.join('-').toLowerCase()\n\t\t), event = $.Event(\n\t\t\t[ name, 'owl', namespace || 'carousel' ].join('.').toLowerCase(),\n\t\t\t$.extend({ relatedTarget: this }, status, data)\n\t\t);\n\n\t\tif (!this._supress[name]) {\n\t\t\t$.each(this._plugins, function(name, plugin) {\n\t\t\t\tif (plugin.onTrigger) {\n\t\t\t\t\tplugin.onTrigger(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.register({ type: Owl.Type.Event, name: name });\n\t\t\tthis.$element.trigger(event);\n\n\t\t\tif (this.settings && typeof this.settings[handler] === 'function') {\n\t\t\t\tthis.settings[handler].call(this, event);\n\t\t\t}\n\t\t}\n\n\t\treturn event;\n\t};\n\n\t/**\n\t * Enters a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.enter = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tif (this._states.current[name] === undefined) {\n\t\t\t\tthis._states.current[name] = 0;\n\t\t\t}\n\n\t\t\tthis._states.current[name]++;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Leaves a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.leave = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tthis._states.current[name]--;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Registers an event or state.\n\t * @public\n\t * @param {Object} object - The event or state to register.\n\t */\n\tOwl.prototype.register = function(object) {\n\t\tif (object.type === Owl.Type.Event) {\n\t\t\tif (!$.event.special[object.name]) {\n\t\t\t\t$.event.special[object.name] = {};\n\t\t\t}\n\n\t\t\tif (!$.event.special[object.name].owl) {\n\t\t\t\tvar _default = $.event.special[object.name]._default;\n\t\t\t\t$.event.special[object.name]._default = function(e) {\n\t\t\t\t\tif (_default && _default.apply && (!e.namespace || e.namespace.indexOf('owl') === -1)) {\n\t\t\t\t\t\treturn _default.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t\treturn e.namespace && e.namespace.indexOf('owl') > -1;\n\t\t\t\t};\n\t\t\t\t$.event.special[object.name].owl = true;\n\t\t\t}\n\t\t} else if (object.type === Owl.Type.State) {\n\t\t\tif (!this._states.tags[object.name]) {\n\t\t\t\tthis._states.tags[object.name] = object.tags;\n\t\t\t} else {\n\t\t\t\tthis._states.tags[object.name] = this._states.tags[object.name].concat(object.tags);\n\t\t\t}\n\n\t\t\tthis._states.tags[object.name] = $.grep(this._states.tags[object.name], $.proxy(function(tag, i) {\n\t\t\t\treturn $.inArray(tag, this._states.tags[object.name]) === i;\n\t\t\t}, this));\n\t\t}\n\t};\n\n\t/**\n\t * Suppresses events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to suppress.\n\t */\n\tOwl.prototype.suppress = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tthis._supress[event] = true;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Releases suppressed events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to release.\n\t */\n\tOwl.prototype.release = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tdelete this._supress[event];\n\t\t}, this));\n\t};\n\n\t/**\n\t * Gets unified pointer coordinates from event.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} - The `mousedown` or `touchstart` event.\n\t * @returns {Object} - Contains `x` and `y` coordinates of current pointer position.\n\t */\n\tOwl.prototype.pointer = function(event) {\n\t\tvar result = { x: null, y: null };\n\n\t\tevent = event.originalEvent || event || window.event;\n\n\t\tevent = event.touches && event.touches.length ?\n\t\t\tevent.touches[0] : event.changedTouches && event.changedTouches.length ?\n\t\t\t\tevent.changedTouches[0] : event;\n\n\t\tif (event.pageX) {\n\t\t\tresult.x = event.pageX;\n\t\t\tresult.y = event.pageY;\n\t\t} else {\n\t\t\tresult.x = event.clientX;\n\t\t\tresult.y = event.clientY;\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Determines if the input is a Number or something that can be coerced to a Number\n\t * @protected\n\t * @param {Number|String|Object|Array|Boolean|RegExp|Function|Symbol} - The input to be tested\n\t * @returns {Boolean} - An indication if the input is a Number or can be coerced to a Number\n\t */\n\tOwl.prototype.isNumeric = function(number) {\n\t\treturn !isNaN(parseFloat(number));\n\t};\n\n\t/**\n\t * Gets the difference of two vectors.\n\t * @todo #261\n\t * @protected\n\t * @param {Object} - The first vector.\n\t * @param {Object} - The second vector.\n\t * @returns {Object} - The difference.\n\t */\n\tOwl.prototype.difference = function(first, second) {\n\t\treturn {\n\t\t\tx: first.x - second.x,\n\t\t\ty: first.y - second.y\n\t\t};\n\t};\n\n\t/**\n\t * The jQuery Plugin for the Owl Carousel\n\t * @todo Navigation plugin `next` and `prev`\n\t * @public\n\t */\n\t$.fn.owlCarousel = function(option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\treturn this.each(function() {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('owl.carousel');\n\n\t\t\tif (!data) {\n\t\t\t\tdata = new Owl(this, typeof option == 'object' && option);\n\t\t\t\t$this.data('owl.carousel', data);\n\n\t\t\t\t$.each([\n\t\t\t\t\t'next', 'prev', 'to', 'destroy', 'refresh', 'replace', 'add', 'remove'\n\t\t\t\t], function(i, event) {\n\t\t\t\t\tdata.register({ type: Owl.Type.Event, name: event });\n\t\t\t\t\tdata.$element.on(event + '.owl.carousel.core', $.proxy(function(e) {\n\t\t\t\t\t\tif (e.namespace && e.relatedTarget !== this) {\n\t\t\t\t\t\t\tthis.suppress([ event ]);\n\t\t\t\t\t\t\tdata[event].apply(this, [].slice.call(arguments, 1));\n\t\t\t\t\t\t\tthis.release([ event ]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, data));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (typeof option == 'string' && option.charAt(0) !== '_') {\n\t\t\t\tdata[option].apply(data, args);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * The constructor for the jQuery Plugin\n\t * @public\n\t */\n\t$.fn.owlCarousel.Constructor = Owl;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoRefresh Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto refresh plugin.\n\t * @class The Auto Refresh Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoRefresh = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Refresh interval.\n\t\t * @protected\n\t\t * @type {number}\n\t\t */\n\t\tthis._interval = null;\n\n\t\t/**\n\t\t * Whether the element is currently visible or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._visible = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoRefresh) {\n\t\t\t\t\tthis.watch();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoRefresh.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoRefresh.Defaults = {\n\t\tautoRefresh: true,\n\t\tautoRefreshInterval: 500\n\t};\n\n\t/**\n\t * Watches the element.\n\t */\n\tAutoRefresh.prototype.watch = function() {\n\t\tif (this._interval) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = this._core.$element.is(':visible');\n\t\tthis._interval = window.setInterval($.proxy(this.refresh, this), this._core.settings.autoRefreshInterval);\n\t};\n\n\t/**\n\t * Refreshes the element.\n\t */\n\tAutoRefresh.prototype.refresh = function() {\n\t\tif (this._core.$element.is(':visible') === this._visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = !this._visible;\n\n\t\tthis._core.$element.toggleClass('owl-hidden', !this._visible);\n\n\t\tthis._visible && (this._core.invalidate('width') && this._core.refresh());\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoRefresh.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\twindow.clearInterval(this._interval);\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoRefresh = AutoRefresh;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Lazy Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the lazy plugin.\n\t * @class The Lazy Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Lazy = function(carousel) {\n\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Already loaded items.\n\t\t * @protected\n\t\t * @type {Array.<jQuery>}\n\t\t */\n\t\tthis._loaded = [];\n\n\t\t/**\n\t\t * Event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel change.owl.carousel resized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._core.settings || !this._core.settings.lazyLoad) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ((e.property && e.property.name == 'position') || e.type == 'initialized') {\n\t\t\t\t\tvar settings = this._core.settings,\n\t\t\t\t\t\tn = (settings.center && Math.ceil(settings.items / 2) || settings.items),\n\t\t\t\t\t\ti = ((settings.center && n * -1) || 0),\n\t\t\t\t\t\tposition = (e.property && e.property.value !== undefined ? e.property.value : this._core.current()) + i,\n\t\t\t\t\t\tclones = this._core.clones().length,\n\t\t\t\t\t\tload = $.proxy(function(i, v) { this.load(v) }, this);\n\n\t\t\t\t\twhile (i++ < n) {\n\t\t\t\t\t\tthis.load(clones / 2 + this._core.relative(position));\n\t\t\t\t\t\tclones && $.each(this._core.clones(this._core.relative(position)), load);\n\t\t\t\t\t\tposition++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set the default options\n\t\tthis._core.options = $.extend({}, Lazy.Defaults, this._core.options);\n\n\t\t// register event handler\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tLazy.Defaults = {\n\t\tlazyLoad: false\n\t};\n\n\t/**\n\t * Loads all resources of an item at the specified position.\n\t * @param {Number} position - The absolute position of the item.\n\t * @protected\n\t */\n\tLazy.prototype.load = function(position) {\n\t\tvar $item = this._core.$stage.children().eq(position),\n\t\t\t$elements = $item && $item.find('.owl-lazy');\n\n\t\tif (!$elements || $.inArray($item.get(0), this._loaded) > -1) {\n\t\t\treturn;\n\t\t}\n\n\t\t$elements.each($.proxy(function(index, element) {\n\t\t\tvar $element = $(element), image,\n\t\t\t\turl = (window.devicePixelRatio > 1 && $element.attr('data-src-retina')) || $element.attr('data-src');\n\n\t\t\tthis._core.trigger('load', { element: $element, url: url }, 'lazy');\n\n\t\t\tif ($element.is('img')) {\n\t\t\t\t$element.one('load.owl.lazy', $.proxy(function() {\n\t\t\t\t\t$element.css('opacity', 1);\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this)).attr('src', url);\n\t\t\t} else {\n\t\t\t\timage = new Image();\n\t\t\t\timage.onload = $.proxy(function() {\n\t\t\t\t\t$element.css({\n\t\t\t\t\t\t'background-image': 'url(\"' + url + '\")',\n\t\t\t\t\t\t'opacity': '1'\n\t\t\t\t\t});\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this);\n\t\t\t\timage.src = url;\n\t\t\t}\n\t\t}, this));\n\n\t\tthis._loaded.push($item.get(0));\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tLazy.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis._core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Lazy = Lazy;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoHeight Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto height plugin.\n\t * @class The Auto Height Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoHeight = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight && e.property.name == 'position'){\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'loaded.owl.lazy': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight\n\t\t\t\t\t&& e.element.closest('.' + this._core.settings.itemClass).index() === this._core.current()) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoHeight.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoHeight.Defaults = {\n\t\tautoHeight: false,\n\t\tautoHeightClass: 'owl-height'\n\t};\n\n\t/**\n\t * Updates the view.\n\t */\n\tAutoHeight.prototype.update = function() {\n\t\tvar start = this._core._current,\n\t\t\tend = start + this._core.settings.items,\n\t\t\tvisible = this._core.$stage.children().toArray().slice(start, end),\n\t\t\theights = [],\n\t\t\tmaxheight = 0;\n\n\t\t$.each(visible, function(index, item) {\n\t\t\theights.push($(item).height());\n\t\t});\n\n\t\tmaxheight = Math.max.apply(null, heights);\n\n\t\tthis._core.$stage.parent()\n\t\t\t.height(maxheight)\n\t\t\t.addClass(this._core.settings.autoHeightClass);\n\t};\n\n\tAutoHeight.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoHeight = AutoHeight;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Video Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the video plugin.\n\t * @class The Video Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Video = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Cache all video URLs.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._videos = {};\n\n\t\t/**\n\t\t * Current playing item.\n\t\t * @protected\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis._playing = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @todo The cloned content removale is too late\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis._core.register({ type: 'state', name: 'playing', tags: [ 'interacting' ] });\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'resize.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.video && this.isInFullScreen()) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.is('resizing')) {\n\t\t\t\t\tthis._core.$stage.find('.cloned .owl-video-frame').remove();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position' && this._playing) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar $element = $(e.content).find('.owl-video');\n\n\t\t\t\tif ($element.length) {\n\t\t\t\t\t$element.css('display', 'none');\n\t\t\t\t\tthis.fetch($element, $(e.content));\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Video.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\tthis._core.$element.on('click.owl.video', '.owl-video-play-icon', $.proxy(function(e) {\n\t\t\tthis.play(e);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tVideo.Defaults = {\n\t\tvideo: false,\n\t\tvideoHeight: false,\n\t\tvideoWidth: false\n\t};\n\n\t/**\n\t * Gets the video ID and the type (YouTube/Vimeo/vzaar only).\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {jQuery} item - The item containing the video.\n\t */\n\tVideo.prototype.fetch = function(target, item) {\n\t\t\tvar type = (function() {\n\t\t\t\t\tif (target.attr('data-vimeo-id')) {\n\t\t\t\t\t\treturn 'vimeo';\n\t\t\t\t\t} else if (target.attr('data-vzaar-id')) {\n\t\t\t\t\t\treturn 'vzaar'\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 'youtube';\n\t\t\t\t\t}\n\t\t\t\t})(),\n\t\t\t\tid = target.attr('data-vimeo-id') || target.attr('data-youtube-id') || target.attr('data-vzaar-id'),\n\t\t\t\twidth = target.attr('data-width') || this._core.settings.videoWidth,\n\t\t\t\theight = target.attr('data-height') || this._core.settings.videoHeight,\n\t\t\t\turl = target.attr('href');\n\n\t\tif (url) {\n\n\t\t\t/*\n\t\t\t\t\tParses the id's out of the following urls (and probably more):\n\t\t\t\t\thttps://www.youtube.com/watch?v=:id\n\t\t\t\t\thttps://youtu.be/:id\n\t\t\t\t\thttps://vimeo.com/:id\n\t\t\t\t\thttps://vimeo.com/channels/:channel/:id\n\t\t\t\t\thttps://vimeo.com/groups/:group/videos/:id\n\t\t\t\t\thttps://app.vzaar.com/videos/:id\n\n\t\t\t\t\tVisual example: https://regexper.com/#(http%3A%7Chttps%3A%7C)%5C%2F%5C%2F(player.%7Cwww.%7Capp.)%3F(vimeo%5C.com%7Cyoutu(be%5C.com%7C%5C.be%7Cbe%5C.googleapis%5C.com)%7Cvzaar%5C.com)%5C%2F(video%5C%2F%7Cvideos%5C%2F%7Cembed%5C%2F%7Cchannels%5C%2F.%2B%5C%2F%7Cgroups%5C%2F.%2B%5C%2F%7Cwatch%5C%3Fv%3D%7Cv%5C%2F)%3F(%5BA-Za-z0-9._%25-%5D*)(%5C%26%5CS%2B)%3F\n\t\t\t*/\n\n\t\t\tid = url.match(/(http:|https:|)\\/\\/(player.|www.|app.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com)|vzaar\\.com)\\/(video\\/|videos\\/|embed\\/|channels\\/.+\\/|groups\\/.+\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/);\n\n\t\t\tif (id[3].indexOf('youtu') > -1) {\n\t\t\t\ttype = 'youtube';\n\t\t\t} else if (id[3].indexOf('vimeo') > -1) {\n\t\t\t\ttype = 'vimeo';\n\t\t\t} else if (id[3].indexOf('vzaar') > -1) {\n\t\t\t\ttype = 'vzaar';\n\t\t\t} else {\n\t\t\t\tthrow new Error('Video URL not supported.');\n\t\t\t}\n\t\t\tid = id[6];\n\t\t} else {\n\t\t\tthrow new Error('Missing video URL.');\n\t\t}\n\n\t\tthis._videos[url] = {\n\t\t\ttype: type,\n\t\t\tid: id,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\n\t\titem.attr('data-video', url);\n\n\t\tthis.thumbnail(target, this._videos[url]);\n\t};\n\n\t/**\n\t * Creates video thumbnail.\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {Object} info - The video info object.\n\t * @see `fetch`\n\t */\n\tVideo.prototype.thumbnail = function(target, video) {\n\t\tvar tnLink,\n\t\t\ticon,\n\t\t\tpath,\n\t\t\tdimensions = video.width && video.height ? 'style=\"width:' + video.width + 'px;height:' + video.height + 'px;\"' : '',\n\t\t\tcustomTn = target.find('img'),\n\t\t\tsrcType = 'src',\n\t\t\tlazyClass = '',\n\t\t\tsettings = this._core.settings,\n\t\t\tcreate = function(path) {\n\t\t\t\ticon = '<div class=\"owl-video-play-icon\"></div>';\n\n\t\t\t\tif (settings.lazyLoad) {\n\t\t\t\t\ttnLink = '<div class=\"owl-video-tn ' + lazyClass + '\" ' + srcType + '=\"' + path + '\"></div>';\n\t\t\t\t} else {\n\t\t\t\t\ttnLink = '<div class=\"owl-video-tn\" style=\"opacity:1;background-image:url(' + path + ')\"></div>';\n\t\t\t\t}\n\t\t\t\ttarget.after(tnLink);\n\t\t\t\ttarget.after(icon);\n\t\t\t};\n\n\t\t// wrap video content into owl-video-wrapper div\n\t\ttarget.wrap('<div class=\"owl-video-wrapper\"' + dimensions + '></div>');\n\n\t\tif (this._core.settings.lazyLoad) {\n\t\t\tsrcType = 'data-src';\n\t\t\tlazyClass = 'owl-lazy';\n\t\t}\n\n\t\t// custom thumbnail\n\t\tif (customTn.length) {\n\t\t\tcreate(customTn.attr(srcType));\n\t\t\tcustomTn.remove();\n\t\t\treturn false;\n\t\t}\n\n\t\tif (video.type === 'youtube') {\n\t\t\tpath = \"//img.youtube.com/vi/\" + video.id + \"/hqdefault.jpg\";\n\t\t\tcreate(path);\n\t\t} else if (video.type === 'vimeo') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vimeo.com/api/v2/video/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data[0].thumbnail_large;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (video.type === 'vzaar') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vzaar.com/api/videos/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data.framegrab_url;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Stops the current video.\n\t * @public\n\t */\n\tVideo.prototype.stop = function() {\n\t\tthis._core.trigger('stop', null, 'video');\n\t\tthis._playing.find('.owl-video-frame').remove();\n\t\tthis._playing.removeClass('owl-video-playing');\n\t\tthis._playing = null;\n\t\tthis._core.leave('playing');\n\t\tthis._core.trigger('stopped', null, 'video');\n\t};\n\n\t/**\n\t * Starts the current video.\n\t * @public\n\t * @param {Event} event - The event arguments.\n\t */\n\tVideo.prototype.play = function(event) {\n\t\tvar target = $(event.target),\n\t\t\titem = target.closest('.' + this._core.settings.itemClass),\n\t\t\tvideo = this._videos[item.attr('data-video')],\n\t\t\twidth = video.width || '100%',\n\t\t\theight = video.height || this._core.$stage.height(),\n\t\t\thtml;\n\n\t\tif (this._playing) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._core.enter('playing');\n\t\tthis._core.trigger('play', null, 'video');\n\n\t\titem = this._core.items(this._core.relative(item.index()));\n\n\t\tthis._core.reset(item.index());\n\n\t\tif (video.type === 'youtube') {\n\t\t\thtml = '<iframe width=\"' + width + '\" height=\"' + height + '\" src=\"//www.youtube.com/embed/' +\n\t\t\t\tvideo.id + '?autoplay=1&rel=0&v=' + video.id + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\t\t} else if (video.type === 'vimeo') {\n\t\t\thtml = '<iframe src=\"//player.vimeo.com/video/' + video.id +\n\t\t\t\t'?autoplay=1\" width=\"' + width + '\" height=\"' + height +\n\t\t\t\t'\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';\n\t\t} else if (video.type === 'vzaar') {\n\t\t\thtml = '<iframe frameborder=\"0\"' + 'height=\"' + height + '\"' + 'width=\"' + width +\n\t\t\t\t'\" allowfullscreen mozallowfullscreen webkitAllowFullScreen ' +\n\t\t\t\t'src=\"//view.vzaar.com/' + video.id + '/player?autoplay=true\"></iframe>';\n\t\t}\n\n\t\t$('<div class=\"owl-video-frame\">' + html + '</div>').insertAfter(item.find('.owl-video'));\n\n\t\tthis._playing = item.addClass('owl-video-playing');\n\t};\n\n\t/**\n\t * Checks whether an video is currently in full screen mode or not.\n\t * @todo Bad style because looks like a readonly method but changes members.\n\t * @protected\n\t * @returns {Boolean}\n\t */\n\tVideo.prototype.isInFullScreen = function() {\n\t\tvar element = document.fullscreenElement || document.mozFullScreenElement ||\n\t\t\t\tdocument.webkitFullscreenElement;\n\n\t\treturn element && $(element).parent().hasClass('owl-video-frame');\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tVideo.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis._core.$element.off('click.owl.video');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Video = Video;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Animate Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the animate plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Animate = function(scope) {\n\t\tthis.core = scope;\n\t\tthis.core.options = $.extend({}, Animate.Defaults, this.core.options);\n\t\tthis.swapping = true;\n\t\tthis.previous = undefined;\n\t\tthis.next = undefined;\n\n\t\tthis.handlers = {\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.previous = this.core.current();\n\t\t\t\t\tthis.next = e.property.value;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.swapping = e.type == 'translated';\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'translate.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {\n\t\t\t\t\tthis.swap();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.core.$element.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAnimate.Defaults = {\n\t\tanimateOut: false,\n\t\tanimateIn: false\n\t};\n\n\t/**\n\t * Toggles the animation classes whenever an translations starts.\n\t * @protected\n\t * @returns {Boolean|undefined}\n\t */\n\tAnimate.prototype.swap = function() {\n\n\t\tif (this.core.settings.items !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!$.support.animation || !$.support.transition) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.core.speed(0);\n\n\t\tvar left,\n\t\t\tclear = $.proxy(this.clear, this),\n\t\t\tprevious = this.core.$stage.children().eq(this.previous),\n\t\t\tnext = this.core.$stage.children().eq(this.next),\n\t\t\tincoming = this.core.settings.animateIn,\n\t\t\toutgoing = this.core.settings.animateOut;\n\n\t\tif (this.core.current() === this.previous) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (outgoing) {\n\t\t\tleft = this.core.coordinates(this.previous) - this.core.coordinates(this.next);\n\t\t\tprevious.one($.support.animation.end, clear)\n\t\t\t\t.css( { 'left': left + 'px' } )\n\t\t\t\t.addClass('animated owl-animated-out')\n\t\t\t\t.addClass(outgoing);\n\t\t}\n\n\t\tif (incoming) {\n\t\t\tnext.one($.support.animation.end, clear)\n\t\t\t\t.addClass('animated owl-animated-in')\n\t\t\t\t.addClass(incoming);\n\t\t}\n\t};\n\n\tAnimate.prototype.clear = function(e) {\n\t\t$(e.target).css( { 'left': '' } )\n\t\t\t.removeClass('animated owl-animated-out owl-animated-in')\n\t\t\t.removeClass(this.core.settings.animateIn)\n\t\t\t.removeClass(this.core.settings.animateOut);\n\t\tthis.core.onTransitionEnd();\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tAnimate.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Animate = Animate;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Autoplay Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the autoplay plugin.\n\t * @class The Autoplay Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Autoplay = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * The autoplay timeout.\n\t\t * @type {Timeout}\n\t\t */\n\t\tthis._timeout = null;\n\n\t\t/**\n\t\t * Indicates whenever the autoplay is paused.\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._paused = false;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'settings') {\n\t\t\t\t\tif (this._core.settings.autoplay) {\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.stop();\n\t\t\t\t\t}\n\t\t\t\t} else if (e.namespace && e.property.name === 'position') {\n\t\t\t\t\t//console.log('play?', e);\n\t\t\t\t\tif (this._core.settings.autoplay) {\n\t\t\t\t\t\tthis._setAutoPlayInterval();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoplay) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'play.owl.autoplay': $.proxy(function(e, t, s) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.play(t, s);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'stop.owl.autoplay': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseover.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseleave.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchstart.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchend.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Autoplay.Defaults, this._core.options);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoplay.Defaults = {\n\t\tautoplay: false,\n\t\tautoplayTimeout: 5000,\n\t\tautoplayHoverPause: false,\n\t\tautoplaySpeed: false\n\t};\n\n\t/**\n\t * Starts the autoplay.\n\t * @public\n\t * @param {Number} [timeout] - The interval before the next animation starts.\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t */\n\tAutoplay.prototype.play = function(timeout, speed) {\n\t\tthis._paused = false;\n\n\t\tif (this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._core.enter('rotating');\n\n\t\tthis._setAutoPlayInterval();\n\t};\n\n\t/**\n\t * Gets a new timeout\n\t * @private\n\t * @param {Number} [timeout] - The interval before the next animation starts.\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t * @return {Timeout}\n\t */\n\tAutoplay.prototype._getNextTimeout = function(timeout, speed) {\n\t\tif ( this._timeout ) {\n\t\t\twindow.clearTimeout(this._timeout);\n\t\t}\n\t\treturn window.setTimeout($.proxy(function() {\n\t\t\tif (this._paused || this._core.is('busy') || this._core.is('interacting') || document.hidden) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._core.next(speed || this._core.settings.autoplaySpeed);\n\t\t}, this), timeout || this._core.settings.autoplayTimeout);\n\t};\n\n\t/**\n\t * Sets autoplay in motion.\n\t * @private\n\t */\n\tAutoplay.prototype._setAutoPlayInterval = function() {\n\t\tthis._timeout = this._getNextTimeout();\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.stop = function() {\n\t\tif (!this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.clearTimeout(this._timeout);\n\t\tthis._core.leave('rotating');\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.pause = function() {\n\t\tif (!this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._paused = true;\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoplay.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis.stop();\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.autoplay = Autoplay;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Navigation Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the navigation plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} carousel - The Owl Carousel.\n\t */\n\tvar Navigation = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Indicates whether the plugin is initialized or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._initialized = false;\n\n\t\t/**\n\t\t * The current paging indexes.\n\t\t * @protected\n\t\t * @type {Array}\n\t\t */\n\t\tthis._pages = [];\n\n\t\t/**\n\t\t * All DOM elements of the user interface.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._controls = {};\n\n\t\t/**\n\t\t * Markup for an indicator.\n\t\t * @protected\n\t\t * @type {Array.<String>}\n\t\t */\n\t\tthis._templates = [];\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * Overridden methods of the carousel.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._overrides = {\n\t\t\tnext: this._core.next,\n\t\t\tprev: this._core.prev,\n\t\t\tto: this._core.to\n\t\t};\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.push('<div class=\"' + this._core.settings.dotClass + '\">' +\n\t\t\t\t\t\t$(e.content).find('[data-dot]').addBack('[data-dot]').attr('data-dot') + '</div>');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'added.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 0, this._templates.pop());\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'remove.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 1);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.draw();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && !this._initialized) {\n\t\t\t\t\tthis._core.trigger('initialize', null, 'navigation');\n\t\t\t\t\tthis.initialize();\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._initialized = true;\n\t\t\t\t\tthis._core.trigger('initialized', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._initialized) {\n\t\t\t\t\tthis._core.trigger('refresh', null, 'navigation');\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._core.trigger('refreshed', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Navigation.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t * @todo Rename `slideBy` to `navBy`\n\t */\n\tNavigation.Defaults = {\n\t\tnav: false,\n\t\tnavText: [ 'prev', 'next' ],\n\t\tnavSpeed: false,\n\t\tnavElement: 'div',\n\t\tnavContainer: false,\n\t\tnavContainerClass: 'owl-nav',\n\t\tnavClass: [ 'owl-prev', 'owl-next' ],\n\t\tslideBy: 1,\n\t\tdotClass: 'owl-dot',\n\t\tdotsClass: 'owl-dots',\n\t\tdots: true,\n\t\tdotsEach: false,\n\t\tdotsData: false,\n\t\tdotsSpeed: false,\n\t\tdotsContainer: false\n\t};\n\n\t/**\n\t * Initializes the layout of the plugin and extends the carousel.\n\t * @protected\n\t */\n\tNavigation.prototype.initialize = function() {\n\t\tvar override,\n\t\t\tsettings = this._core.settings;\n\n\t\t// create DOM structure for relative navigation\n\t\tthis._controls.$relative = (settings.navContainer ? $(settings.navContainer)\n\t\t\t: $('<div>').addClass(settings.navContainerClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$previous = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[0])\n\t\t\t.html(settings.navText[0])\n\t\t\t.prependTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.prev(settings.navSpeed);\n\t\t\t}, this));\n\t\tthis._controls.$next = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[1])\n\t\t\t.html(settings.navText[1])\n\t\t\t.appendTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.next(settings.navSpeed);\n\t\t\t}, this));\n\n\t\t// create DOM structure for absolute navigation\n\t\tif (!settings.dotsData) {\n\t\t\tthis._templates = [ $('<div>')\n\t\t\t\t.addClass(settings.dotClass)\n\t\t\t\t.append($('<span>'))\n\t\t\t\t.prop('outerHTML') ];\n\t\t}\n\n\t\tthis._controls.$absolute = (settings.dotsContainer ? $(settings.dotsContainer)\n\t\t\t: $('<div>').addClass(settings.dotsClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$absolute.on('click', 'div', $.proxy(function(e) {\n\t\t\tvar index = $(e.target).parent().is(this._controls.$absolute)\n\t\t\t\t? $(e.target).index() : $(e.target).parent().index();\n\n\t\t\te.preventDefault();\n\n\t\t\tthis.to(index, settings.dotsSpeed);\n\t\t}, this));\n\n\t\t// override public methods of the carousel\n\t\tfor (override in this._overrides) {\n\t\t\tthis._core[override] = $.proxy(this[override], this);\n\t\t}\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @protected\n\t */\n\tNavigation.prototype.destroy = function() {\n\t\tvar handler, control, property, override;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (control in this._controls) {\n\t\t\tthis._controls[control].remove();\n\t\t}\n\t\tfor (override in this.overides) {\n\t\t\tthis._core[override] = this._overrides[override];\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the internal state.\n\t * @protected\n\t */\n\tNavigation.prototype.update = function() {\n\t\tvar i, j, k,\n\t\t\tlower = this._core.clones().length / 2,\n\t\t\tupper = lower + this._core.items().length,\n\t\t\tmaximum = this._core.maximum(true),\n\t\t\tsettings = this._core.settings,\n\t\t\tsize = settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items;\n\n\t\tif (settings.slideBy !== 'page') {\n\t\t\tsettings.slideBy = Math.min(settings.slideBy, settings.items);\n\t\t}\n\n\t\tif (settings.dots || settings.slideBy == 'page') {\n\t\t\tthis._pages = [];\n\n\t\t\tfor (i = lower, j = 0, k = 0; i < upper; i++) {\n\t\t\t\tif (j >= size || j === 0) {\n\t\t\t\t\tthis._pages.push({\n\t\t\t\t\t\tstart: Math.min(maximum, i - lower),\n\t\t\t\t\t\tend: i - lower + size - 1\n\t\t\t\t\t});\n\t\t\t\t\tif (Math.min(maximum, i - lower) === maximum) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tj = 0, ++k;\n\t\t\t\t}\n\t\t\t\tj += this._core.mergers(this._core.relative(i));\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Draws the user interface.\n\t * @todo The option `dotsData` wont work.\n\t * @protected\n\t */\n\tNavigation.prototype.draw = function() {\n\t\tvar difference,\n\t\t\tsettings = this._core.settings,\n\t\t\tdisabled = this._core.items().length <= settings.items,\n\t\t\tindex = this._core.relative(this._core.current()),\n\t\t\tloop = settings.loop || settings.rewind;\n\n\t\tthis._controls.$relative.toggleClass('disabled', !settings.nav || disabled);\n\n\t\tif (settings.nav) {\n\t\t\tthis._controls.$previous.toggleClass('disabled', !loop && index <= this._core.minimum(true));\n\t\t\tthis._controls.$next.toggleClass('disabled', !loop && index >= this._core.maximum(true));\n\t\t}\n\n\t\tthis._controls.$absolute.toggleClass('disabled', !settings.dots || disabled);\n\n\t\tif (settings.dots) {\n\t\t\tdifference = this._pages.length - this._controls.$absolute.children().length;\n\n\t\t\tif (settings.dotsData && difference !== 0) {\n\t\t\t\tthis._controls.$absolute.html(this._templates.join(''));\n\t\t\t} else if (difference > 0) {\n\t\t\t\tthis._controls.$absolute.append(new Array(difference + 1).join(this._templates[0]));\n\t\t\t} else if (difference < 0) {\n\t\t\t\tthis._controls.$absolute.children().slice(difference).remove();\n\t\t\t}\n\n\t\t\tthis._controls.$absolute.find('.active').removeClass('active');\n\t\t\tthis._controls.$absolute.children().eq($.inArray(this.current(), this._pages)).addClass('active');\n\t\t}\n\t};\n\n\t/**\n\t * Extends event data.\n\t * @protected\n\t * @param {Event} event - The event object which gets thrown.\n\t */\n\tNavigation.prototype.onTrigger = function(event) {\n\t\tvar settings = this._core.settings;\n\n\t\tevent.page = {\n\t\t\tindex: $.inArray(this.current(), this._pages),\n\t\t\tcount: this._pages.length,\n\t\t\tsize: settings && (settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items)\n\t\t};\n\t};\n\n\t/**\n\t * Gets the current page position of the carousel.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.current = function() {\n\t\tvar current = this._core.relative(this._core.current());\n\t\treturn $.grep(this._pages, $.proxy(function(page, index) {\n\t\t\treturn page.start <= current && page.end >= current;\n\t\t}, this)).pop();\n\t};\n\n\t/**\n\t * Gets the current succesor/predecessor position.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.getPosition = function(successor) {\n\t\tvar position, length,\n\t\t\tsettings = this._core.settings;\n\n\t\tif (settings.slideBy == 'page') {\n\t\t\tposition = $.inArray(this.current(), this._pages);\n\t\t\tlength = this._pages.length;\n\t\t\tsuccessor ? ++position : --position;\n\t\t\tposition = this._pages[((position % length) + length) % length].start;\n\t\t} else {\n\t\t\tposition = this._core.relative(this._core.current());\n\t\t\tlength = this._core.items().length;\n\t\t\tsuccessor ? position += settings.slideBy : position -= settings.slideBy;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Slides to the next item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.next = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(true), speed);\n\t};\n\n\t/**\n\t * Slides to the previous item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.prev = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(false), speed);\n\t};\n\n\t/**\n\t * Slides to the specified item or page.\n\t * @public\n\t * @param {Number} position - The position of the item or page.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t * @param {Boolean} [standard=false] - Whether to use the standard behaviour or not.\n\t */\n\tNavigation.prototype.to = function(position, speed, standard) {\n\t\tvar length;\n\n\t\tif (!standard && this._pages.length) {\n\t\t\tlength = this._pages.length;\n\t\t\t$.proxy(this._overrides.to, this._core)(this._pages[((position % length) + length) % length].start, speed);\n\t\t} else {\n\t\t\t$.proxy(this._overrides.to, this._core)(position, speed);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Navigation = Navigation;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Hash Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the hash plugin.\n\t * @class The Hash Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Hash = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Hash index for the items.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._hashes = {};\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.startPosition === 'URLHash') {\n\t\t\t\t\t$(window).trigger('hashchange.owl.navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tvar hash = $(e.content).find('[data-hash]').addBack('[data-hash]').attr('data-hash');\n\n\t\t\t\t\tif (!hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._hashes[hash] = e.content;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position') {\n\t\t\t\t\tvar current = this._core.items(this._core.relative(this._core.current())),\n\t\t\t\t\t\thash = $.map(this._hashes, function(item, hash) {\n\t\t\t\t\t\t\treturn item === current ? hash : null;\n\t\t\t\t\t\t}).join();\n\n\t\t\t\t\tif (!hash || window.location.hash.slice(1) === hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.location.hash = hash;\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Hash.Defaults, this._core.options);\n\n\t\t// register the event handlers\n\t\tthis.$element.on(this._handlers);\n\n\t\t// register event listener for hash navigation\n\t\t$(window).on('hashchange.owl.navigation', $.proxy(function(e) {\n\t\t\tvar hash = window.location.hash.substring(1),\n\t\t\t\titems = this._core.$stage.children(),\n\t\t\t\tposition = this._hashes[hash] && items.index(this._hashes[hash]);\n\n\t\t\tif (position === undefined || position === this._core.current()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._core.to(this._core.relative(position), false, true);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tHash.Defaults = {\n\t\tURLhashListener: false\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tHash.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\t$(window).off('hashchange.owl.navigation');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Hash = Hash;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Support Plugin\n *\n * @version 2.1.0\n * @author Vivid Planet Software GmbH\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\tvar style = $('<support>').get(0).style,\n\t\tprefixes = 'Webkit Moz O ms'.split(' '),\n\t\tevents = {\n\t\t\ttransition: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitTransition: 'webkitTransitionEnd',\n\t\t\t\t\tMozTransition: 'transitionend',\n\t\t\t\t\tOTransition: 'oTransitionEnd',\n\t\t\t\t\ttransition: 'transitionend'\n\t\t\t\t}\n\t\t\t},\n\t\t\tanimation: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitAnimation: 'webkitAnimationEnd',\n\t\t\t\t\tMozAnimation: 'animationend',\n\t\t\t\t\tOAnimation: 'oAnimationEnd',\n\t\t\t\t\tanimation: 'animationend'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttests = {\n\t\t\tcsstransforms: function() {\n\t\t\t\treturn !!test('transform');\n\t\t\t},\n\t\t\tcsstransforms3d: function() {\n\t\t\t\treturn !!test('perspective');\n\t\t\t},\n\t\t\tcsstransitions: function() {\n\t\t\t\treturn !!test('transition');\n\t\t\t},\n\t\t\tcssanimations: function() {\n\t\t\t\treturn !!test('animation');\n\t\t\t}\n\t\t};\n\n\tfunction test(property, prefixed) {\n\t\tvar result = false,\n\t\t\tupper = property.charAt(0).toUpperCase() + property.slice(1);\n\n\t\t$.each((property + ' ' + prefixes.join(upper + ' ') + upper).split(' '), function(i, property) {\n\t\t\tif (style[property] !== undefined) {\n\t\t\t\tresult = prefixed ? property : true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tfunction prefixed(property) {\n\t\treturn test(property, true);\n\t}\n\n\tif (tests.csstransitions()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transition = new String(prefixed('transition'))\n\t\t$.support.transition.end = events.transition.end[ $.support.transition ];\n\t}\n\n\tif (tests.cssanimations()) {\n\t\t/* jshint -W053 */\n\t\t$.support.animation = new String(prefixed('animation'))\n\t\t$.support.animation.end = events.animation.end[ $.support.animation ];\n\t}\n\n\tif (tests.csstransforms()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transform = new String(prefixed('transform'));\n\t\t$.support.transform3d = tests.csstransforms3d();\n\t}\n\n})(window.Zepto || window.jQuery, window, document);\n","'use strict';\n\nvar currentLanguage = $('html').attr('lang');\nvar siteUrl = $('body').data('site-url');\nvar templateUrl = $('body').data('template-url');\n\n$(document).ready(function() {\n\n\tsiteInit.slider();\n\tsiteInit.modal();\n\tsiteInit.toggleClass();\n\n});\n\n$(window).on('load', function() {\n\t// Load function\n});\n\n$(window).scroll(function() {\n\t// Scroll function\n});\n\n$(window).resize(function() {\n\n\tif (window.matchMedia('(min-width: 992px)').matches) {\n\t\t// The viewport is at least 992 pixels wide\n\t}\n\n});\n\nvar siteInit = {\n\t// Slider\n\tslider: function() {\n\n\t\tvar $el = $('.js-slider');\n\n\t\tif ($el.length == 0) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t$el.owlCarousel({\n\t\t\tloop: false,\n\t\t\tdots: true,\n\t\t\tmargin: 0,\n\t\t\tcenter: false,\n\t\t\tautoHeight: false,\n\t\t\tstagePadding: 0,\n\t\t\tresponsiveClass: true,\n\t\t\tresponsive: {\n\t\t\t\t0: {\n\t\t\t\t\tautoplay: true,\n\t\t\t\t\tnav: false,\n\t\t\t\t\titems: 1,\n\t\t\t\t\tdots: true\n\t\t\t\t},\n\t\t\t\t992: {\n\t\t\t\t\titems: 1,\n\t\t\t\t\tnav: true,\n\t\t\t\t\tdots: false\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t},\n\n\t// Modal\n\tmodal: function() {\n\n\t\tvar $el = $('[href$=\".jpg\"], [href$=\".png\"], [href$=\".gif\"], [href$=\".jpeg\"], [href$=\".webp\"]');\n\n\t\tif ($el.length == 0) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t$el.fancybox();\n\n\t},\n\n\t// Toggle class\n\ttoggleClass: function() {\n\n\t\tvar elName = '.js-toggle-class';\n\t\tvar $el = $(elName);\n\n\t\tif ($el.length == 0) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t$('body').on('click', elName, function(event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tvar $elCliked = $(this);\n\t\t\tvar toggleClassName = 'is-active';\n\n\t\t\t// Add data-toggle-class-name=\"customclass\" to change the default class name\n\t\t\tif ($elCliked.attr('data-toggle-class-name')) {\n\n\t\t\t\ttoggleClassName = $elCliked.data('toggle-class-name');\n\n\t\t\t}\n\n\t\t\t// Add data-toggle-class-selector=\"selector1 selector2\" to toggle class on different tag\n\t\t\tif ($elCliked.attr('data-toggle-class-selector')) {\n\n\t\t\t\tvar toggleClassSelector = $elCliked.data('toggle-class-selector');\n\t\t\t\tvar obj = toggleClassSelector.split(' ');\n\n\t\t\t\t$.each(obj, function(index, value) {\n\n\t\t\t\t\t$('.' + value).toggleClass(toggleClassName);\n\n\t\t\t\t});\n\n\t\t\t} else {\n\n\t\t\t\t$elCliked.toggleClass(toggleClassName);\n\n\t\t\t}\n\n\t\t});\n\n\t}\n};\n"]}